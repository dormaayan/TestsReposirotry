/** 
 * <p>Tests  {@link ThresholdUserNeighborhood}.</p> 
 */
public final class ThresholdNeighborhoodTest extends TasteTestCase {
  @Test public void testNeighborhood() throws Exception {
    DataModel dataModel=getDataModel();
    long[] neighborhood=new ThresholdUserNeighborhood(1.0,new DummySimilarity(dataModel),dataModel).getUserNeighborhood(1);
    assertNotNull(neighborhood);
    assertEquals(0,neighborhood.length);
    long[] neighborhood2=new ThresholdUserNeighborhood(0.8,new DummySimilarity(dataModel),dataModel).getUserNeighborhood(1);
    assertNotNull(neighborhood2);
    assertEquals(1,neighborhood2.length);
    assertTrue(arrayContains(neighborhood2,2));
    long[] neighborhood3=new ThresholdUserNeighborhood(0.6,new DummySimilarity(dataModel),dataModel).getUserNeighborhood(2);
    assertNotNull(neighborhood3);
    assertEquals(3,neighborhood3.length);
    assertTrue(arrayContains(neighborhood3,1));
    assertTrue(arrayContains(neighborhood3,3));
    assertTrue(arrayContains(neighborhood3,4));
  }
}
