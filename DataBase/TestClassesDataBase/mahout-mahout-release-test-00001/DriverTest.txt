/** 
 * Test case for  {@link Driver}
 */
public class DriverTest extends MahoutTestCase {
  @Test public void dictionary() throws IOException {
    ARFFModel model=new MapBackedARFFModel();
    ARFFVectorIterableTest.getVectors("sample-dense.arff",model);
    StringWriter writer=new StringWriter();
    Driver.writeLabelBindings(writer,model,",");
    String expected1=Resources.toString(Resources.getResource("expected-arff-dictionary.csv"),Charsets.UTF_8);
    String expected2=Resources.toString(Resources.getResource("expected-arff-dictionary-2.csv"),Charsets.UTF_8);
    assertTrue(expected1.equals(writer.toString()) || expected2.equals(writer.toString()));
  }
  @Test public void dictionaryJSON() throws IOException {
    ARFFModel model=new MapBackedARFFModel();
    ARFFVectorIterableTest.getVectors("sample-dense.arff",model);
    StringWriter writer=new StringWriter();
    Driver.writeLabelBindingsJSON(writer,model);
    String expected1=Resources.toString(Resources.getResource("expected-arff-schema.json"),Charsets.UTF_8);
    String expected2=Resources.toString(Resources.getResource("expected-arff-schema-2.json"),Charsets.UTF_8);
    assertTrue(expected1.equals(writer.toString()) || expected2.equals(writer.toString()));
  }
}
