public class ObservableLiftTest {
  @Test public void callbackCrash(){
    try {
      Observable.just(1).lift(new ObservableOperator<Object,Integer>(){
        @Override public Observer<? super Integer> apply(        Observer<? super Object> o) throws Exception {
          throw new TestException();
        }
      }
).test();
      fail("Should have thrown");
    }
 catch (    NullPointerException ex) {
      assertTrue(ex.toString(),ex.getCause() instanceof TestException);
    }
  }
}
