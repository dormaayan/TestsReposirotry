public class LockGroupTest {
  @Test public void shouldReleaseAllLocksWhenExitingTheLockGroupRegion(){
    Lock lock1=mock(Lock.class);
    Lock lock2=mock(Lock.class);
    Lock lock3=mock(Lock.class);
    try (LockGroup locks=new LockGroup()){
      locks.add(lock1);
      locks.add(lock2);
      locks.add(lock3);
    }
     verify(lock1,times(1)).release();
    verify(lock2,times(1)).release();
    verify(lock3,times(1)).release();
  }
}
