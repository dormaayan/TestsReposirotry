public class ManagementApiModuleTest {
  @Test public void shouldRegisterASingleUri() throws Exception {
    WebServer webServer=mock(WebServer.class);
    CommunityNeoServer neoServer=mock(CommunityNeoServer.class);
    when(neoServer.baseUri()).thenReturn(new URI("http://localhost:7575"));
    when(neoServer.getWebServer()).thenReturn(webServer);
    Map<String,String> params=new HashMap<>();
    String managementPath="/db/manage";
    params.put(ServerSettings.management_api_path.name(),managementPath);
    Config config=Config.defaults(params);
    when(neoServer.getConfig()).thenReturn(config);
    ManagementApiModule module=new ManagementApiModule(webServer,config);
    module.start();
    verify(webServer).addJAXRSClasses(anyListOf(String.class),anyString(),any());
  }
}
