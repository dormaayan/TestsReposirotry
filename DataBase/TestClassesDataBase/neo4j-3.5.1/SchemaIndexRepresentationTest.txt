public class SchemaIndexRepresentationTest {
  @Test public void shouldIncludeLabel(){
    String labelName="person";
    String propertyKey="name";
    IndexDefinition definition=mock(IndexDefinition.class);
    when(definition.isNodeIndex()).thenReturn(true);
    when(definition.getLabels()).thenReturn(singletonList(label(labelName)));
    when(definition.getPropertyKeys()).thenReturn(singletonList(propertyKey));
    IndexDefinitionRepresentation representation=new IndexDefinitionRepresentation(definition);
    Map<String,Object> serialized=RepresentationTestAccess.serialize(representation);
    assertEquals(singletonList(propertyKey),serialized.get("property_keys"));
    assertEquals(labelName,serialized.get("label"));
  }
}
