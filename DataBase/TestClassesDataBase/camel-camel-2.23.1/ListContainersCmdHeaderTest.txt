/** 
 * Validates List Containers Request headers are applied properly
 */
public class ListContainersCmdHeaderTest extends BaseDockerHeaderTest<ListContainersCmd> {
  @Mock private ListContainersCmd mockObject;
  @Test public void listContainerHeaderTest(){
    boolean showSize=true;
    boolean showAll=false;
    int limit=2;
    String since="id1";
    String before="id2";
    Map<String,Object> headers=getDefaultParameters();
    headers.put(DockerConstants.DOCKER_LIMIT,limit);
    headers.put(DockerConstants.DOCKER_SHOW_ALL,showAll);
    headers.put(DockerConstants.DOCKER_SHOW_SIZE,showSize);
    headers.put(DockerConstants.DOCKER_SINCE,since);
    headers.put(DockerConstants.DOCKER_BEFORE,before);
    template.sendBodyAndHeaders("direct:in","",headers);
    Mockito.verify(dockerClient,Mockito.times(1)).listContainersCmd();
    Mockito.verify(mockObject,Mockito.times(1)).withShowAll(eq(showAll));
    Mockito.verify(mockObject,Mockito.times(1)).withShowSize(eq(showSize));
    Mockito.verify(mockObject,Mockito.times(1)).withLimit(eq(limit));
    Mockito.verify(mockObject,Mockito.times(1)).withSince(eq(since));
    Mockito.verify(mockObject,Mockito.times(1)).withBefore(eq(before));
  }
  @Override protected void setupMocks(){
    Mockito.when(dockerClient.listContainersCmd()).thenReturn(mockObject);
  }
  @Override protected DockerOperation getOperation(){
    return DockerOperation.LIST_CONTAINERS;
  }
}
