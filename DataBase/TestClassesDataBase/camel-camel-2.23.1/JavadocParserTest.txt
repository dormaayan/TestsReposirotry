/** 
 * Test JavadocParser using  {@link java.lang.String} javadoc for Java 6, 7 and 8.
 */
public class JavadocParserTest extends Assert {
  @Test public void testGetMethods() throws Exception {
    final DTD dtd=DTD.getDTD("html.dtd");
    final String javaDocPath=String.class.getName().replaceAll("\\.","/") + ".html";
    final JavadocParser htmlParser=new JavadocParser(dtd,javaDocPath);
    htmlParser.parse(new InputStreamReader(JavadocParserTest.class.getResourceAsStream("/Java6_String.html"),"UTF-8"));
    assertNull("Java6 getErrorMessage",htmlParser.getErrorMessage());
    assertEquals("Java6 getMethods",65,htmlParser.getMethods().size());
    htmlParser.reset();
    htmlParser.parse(new InputStreamReader(JavadocParserTest.class.getResourceAsStream("/Java7_String.html"),"UTF-8"));
    assertNull("Java7 getErrorMessage",htmlParser.getErrorMessage());
    assertEquals("Java7 getMethods",65,htmlParser.getMethods().size());
    htmlParser.reset();
    htmlParser.parse(new InputStreamReader(JavadocParserTest.class.getResourceAsStream("/Java8_String.html"),"UTF-8"));
    assertNull("Java8 getErrorMessage",htmlParser.getErrorMessage());
    assertEquals("Java8 getMethods",67,htmlParser.getMethods().size());
    htmlParser.reset();
    htmlParser.parse(new InputStreamReader(JavadocParserTest.class.getResourceAsStream("/Java11_String.html"),"UTF-8"));
    assertNull("Java11 getErrorMessage",htmlParser.getErrorMessage());
    assertEquals("Java11 getMethods",75,htmlParser.getMethods().size());
    htmlParser.reset();
  }
}
