/** 
 * @version 
 */
public class Mina2VMFileTcpTest extends BaseMina2Test {
  @Test public void testMinaRoute() throws Exception {
    MockEndpoint endpoint=getMockEndpoint("mock:results");
    endpoint.expectedMessageCount(1);
    endpoint.message(0).body().startsWith("Hello World");
    assertMockEndpointsSatisfied();
  }
  protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from(String.format("mina2:vm://localhost:%1$s?sync=false&textline=true",getPort())).to("mock:results");
        from("file:src/test/data?noop=true&fileName=message1.txt").to(String.format("mina2:vm://localhost:%1$s?sync=false&textline=true",getPort()));
      }
    }
;
  }
}
