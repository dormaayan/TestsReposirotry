public class RssPollingConsumerWithFeedHeaderDisabledTest extends CamelTestSupport {
  @Test public void testNoFeedInHeader() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedMessageCount(1);
    mock.assertIsSatisfied();
    Exchange exchange=mock.getExchanges().get(0);
    Message in=exchange.getIn();
    assertNotNull(in);
    assertNull(in.getHeader(RssConstants.RSS_FEED));
  }
  protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure() throws Exception {
        from("rss:file:src/test/data/rss20.xml?splitEntries=false&consumer.delay=500&feedHeader=false").to("mock:result");
      }
    }
;
  }
}
