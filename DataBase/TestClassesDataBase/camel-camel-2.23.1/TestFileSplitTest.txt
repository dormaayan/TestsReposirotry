public class TestFileSplitTest extends ContextTestSupport {
  @Override public boolean isUseRouteBuilder(){
    return false;
  }
  @Override @Before public void setUp() throws Exception {
    deleteDirectory("target/testme");
    super.setUp();
  }
  @Ignore @Test public void testFile() throws Exception {
    template.sendBody("file:target/testme","Hello World\nBye World\nHi World");
    context.addRoutes(new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:start").to("test:file:target/testme?noop=true&split=true&timeout=1000");
      }
    }
);
    context.start();
    template.sendBody("direct:start","Hello World");
    template.sendBody("direct:start","Bye World");
    template.sendBody("direct:start","Hi World");
    assertMockEndpointsSatisfied();
  }
}
