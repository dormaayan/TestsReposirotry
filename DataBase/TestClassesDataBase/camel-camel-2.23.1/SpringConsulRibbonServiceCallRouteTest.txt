public class SpringConsulRibbonServiceCallRouteTest extends SpringConsulServiceCallRouteTest {
  @Override protected AbstractApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/consul/cloud/SpringConsulRibbonServiceCallRouteTest.xml");
  }
  @Test public void testServiceCallConfiguration() throws Exception {
    List<DefaultServiceCallProcessor> processors=findServiceCallProcessors();
    Assert.assertFalse(processors.isEmpty());
    Assert.assertEquals(2,processors.size());
    Assert.assertTrue(processors.get(0).getLoadBalancer() instanceof RibbonServiceLoadBalancer);
    Assert.assertTrue(processors.get(1).getLoadBalancer() instanceof RibbonServiceLoadBalancer);
  }
}
