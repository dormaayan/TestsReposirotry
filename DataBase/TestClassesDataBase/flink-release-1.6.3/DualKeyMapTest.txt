/** 
 * Tests for the  {@link DualKeyMap}.
 */
public class DualKeyMapTest extends TestLogger {
  @Test public void testKeySets(){
    final Random random=new Random();
    final int capacity=10;
    final Set<Tuple2<Integer,Integer>> keys=new HashSet<>(capacity);
    for (int i=0; i < capacity; i++) {
      int keyA=random.nextInt();
      int keyB=random.nextInt();
      keys.add(Tuple2.of(keyA,keyB));
    }
    final DualKeyMap<Integer,Integer,String> dualKeyMap=new DualKeyMap<>(capacity);
    for (    Tuple2<Integer,Integer> key : keys) {
      dualKeyMap.put(key.f0,key.f1,"foobar");
    }
    assertThat(dualKeyMap.keySetA(),Matchers.equalTo(keys.stream().map(t -> t.f0).collect(Collectors.toSet())));
    assertThat(dualKeyMap.keySetB(),Matchers.equalTo(keys.stream().map(t -> t.f1).collect(Collectors.toSet())));
  }
}
