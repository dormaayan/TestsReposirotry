@Configuration static class ReactiveClientRepositoryConfiguration {
  @Bean public ReactiveClientRegistrationRepository clientRegistrationRepository(){
    List<ClientRegistration> registrations=new ArrayList<>();
    registrations.add(getClientRegistration("first","http://user-info-uri.com"));
    registrations.add(getClientRegistration("second","http://other-user-info"));
    return new InMemoryReactiveClientRegistrationRepository(registrations);
  }
  private ClientRegistration getClientRegistration(  String id,  String userInfoUri){
    ClientRegistration.Builder builder=ClientRegistration.withRegistrationId(id);
    builder.clientName("foo").clientId("foo").clientAuthenticationMethod(org.springframework.security.oauth2.core.ClientAuthenticationMethod.BASIC).authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE).scope("read").clientSecret("secret").redirectUriTemplate("http://redirect-uri.com").authorizationUri("http://authorization-uri.com").tokenUri("http://token-uri.com").userInfoUri(userInfoUri).userNameAttributeName("login");
    return builder.build();
  }
}
