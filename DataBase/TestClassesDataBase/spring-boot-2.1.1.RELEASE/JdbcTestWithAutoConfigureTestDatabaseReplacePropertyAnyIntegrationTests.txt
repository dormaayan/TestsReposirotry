/** 
 * Integration tests for  {@link JdbcTest}.
 * @author Phillip Webb
 * @author Stephane Nicoll
 */
@RunWith(SpringRunner.class) @JdbcTest @AutoConfigureTestDatabase(connection=EmbeddedDatabaseConnection.HSQL) @TestPropertySource(properties="spring.test.database.replace=ANY") public class JdbcTestWithAutoConfigureTestDatabaseReplacePropertyAnyIntegrationTests {
  @Autowired private DataSource dataSource;
  @Test public void replacesDefinedDataSourceWithExplicit() throws Exception {
    String product=this.dataSource.getConnection().getMetaData().getDatabaseProductName();
    assertThat(product).startsWith("HSQL");
  }
@Configuration @EnableAutoConfiguration static class Config {
    @Bean public DataSource dataSource(){
      return new EmbeddedDatabaseBuilder().generateUniqueName(true).setType(EmbeddedDatabaseType.H2).build();
    }
  }
}
