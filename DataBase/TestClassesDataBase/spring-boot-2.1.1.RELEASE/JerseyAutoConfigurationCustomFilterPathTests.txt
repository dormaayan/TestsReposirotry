/** 
 * Tests for  {@link JerseyAutoConfiguration} when using custom servlet paths.
 * @author Dave Syer
 */
@RunWith(SpringRunner.class) @SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT,properties="spring.jersey.type=filter") @DirtiesContext public class JerseyAutoConfigurationCustomFilterPathTests {
  @Autowired private TestRestTemplate restTemplate;
  @Test public void contextLoads(){
    ResponseEntity<String> entity=this.restTemplate.getForEntity("/rest/hello",String.class);
    assertThat(entity.getStatusCode()).isEqualTo(HttpStatus.OK);
  }
@MinimalWebConfiguration @ApplicationPath("rest") @Path("/hello") public static class Application extends ResourceConfig {
    @Value("${message:World}") private String msg;
    @GET public String message(){
      return "Hello " + this.msg;
    }
    public Application(){
      register(Application.class);
    }
    public static void main(    String[] args){
      SpringApplication.run(Application.class,args);
    }
  }
  @Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Documented @Configuration @Import({ServletWebServerFactoryAutoConfiguration.class,JerseyAutoConfiguration.class,PropertyPlaceholderAutoConfiguration.class}) protected @interface MinimalWebConfiguration {}
}
