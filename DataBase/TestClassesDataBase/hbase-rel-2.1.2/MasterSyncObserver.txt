public static class MasterSyncObserver implements MasterCoprocessor, MasterObserver {
  volatile CountDownLatch tableCreationLatch=null;
  volatile CountDownLatch tableDeletionLatch=null;
  @Override public Optional<MasterObserver> getMasterObserver(){
    return Optional.of(this);
  }
  @Override public void postCompletedCreateTableAction(  final ObserverContext<MasterCoprocessorEnvironment> ctx,  final TableDescriptor desc,  final RegionInfo[] regions) throws IOException {
    if (tableCreationLatch != null) {
      tableCreationLatch.countDown();
    }
  }
  @Override public void postCompletedDeleteTableAction(  final ObserverContext<MasterCoprocessorEnvironment> ctx,  final TableName tableName) throws IOException {
    if (tableDeletionLatch != null) {
      tableDeletionLatch.countDown();
    }
  }
}
