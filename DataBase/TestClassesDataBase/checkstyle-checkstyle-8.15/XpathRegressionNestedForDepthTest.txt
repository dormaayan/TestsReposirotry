public class XpathRegressionNestedForDepthTest extends AbstractXpathTestSupport {
  private final String checkName=NestedForDepthCheck.class.getSimpleName();
  @Override protected String getCheckName(){
    return checkName;
  }
  @Test public void testCorrect() throws Exception {
    final File fileToProcess=new File(getPath("SuppressionXpathRegressionNestedForDepth.java"));
    final DefaultConfiguration moduleConfig=createModuleConfig(NestedForDepthCheck.class);
    final String[] expectedViolation={"7:17: " + getCheckMessage(NestedForDepthCheck.class,NestedForDepthCheck.MSG_KEY,2,1)};
    final List<String> expectedXpathQueries=Collections.singletonList("/CLASS_DEF[@text='SuppressionXpathRegressionNestedForDepth']/OBJBLOCK" + "/METHOD_DEF[@text='test']/SLIST/LITERAL_FOR/SLIST/LITERAL_FOR/SLIST/LITERAL_FOR");
    runVerifications(moduleConfig,fileToProcess,expectedViolation,expectedXpathQueries);
  }
}
