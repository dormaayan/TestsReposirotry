@Test public void testAddMultipleAddressesForSameHostname() throws Exception {
  InetAddress addr1=InetAddress.getByAddress(new byte[]{10,0,0,1});
  InetAddress addr2=InetAddress.getByAddress(new byte[]{10,0,0,2});
  EventLoopGroup group=new DefaultEventLoopGroup(1);
  try {
    EventLoop loop=group.next();
    final DefaultDnsCache cache=new DefaultDnsCache();
    cache.cache("netty.io",null,addr1,1,loop);
    cache.cache("netty.io",null,addr2,10000,loop);
    List<? extends DnsCacheEntry> entries=cache.get("netty.io",null);
    assertEquals(2,entries.size());
    assertEntry(entries.get(0),addr1);
    assertEntry(entries.get(1),addr2);
  }
  finally {
    group.shutdownGracefully();
  }
}
