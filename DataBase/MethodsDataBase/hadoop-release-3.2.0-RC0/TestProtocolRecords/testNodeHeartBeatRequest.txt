@Test public void testNodeHeartBeatRequest() throws IOException {
  NodeHeartbeatRequest record=Records.newRecord(NodeHeartbeatRequest.class);
  NodeStatus nodeStatus=Records.newRecord(NodeStatus.class);
  OpportunisticContainersStatus opportunisticContainersStatus=Records.newRecord(OpportunisticContainersStatus.class);
  opportunisticContainersStatus.setEstimatedQueueWaitTime(123);
  opportunisticContainersStatus.setWaitQueueLength(321);
  nodeStatus.setOpportunisticContainersStatus(opportunisticContainersStatus);
  record.setNodeStatus(nodeStatus);
  Set<NodeAttribute> attributeSet=Sets.newHashSet(NodeAttribute.newInstance("attributeA",NodeAttributeType.STRING,"valueA"),NodeAttribute.newInstance("attributeB",NodeAttributeType.STRING,"valueB"));
  record.setNodeAttributes(attributeSet);
  NodeHeartbeatRequestPBImpl pb=new NodeHeartbeatRequestPBImpl(((NodeHeartbeatRequestPBImpl)record).getProto());
  Assert.assertEquals(123,pb.getNodeStatus().getOpportunisticContainersStatus().getEstimatedQueueWaitTime());
  Assert.assertEquals(321,pb.getNodeStatus().getOpportunisticContainersStatus().getWaitQueueLength());
  Assert.assertEquals(2,pb.getNodeAttributes().size());
}
