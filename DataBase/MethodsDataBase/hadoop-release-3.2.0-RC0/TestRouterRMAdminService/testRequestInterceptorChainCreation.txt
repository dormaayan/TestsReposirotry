/** 
 * Tests if the pipeline is created properly.
 */
@Test public void testRequestInterceptorChainCreation() throws Exception {
  RMAdminRequestInterceptor root=super.getRouterRMAdminService().createRequestInterceptorChain();
  int index=0;
  while (root != null) {
switch (index) {
case 0:
case 1:
case 2:
      Assert.assertEquals(PassThroughRMAdminRequestInterceptor.class.getName(),root.getClass().getName());
    break;
case 3:
  Assert.assertEquals(MockRMAdminRequestInterceptor.class.getName(),root.getClass().getName());
break;
default :
Assert.fail();
}
root=root.getNextInterceptor();
index++;
}
Assert.assertEquals("The number of interceptors in chain does not match",4,index);
}
