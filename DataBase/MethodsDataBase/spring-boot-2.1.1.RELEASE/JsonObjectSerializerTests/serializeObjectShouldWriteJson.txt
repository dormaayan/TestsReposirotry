@Test public void serializeObjectShouldWriteJson() throws Exception {
  Serializer serializer=new NameAndAgeJsonComponent.Serializer();
  SimpleModule module=new SimpleModule();
  module.addSerializer(NameAndAge.class,serializer);
  ObjectMapper mapper=new ObjectMapper();
  mapper.registerModule(module);
  String json=mapper.writeValueAsString(new NameAndAge("spring",100));
  assertThat(json).isEqualToIgnoringWhitespace("{\"name\":\"spring\",\"age\":100}");
}
