@Test public void testActivateUser() throws NotFoundException, ActivationException {
  try {
    userService.activateUser("1").toBlocking().single();
  }
  finally {
    assertEquals(1,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
    com.netflix.hystrix.HystrixInvokableInfo activateUserCommand=getHystrixCommandByKey("activateUser");
    assertTrue(activateUserCommand.getExecutionEvents().contains(HystrixEventType.FAILURE));
    assertTrue(activateUserCommand.getExecutionEvents().contains(HystrixEventType.FALLBACK_SUCCESS));
    verify(failoverService,atLeastOnce()).activate();
  }
}
