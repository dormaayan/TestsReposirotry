@Test public void testInvalidLoading2() throws Exception {
  int nIn=5;
  int nOut=6;
  MultiLayerConfiguration conf=new NeuralNetConfiguration.Builder().seed(12345).l1(0.01).l2(0.01).updater(new Sgd(0.1)).activation(Activation.TANH).weightInit(WeightInit.XAVIER).list().layer(0,new DenseLayer.Builder().nIn(nIn).nOut(20).build()).layer(1,new DenseLayer.Builder().nIn(20).nOut(30).build()).layer(2,new OutputLayer.Builder().lossFunction(LossFunctions.LossFunction.MSE).nIn(30).nOut(nOut).build()).build();
  MultiLayerNetwork net=new MultiLayerNetwork(conf);
  net.init();
  File tempFile=tempDir.newFile("testInvalidLoading2.bin");
  ModelSerializer.writeModel(net,tempFile,true);
  try {
    ModelSerializer.restoreComputationGraph(tempFile);
    fail();
  }
 catch (  Exception e) {
    String msg=e.getMessage();
    assertTrue(msg,msg.contains("JSON") && msg.contains("restoreMultiLayerNetwork"));
  }
}
