@Test public void lambdaCreateFunctionTest() throws Exception {
  Exchange exchange=template.send("direct:createFunction",ExchangePattern.InOut,new Processor(){
    @Override public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(LambdaConstants.RUNTIME,"nodejs6.10");
      exchange.getIn().setHeader(LambdaConstants.HANDLER,"GetHelloWithName.handler");
      exchange.getIn().setHeader(LambdaConstants.DESCRIPTION,"Hello with node.js on Lambda");
      exchange.getIn().setHeader(LambdaConstants.ROLE,"arn:aws:iam::643534317684:role/lambda-execution-role");
      ClassLoader classLoader=getClass().getClassLoader();
      File file=new File(classLoader.getResource("org/apache/camel/component/aws/lambda/function/node/GetHelloWithName.zip").getFile());
      FileInputStream inputStream=new FileInputStream(file);
      exchange.getIn().setBody(IOUtils.toByteArray(inputStream));
    }
  }
);
  assertMockEndpointsSatisfied();
  CreateFunctionResult result=(CreateFunctionResult)exchange.getIn().getBody();
  assertEquals(result.getFunctionName(),"GetHelloWithName");
  assertEquals(result.getDescription(),"Hello with node.js on Lambda");
  assertNotNull(result.getFunctionArn());
  assertNotNull(result.getCodeSha256());
}
