@Test public void testProducerWithValidFile() throws Exception {
  final String msg="test";
  MockEndpoint mock=getMockEndpoint("mock:password");
  mock.expectedMinimumMessageCount(1);
  mock.expectedBodiesReceived(msg);
  mock.expectedHeaderReceived(SshResult.EXIT_VALUE,0);
  mock.expectedHeaderReceived(SshResult.STDERR,"Error:test");
  template.sendBody("direct:ssh",msg);
  assertMockEndpointsSatisfied();
}
