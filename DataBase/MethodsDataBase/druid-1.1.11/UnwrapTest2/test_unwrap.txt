public void test_unwrap() throws Exception {
  Connection conn=dataSource.getConnection();
  Assert.assertTrue(conn.isWrapperFor(DruidPooledConnection.class));
  Assert.assertNotNull(conn.unwrap(DruidPooledConnection.class));
  Assert.assertSame(conn,conn.unwrap(DruidPooledConnection.class));
  Assert.assertTrue(conn.isWrapperFor(MockConnection.class));
  Assert.assertNotNull(conn.unwrap(MockConnection.class));
  Statement stmt=conn.createStatement();
  Assert.assertTrue(stmt.isWrapperFor(Statement.class));
  Assert.assertNotNull(stmt.unwrap(Statement.class));
  Assert.assertTrue(stmt.isWrapperFor(StatementProxy.class));
  Assert.assertNotNull(stmt.unwrap(StatementProxy.class));
  Assert.assertTrue(stmt.isWrapperFor(StatementProxyImpl.class));
  Assert.assertNotNull(stmt.unwrap(StatementProxyImpl.class));
  Assert.assertTrue(stmt.isWrapperFor(MockStatement.class));
  Assert.assertNotNull(stmt.unwrap(MockStatement.class));
  ResultSet rs=stmt.executeQuery("select 1");
  Assert.assertTrue(rs.isWrapperFor(ResultSet.class));
  Assert.assertNotNull(rs.unwrap(ResultSet.class));
  Assert.assertTrue(rs.isWrapperFor(ResultSetProxy.class));
  Assert.assertNotNull(rs.unwrap(ResultSetProxy.class));
  Assert.assertTrue(rs.isWrapperFor(ResultSetProxyImpl.class));
  Assert.assertNotNull(rs.unwrap(ResultSetProxyImpl.class));
  Assert.assertTrue(rs.isWrapperFor(MockResultSet.class));
  Assert.assertNotNull(rs.unwrap(MockResultSet.class));
  rs.close();
  stmt.close();
  conn.close();
}
