@Test public void test(){
  dontUnloadClass();
  ClassNode cls=getClassNode(TestCls.class);
  MethodNode mth=getMethod(cls,"method");
  String code=cls.getCode().toString();
  assertThat(code,containsString("return (int[]) o;"));
  List<InsnNode> insns=mth.getBasicBlocks().get(1).getInstructions();
  assertThat(insns,hasSize(1));
  InsnNode insnNode=insns.get(0);
  assertThat(insnNode.getType(),is(InsnType.RETURN));
  assertTrue(insnNode.getArg(0).isInsnWrap());
  InsnNode wrapInsn=((InsnWrapArg)insnNode.getArg(0)).getWrapInsn();
  assertThat(wrapInsn.getType(),is(InsnType.CHECK_CAST));
  assertFalse(wrapInsn.getArg(0).isInsnWrap());
}
