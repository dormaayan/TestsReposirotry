/** 
 * Tests that track selector will prefer audio tracks with lower sample rate over tracks with lower bitrate when other factors are the same, and tracks are within renderer's capabilities.
 */
@Test public void testSelectTracksExceedingCapabilitiesPreferLowerSampleRateBeforeBitrate() throws Exception {
  Format higherSampleRateLowerBitrateFormat=Format.createAudioSampleFormat("audioFormat",MimeTypes.AUDIO_AAC,null,15000,Format.NO_VALUE,2,44100,null,null,0,null);
  Format lowerSampleRateHigherBitrateFormat=Format.createAudioSampleFormat("audioFormat",MimeTypes.AUDIO_AAC,null,30000,Format.NO_VALUE,2,22050,null,null,0,null);
  TrackSelectorResult result=trackSelector.selectTracks(new RendererCapabilities[]{ALL_AUDIO_FORMAT_EXCEEDED_RENDERER_CAPABILITIES},singleTrackGroup(higherSampleRateLowerBitrateFormat,lowerSampleRateHigherBitrateFormat));
  assertThat(result.selections.get(0).getSelectedFormat()).isEqualTo(lowerSampleRateHigherBitrateFormat);
}
