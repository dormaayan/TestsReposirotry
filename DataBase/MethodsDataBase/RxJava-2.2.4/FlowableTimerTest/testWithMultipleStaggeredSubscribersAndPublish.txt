@Test public void testWithMultipleStaggeredSubscribersAndPublish(){
  ConnectableFlowable<Long> w=Flowable.interval(1,TimeUnit.SECONDS,scheduler).publish();
  TestSubscriber<Long> ts1=new TestSubscriber<Long>();
  w.subscribe(ts1);
  w.connect();
  ts1.assertNoValues();
  scheduler.advanceTimeTo(2,TimeUnit.SECONDS);
  TestSubscriber<Long> ts2=new TestSubscriber<Long>();
  w.subscribe(ts2);
  ts1.assertValues(0L,1L);
  ts1.assertNoErrors();
  ts1.assertNotComplete();
  ts2.assertNoValues();
  scheduler.advanceTimeTo(4,TimeUnit.SECONDS);
  ts1.assertValues(0L,1L,2L,3L);
  ts2.assertValues(2L,3L);
  ts1.dispose();
  ts2.dispose();
  ts1.assertValues(0L,1L,2L,3L);
  ts1.assertNoErrors();
  ts1.assertNotComplete();
  ts2.assertValues(2L,3L);
  ts2.assertNoErrors();
  ts2.assertNotComplete();
}
