@Test @SuppressWarnings("unchecked") public void supplierReturnsNull2(){
  Observable.<Integer>never().buffer(1,TimeUnit.MILLISECONDS,Schedulers.single(),10,new Callable<Collection<Integer>>(){
    int count;
    @Override public Collection<Integer> call() throws Exception {
      if (count++ == 1) {
        return null;
      }
 else {
        return new ArrayList<Integer>();
      }
    }
  }
,false).test().awaitDone(5,TimeUnit.SECONDS).assertFailure(NullPointerException.class);
}
