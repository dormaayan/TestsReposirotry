@Test public void doOnTerminateError(){
  final AtomicBoolean r=new AtomicBoolean();
  Flowable.<String>error(new TestException()).doOnTerminate(new Action(){
    @Override public void run(){
      r.set(true);
    }
  }
).test().assertFailure(TestException.class);
  assertTrue(r.get());
}
