@Test public void testReplaySubjectValueRelayBounded(){
  ReplaySubject<Integer> async=ReplaySubject.createWithSize(1);
  async.onNext(0);
  async.onNext(1);
  async.onComplete();
  Subject<Integer> serial=async.toSerialized();
  assertFalse(serial.hasObservers());
  assertTrue(serial.hasComplete());
  assertFalse(serial.hasThrowable());
  assertNull(serial.getThrowable());
  assertEquals((Integer)1,async.getValue());
  assertTrue(async.hasValue());
  assertArrayEquals(new Object[]{1},async.getValues());
  assertArrayEquals(new Integer[]{1},async.getValues(new Integer[0]));
  assertArrayEquals(new Integer[]{1},async.getValues(new Integer[]{0}));
  assertArrayEquals(new Integer[]{1,null},async.getValues(new Integer[]{0,0}));
}
