@Test public void testExtend(){
  final TestSubscriber<Object> subscriber=new TestSubscriber<Object>();
  final Object value=new Object();
  Object returned=Flowable.just(value).to(new Function<Flowable<Object>,Object>(){
    @Override public Object apply(    Flowable<Object> onSubscribe){
      onSubscribe.subscribe(subscriber);
      subscriber.assertNoErrors();
      subscriber.assertComplete();
      subscriber.assertValue(value);
      return subscriber.values().get(0);
    }
  }
);
  assertSame(returned,value);
}
