@Test public void middleError(){
  Observable.fromArray(new String[]{"1","a","2"}).flatMapSingle(new Function<String,SingleSource<Integer>>(){
    @Override public SingleSource<Integer> apply(    final String s) throws NumberFormatException {
      return Single.fromCallable(new Callable<Integer>(){
        @Override public Integer call() throws NumberFormatException {
          return Integer.valueOf(s);
        }
      }
);
    }
  }
).test().assertFailure(NumberFormatException.class,1);
}
