@Test public void noHeadRetentionCompleteSize(){
  ReplaySubject<Integer> source=ReplaySubject.createWithSize(1);
  source.onNext(1);
  source.onNext(2);
  source.onComplete();
  SizeBoundReplayBuffer<Integer> buf=(SizeBoundReplayBuffer<Integer>)source.buffer;
  assertNull(buf.head.value);
  Object o=buf.head;
  source.cleanupBuffer();
  assertSame(o,buf.head);
}
