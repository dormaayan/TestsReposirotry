@Test public void testSetLineSeparatorFailure() throws Exception {
  final DefaultConfiguration checkConfig=createModuleConfig(NewlineAtEndOfFileCheck.class);
  checkConfig.addAttribute("lineSeparator","ct");
  try {
    createChecker(checkConfig);
    fail("exception expected");
  }
 catch (  CheckstyleException ex) {
    assertTrue("Error message is unexpected",ex.getMessage().startsWith("cannot initialize module com.puppycrawl.tools.checkstyle." + "checks.NewlineAtEndOfFileCheck - " + "Cannot set property 'lineSeparator' to 'ct' in module"));
  }
}
