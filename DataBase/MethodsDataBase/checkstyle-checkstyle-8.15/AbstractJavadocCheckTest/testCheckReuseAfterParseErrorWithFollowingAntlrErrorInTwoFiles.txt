@Test public void testCheckReuseAfterParseErrorWithFollowingAntlrErrorInTwoFiles() throws Exception {
  final DefaultConfiguration checkConfig=createModuleConfig(TempCheck.class);
  final Map<String,List<String>> expectedMessages=new LinkedHashMap<>(2);
  expectedMessages.put(getPath("InputAbstractJavadocParsingErrors.java"),asList("4: " + getCheckMessage(MSG_JAVADOC_MISSED_HTML_CLOSE,4,"unclosedTag"),"8: " + getCheckMessage(MSG_JAVADOC_WRONG_SINGLETON_TAG,35,"img")));
  expectedMessages.put(getPath("InputAbstractJavadocInvalidAtSeeReference.java"),singletonList("4: " + getCheckMessage(MSG_JAVADOC_PARSE_RULE_ERROR,78,"mismatched input '(' expecting <EOF>","JAVADOC")));
  verify(createChecker(checkConfig),new File[]{new File(getPath("InputAbstractJavadocParsingErrors.java")),new File(getPath("InputAbstractJavadocInvalidAtSeeReference.java"))},expectedMessages);
  assertEquals("Error is unexpected","",systemErr.getLog());
}
