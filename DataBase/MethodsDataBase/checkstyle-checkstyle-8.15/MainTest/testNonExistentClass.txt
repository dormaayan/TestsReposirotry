@Test public void testNonExistentClass() throws Exception {
  exit.expectSystemExitWithStatus(-2);
  exit.checkAssertionAfterwards(() -> {
    final String expectedExceptionMessage=errorCounterOneMessage.getMessage() + EOL;
    assertEquals("Unexpected output log",expectedExceptionMessage,systemOut.getLog());
    final String cause="com.puppycrawl.tools.checkstyle.api.CheckstyleException:" + " cannot initialize module TreeWalker - ";
    assertTrue("Unexpected system error log",systemErr.getLog().startsWith(cause));
  }
);
  Main.main("-c",getPath("InputMainConfig-non-existent-classname.xml"),getPath("InputMain.java"));
}
