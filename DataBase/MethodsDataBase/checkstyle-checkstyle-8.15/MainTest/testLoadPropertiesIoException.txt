@Test public void testLoadPropertiesIoException() throws Exception {
  final Class<?>[] param=new Class<?>[1];
  param[0]=File.class;
  final Class<?> cliOptionsClass=Class.forName(Main.class.getName());
  final Method method=cliOptionsClass.getDeclaredMethod("loadProperties",param);
  method.setAccessible(true);
  try {
    method.invoke(null,new File("."));
    fail("Exception was expected");
  }
 catch (  InvocationTargetException ex) {
    assertTrue("Invalid error cause",ex.getCause() instanceof CheckstyleException);
    final LocalizedMessage loadPropertiesMessage=new LocalizedMessage(1,Definitions.CHECKSTYLE_BUNDLE,Main.LOAD_PROPERTIES_EXCEPTION,new String[]{""},null,getClass(),null);
    final String causeMessage=ex.getCause().getLocalizedMessage();
    final String localizedMessage=loadPropertiesMessage.getMessage();
    final boolean samePrefix=causeMessage.substring(0,causeMessage.indexOf(' ')).equals(localizedMessage.substring(0,localizedMessage.indexOf(' ')));
    final boolean sameSuffix=causeMessage.substring(causeMessage.lastIndexOf(' '),causeMessage.length()).equals(localizedMessage.substring(localizedMessage.lastIndexOf(' '),localizedMessage.length()));
    assertTrue("Invalid error message",samePrefix || sameSuffix);
    assertTrue("Invalid error message",causeMessage.contains(".'"));
  }
}
