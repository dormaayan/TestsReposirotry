@Test public void testCacheWhenFileExternalResourceContentDoesNotChange() throws Exception {
  final DefaultConfiguration filterConfig=createModuleConfig(SuppressionXpathFilter.class);
  filterConfig.addAttribute("file",getPath("InputTreeWalkerSuppressionXpathFilter.xml"));
  final DefaultConfiguration treeWalkerConfig=createModuleConfig(TreeWalker.class);
  treeWalkerConfig.addChild(filterConfig);
  final DefaultConfiguration checkerConfig=createRootConfig(treeWalkerConfig);
  final File cacheFile=temporaryFolder.newFile();
  checkerConfig.addAttribute("cacheFile",cacheFile.getPath());
  final String filePath=temporaryFolder.newFile("file.java").getPath();
  final String[] expected=CommonUtil.EMPTY_STRING_ARRAY;
  verify(checkerConfig,filePath,expected);
  verify(checkerConfig,filePath,expected);
  assertTrue("External resource is not present in cache",new String(Files.readAllBytes(cacheFile.toPath()),StandardCharsets.UTF_8).contains("InputTreeWalkerSuppressionXpathFilter.xml"));
}
