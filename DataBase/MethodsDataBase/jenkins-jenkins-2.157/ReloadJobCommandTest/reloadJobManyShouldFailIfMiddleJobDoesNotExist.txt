@Test public void reloadJobManyShouldFailIfMiddleJobDoesNotExist() throws Exception {
  FreeStyleProject project1=j.createFreeStyleProject("aProject1");
  project1.getBuildersList().add(createScriptBuilder("echo 1"));
  FreeStyleProject project2=j.createFreeStyleProject("aProject2");
  project2.getBuildersList().add(createScriptBuilder("echo 1"));
  assertThat(project1.scheduleBuild2(0).get().getLog(),containsString("echo 1"));
  assertThat(project2.scheduleBuild2(0).get().getLog(),containsString("echo 1"));
  changeProjectOnTheDisc(project1,"echo 1","echo 2");
  changeProjectOnTheDisc(project2,"echo 1","echo 2");
  final CLICommandInvoker.Result result=command.authorizedTo(Job.READ,Job.CONFIGURE,Jenkins.READ).invokeWithArgs("aProject1","never_created","aProject2");
  assertThat(result,failedWith(5));
  assertThat(result,hasNoStandardOutput());
  assertThat(result.stderr(),containsString("never_created: No such item ‘never_created’ exists."));
  assertThat(result.stderr(),containsString("ERROR: " + CLICommand.CLI_LISTPARAM_SUMMARY_ERROR_TEXT));
  assertThat(project1.scheduleBuild2(0).get().getLog(),containsString("echo 2"));
  assertThat(project2.scheduleBuild2(0).get().getLog(),containsString("echo 2"));
}
