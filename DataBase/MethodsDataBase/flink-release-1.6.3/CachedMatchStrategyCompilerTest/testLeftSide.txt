/** 
 * This tests whether a HYBRIDHASH_BUILD_FIRST is correctly transformed to a HYBRIDHASH_BUILD_FIRST_CACHED when inside of an iteration an on the static path
 */
@Test public void testLeftSide(){
  try {
    Plan plan=getTestPlanLeftStatic(Optimizer.HINT_LOCAL_STRATEGY_HASH_BUILD_FIRST);
    OptimizedPlan oPlan=compileNoStats(plan);
    OptimizerPlanNodeResolver resolver=getOptimizerPlanNodeResolver(oPlan);
    DualInputPlanNode innerJoin=resolver.getNode("DummyJoiner");
    assertEquals(DriverStrategy.HYBRIDHASH_BUILD_FIRST_CACHED,innerJoin.getDriverStrategy());
    assertEquals(TempMode.NONE,innerJoin.getInput1().getTempMode());
    assertEquals(TempMode.NONE,innerJoin.getInput2().getTempMode());
    new JobGraphGenerator().compileJobGraph(oPlan);
  }
 catch (  Exception e) {
    System.err.println(e.getMessage());
    e.printStackTrace();
    fail("Test errored: " + e.getMessage());
  }
}
