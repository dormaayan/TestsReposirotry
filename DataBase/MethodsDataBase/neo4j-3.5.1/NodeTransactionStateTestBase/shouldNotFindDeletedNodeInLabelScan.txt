@Test public void shouldNotFindDeletedNodeInLabelScan() throws Exception {
  Node node=createNode("label");
  try (org.neo4j.internal.kernel.api.Transaction tx=beginTransaction();NodeLabelIndexCursor cursor=tx.cursors().allocateNodeLabelIndexCursor()){
    tx.dataWrite().nodeDelete(node.node);
    tx.dataRead().nodeLabelScan(node.labels[0],cursor);
    assertFalse(cursor.next());
  }
 }
