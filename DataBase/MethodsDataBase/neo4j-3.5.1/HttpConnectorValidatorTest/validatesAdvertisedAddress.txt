@Test public void validatesAdvertisedAddress(){
  String key="dbms.connector.http.advertised_address";
  assertEquals(stringMap(key,"localhost:123"),cv.validate(stringMap(key,"localhost:123"),warningConsumer));
  key="dbms.connector.bla.advertised_address";
  String type="dbms.connector.bla.type";
  assertEquals(stringMap(key,"localhost:123",type,HTTP.name()),cv.validate(stringMap(key,"localhost:123",type,HTTP.name()),warningConsumer));
  assertEquals(stringMap(key,"localhost:123",type,HTTP.name()),cv.validate(stringMap(key,"localhost:123",type,HTTP.name()),warningConsumer));
  expected.expect(InvalidSettingException.class);
  expected.expectMessage("Setting \"dbms.connector.bla.advertised_address\" must be in the format " + "\"hostname:port\" or \":port\". \"BOBO\" does not conform to these formats");
  cv.validate(stringMap(key,"BOBO",type,HTTP.name()),warningConsumer);
}
