@Test public void tryEvictThatFlushesAndSucceedsMustNotInterfereWithAdjacentPages() throws Exception {
  pageList.unlockExclusive(prevPageRef);
  pageList.unlockExclusive(pageRef);
  pageList.unlockExclusive(nextPageRef);
  PageSwapper swapper=new DummyPageSwapper("a",313);
  int swapperId=swappers.allocate(swapper);
  long prevStamp=pageList.tryOptimisticReadLock(prevPageRef);
  long nextStamp=pageList.tryOptimisticReadLock(nextPageRef);
  doFault(swapperId,42);
  pageList.unlockExclusiveAndTakeWriteLock(pageRef);
  pageList.unlockWrite(pageRef);
  assertTrue(pageList.isModified(pageRef));
  assertTrue(pageList.tryEvict(pageRef,EvictionRunEvent.NULL));
  assertTrue(pageList.validateReadLock(prevPageRef,prevStamp));
  assertTrue(pageList.validateReadLock(nextPageRef,nextStamp));
}
