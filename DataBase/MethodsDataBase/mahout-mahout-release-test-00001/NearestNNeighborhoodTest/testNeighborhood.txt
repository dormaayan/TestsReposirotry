@Test public void testNeighborhood() throws Exception {
  DataModel dataModel=getDataModel();
  long[] neighborhood=new NearestNUserNeighborhood(1,new DummySimilarity(dataModel),dataModel).getUserNeighborhood(1);
  assertNotNull(neighborhood);
  assertEquals(1,neighborhood.length);
  assertTrue(arrayContains(neighborhood,2));
  long[] neighborhood2=new NearestNUserNeighborhood(2,new DummySimilarity(dataModel),dataModel).getUserNeighborhood(2);
  assertNotNull(neighborhood2);
  assertEquals(2,neighborhood2.length);
  assertTrue(arrayContains(neighborhood2,1));
  assertTrue(arrayContains(neighborhood2,3));
  long[] neighborhood3=new NearestNUserNeighborhood(4,new DummySimilarity(dataModel),dataModel).getUserNeighborhood(4);
  assertNotNull(neighborhood3);
  assertEquals(3,neighborhood3.length);
  assertTrue(arrayContains(neighborhood3,1));
  assertTrue(arrayContains(neighborhood3,2));
  assertTrue(arrayContains(neighborhood3,3));
}
