@Test public void testFactory() throws Exception {
  final Mage mage=mock(Mage.class);
  final Warlord warlord=mock(Warlord.class);
  final Beast beast=mock(Beast.class);
  when(mage.copy()).thenThrow(CloneNotSupportedException.class);
  when(warlord.copy()).thenThrow(CloneNotSupportedException.class);
  when(beast.copy()).thenThrow(CloneNotSupportedException.class);
  final HeroFactoryImpl factory=new HeroFactoryImpl(mage,warlord,beast);
  assertNull(factory.createMage());
  assertNull(factory.createWarlord());
  assertNull(factory.createBeast());
  verify(mage).copy();
  verify(warlord).copy();
  verify(beast).copy();
  verifyNoMoreInteractions(mage,warlord,beast);
}
