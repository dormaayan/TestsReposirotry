@Test public void testAutoUpdateWithIrrelevantProperties() throws Exception {
  int initialTimeout=1000;
  String someIrrelevantKey="someIrrelevantKey";
  String someIrrelevantValue="someIrrelevantValue";
  String anotherIrrelevantKey="anotherIrrelevantKey";
  String anotherIrrelevantValue="anotherIrrelevantValue";
  Properties applicationProperties=assembleProperties(TIMEOUT_PROPERTY,String.valueOf(initialTimeout),someIrrelevantKey,someIrrelevantValue);
  SimpleConfig applicationConfig=prepareConfig(ConfigConsts.NAMESPACE_APPLICATION,applicationProperties);
  ClassPathXmlApplicationContext context=new ClassPathXmlApplicationContext("spring/XmlConfigPlaceholderTest1.xml");
  TestXmlBean bean=context.getBean(TestXmlBean.class);
  assertEquals(initialTimeout,bean.getTimeout());
  assertEquals(DEFAULT_BATCH,bean.getBatch());
  Properties newApplicationProperties=assembleProperties(TIMEOUT_PROPERTY,String.valueOf(initialTimeout),anotherIrrelevantKey,String.valueOf(anotherIrrelevantValue));
  applicationConfig.onRepositoryChange(ConfigConsts.NAMESPACE_APPLICATION,newApplicationProperties);
  TimeUnit.MILLISECONDS.sleep(100);
  assertEquals(initialTimeout,bean.getTimeout());
  assertEquals(DEFAULT_BATCH,bean.getBatch());
}
