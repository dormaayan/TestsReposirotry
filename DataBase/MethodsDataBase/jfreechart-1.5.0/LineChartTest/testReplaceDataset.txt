/** 
 * Replaces the chart's dataset and then checks that the new dataset is OK.
 */
@Test public void testReplaceDataset(){
  Number[][] data=new Integer[][]{{new Integer(-30),new Integer(-20)},{new Integer(-10),new Integer(10)},{new Integer(20),new Integer(30)}};
  CategoryDataset newData=DatasetUtils.createCategoryDataset("S","C",data);
  LocalListener l=new LocalListener();
  this.chart.addChangeListener(l);
  CategoryPlot plot=(CategoryPlot)this.chart.getPlot();
  plot.setDataset(newData);
  assertEquals(true,l.flag);
  ValueAxis axis=plot.getRangeAxis();
  Range range=axis.getRange();
  assertTrue("Expecting the lower bound of the range to be around -30: " + range.getLowerBound(),range.getLowerBound() <= -30);
  assertTrue("Expecting the upper bound of the range to be around 30: " + range.getUpperBound(),range.getUpperBound() >= 30);
}
