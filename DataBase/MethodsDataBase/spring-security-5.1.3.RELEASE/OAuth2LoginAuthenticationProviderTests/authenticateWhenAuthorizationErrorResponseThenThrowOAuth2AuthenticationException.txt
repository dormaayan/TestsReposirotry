@Test public void authenticateWhenAuthorizationErrorResponseThenThrowOAuth2AuthenticationException(){
  this.exception.expect(OAuth2AuthenticationException.class);
  this.exception.expectMessage(containsString(OAuth2ErrorCodes.INVALID_REQUEST));
  when(this.authorizationResponse.statusError()).thenReturn(true);
  when(this.authorizationResponse.getError()).thenReturn(new OAuth2Error(OAuth2ErrorCodes.INVALID_REQUEST));
  this.authenticationProvider.authenticate(new OAuth2LoginAuthenticationToken(this.clientRegistration,this.authorizationExchange));
}
