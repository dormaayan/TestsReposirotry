protected final class PatternAsserter {
  private final PathMatcher matcher;
  @Nullable private final PathMatcher realMatcher;
  PatternAsserter(  String pattern){
    this.matcher=matcher(pattern);
    this.realMatcher=realMatcher(pattern);
  }
  PatternAsserter matches(  String... paths){
    for (    String path : paths) {
      assertTrue("matcher '" + matcher + "' did not match '"+ path+ "'",matcher.matches(fake(path)));
      if (realMatcher != null) {
        Path realPath=Paths.get(path);
        assertTrue("real matcher '" + realMatcher + "' did not match '"+ realPath+ "'",realMatcher.matches(realPath));
      }
    }
    return this;
  }
  PatternAsserter doesNotMatch(  String... paths){
    for (    String path : paths) {
      assertFalse("glob '" + matcher + "' should not have matched '"+ path+ "'",matcher.matches(fake(path)));
      if (realMatcher != null) {
        Path realPath=Paths.get(path);
        assertFalse("real matcher '" + realMatcher + "' matched '"+ realPath+ "'",realMatcher.matches(realPath));
      }
    }
    return this;
  }
}
