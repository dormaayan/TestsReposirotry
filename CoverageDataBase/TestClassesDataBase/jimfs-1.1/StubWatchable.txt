/** 
 * A fake  {@link Watchable} for testing.
 */
private static final class StubWatchable implements Watchable {
  @Override public WatchKey register(  WatchService watcher,  WatchEvent.Kind<?>[] events,  WatchEvent.Modifier... modifiers) throws IOException {
    return register(watcher,events);
  }
  @Override public WatchKey register(  WatchService watcher,  WatchEvent.Kind<?>... events) throws IOException {
    return ((AbstractWatchService)watcher).register(this,Arrays.asList(events));
  }
}
