/** 
 * Test the UnmodifiableMapEntry class.
 * @since 3.0
 */
public class UnmodifiableMapEntryTest<K,V> extends AbstractMapEntryTest<K,V> {
  /** 
 * Make an instance of Map.Entry with the default (null) key and value. Subclasses should override this method to return a Map.Entry of the type being tested.
 */
  @Override public Map.Entry<K,V> makeMapEntry(){
    return new UnmodifiableMapEntry<>(null,null);
  }
  /** 
 * Make an instance of Map.Entry with the specified key and value. Subclasses should override this method to return a Map.Entry of the type being tested.
 */
  @Override public Map.Entry<K,V> makeMapEntry(  final K key,  final V value){
    return new UnmodifiableMapEntry<>(key,value);
  }
  /** 
 * Subclasses should override this method.
 */
  @Override @SuppressWarnings("unchecked") @Test public void testConstructors(){
    Map.Entry<K,V> entry=new UnmodifiableMapEntry<>((K)key,(V)value);
    assertSame(key,entry.getKey());
    assertSame(value,entry.getValue());
    final KeyValue<K,V> pair=new DefaultKeyValue<>((K)key,(V)value);
    entry=new UnmodifiableMapEntry<>(pair);
    assertSame(key,entry.getKey());
    assertSame(value,entry.getValue());
    final Map.Entry<K,V> entry2=new UnmodifiableMapEntry<>(entry);
    assertSame(key,entry2.getKey());
    assertSame(value,entry2.getValue());
    assertTrue(entry instanceof Unmodifiable);
  }
  @Override @SuppressWarnings("unchecked") public void testAccessorsAndMutators(){
    Map.Entry<K,V> entry=makeMapEntry((K)key,(V)value);
    assertSame(key,entry.getKey());
    assertSame(value,entry.getValue());
    entry=makeMapEntry(null,null);
    assertSame(null,entry.getKey());
    assertSame(null,entry.getValue());
  }
  @Override @Test public void testSelfReferenceHandling(){
  }
  @Test public void testUnmodifiable(){
    final Map.Entry<K,V> entry=makeMapEntry();
    try {
      entry.setValue(null);
      fail();
    }
 catch (    final UnsupportedOperationException ex) {
    }
  }
}
