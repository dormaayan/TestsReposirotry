public class AbstractJodaTimeDateFactoryTest {
  @Test public void testNewDate(){
    StubDateFactory factory=new StubDateFactory();
    Date now=factory.newDate();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(2012));
    assertThat(result.getMonthOfYear(),is(9));
    assertThat(result.getDayOfMonth(),is(3));
    assertThat(result.getHourOfDay(),is(23));
    assertThat(result.getMinuteOfHour(),is(7));
    assertThat(result.getSecondOfMinute(),is(11));
    assertThat(result.getMillisOfSecond(),is(100));
  }
  @Test public void testNewTimeStamp(){
    StubDateFactory factory=new StubDateFactory();
    Timestamp now=factory.newTimestamp();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(2012));
    assertThat(result.getMonthOfYear(),is(9));
    assertThat(result.getDayOfMonth(),is(3));
    assertThat(result.getHourOfDay(),is(23));
    assertThat(result.getMinuteOfHour(),is(7));
    assertThat(result.getSecondOfMinute(),is(11));
    assertThat(result.getMillisOfSecond(),is(100));
  }
  @Test public void testNewSqlDate(){
    StubDateFactory factory=new StubDateFactory();
    java.sql.Date now=factory.newSqlDate();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(2012));
    assertThat(result.getMonthOfYear(),is(9));
    assertThat(result.getDayOfMonth(),is(3));
    assertThat(result.getHourOfDay(),is(0));
    assertThat(result.getMinuteOfHour(),is(0));
    assertThat(result.getSecondOfMinute(),is(0));
    assertThat(result.getMillisOfSecond(),is(0));
  }
  @Test public void testNewTime(){
    StubDateFactory factory=new StubDateFactory();
    Time now=factory.newTime();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(1970));
    assertThat(result.getMonthOfYear(),is(1));
    assertThat(result.getDayOfMonth(),is(1));
    assertThat(result.getHourOfDay(),is(23));
    assertThat(result.getMinuteOfHour(),is(7));
    assertThat(result.getSecondOfMinute(),is(11));
    assertThat(result.getMillisOfSecond(),is(100));
  }
}
