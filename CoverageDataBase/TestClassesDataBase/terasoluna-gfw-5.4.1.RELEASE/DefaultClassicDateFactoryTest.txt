public class DefaultClassicDateFactoryTest {
  DefaultClassicDateFactory factory=new DefaultClassicDateFactory(){
    @Override public Date newDate(){
      Calendar calendar=Calendar.getInstance();
      calendar.set(Calendar.YEAR,2012);
      calendar.set(Calendar.MONTH,9 - 1);
      calendar.set(Calendar.DAY_OF_MONTH,3);
      calendar.set(Calendar.HOUR_OF_DAY,23);
      calendar.set(Calendar.MINUTE,7);
      calendar.set(Calendar.SECOND,11);
      calendar.set(Calendar.MILLISECOND,100);
      return calendar.getTime();
    }
  }
;
  @Test public void testNewDate(){
    Date now=factory.newDate();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(2012));
    assertThat(result.getMonthOfYear(),is(9));
    assertThat(result.getDayOfMonth(),is(3));
    assertThat(result.getHourOfDay(),is(23));
    assertThat(result.getMinuteOfHour(),is(7));
    assertThat(result.getSecondOfMinute(),is(11));
    assertThat(result.getMillisOfSecond(),is(100));
  }
  @Test public void testNewTimeStamp(){
    Timestamp now=factory.newTimestamp();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(2012));
    assertThat(result.getMonthOfYear(),is(9));
    assertThat(result.getDayOfMonth(),is(3));
    assertThat(result.getHourOfDay(),is(23));
    assertThat(result.getMinuteOfHour(),is(7));
    assertThat(result.getSecondOfMinute(),is(11));
    assertThat(result.getMillisOfSecond(),is(100));
  }
  @Test public void testNewSqlDate(){
    java.sql.Date now=factory.newSqlDate();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(2012));
    assertThat(result.getMonthOfYear(),is(9));
    assertThat(result.getDayOfMonth(),is(3));
    assertThat(result.getHourOfDay(),is(0));
    assertThat(result.getMinuteOfHour(),is(0));
    assertThat(result.getSecondOfMinute(),is(0));
    assertThat(result.getMillisOfSecond(),is(0));
  }
  @Test public void testNewTime(){
    Time now=factory.newTime();
    DateTime result=new DateTime(now.getTime());
    assertThat(result.getYear(),is(1970));
    assertThat(result.getMonthOfYear(),is(1));
    assertThat(result.getDayOfMonth(),is(1));
    assertThat(result.getHourOfDay(),is(23));
    assertThat(result.getMinuteOfHour(),is(7));
    assertThat(result.getSecondOfMinute(),is(11));
    assertThat(result.getMillisOfSecond(),is(100));
  }
}
