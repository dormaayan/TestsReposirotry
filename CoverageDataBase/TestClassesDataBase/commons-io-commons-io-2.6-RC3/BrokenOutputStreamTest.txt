/** 
 * JUnit Test Case for  {@link BrokenOutputStream}.
 */
public class BrokenOutputStreamTest {
  private IOException exception;
  private OutputStream stream;
  @Before public void setUp(){
    exception=new IOException("test exception");
    stream=new BrokenOutputStream(exception);
  }
  @Test public void testWrite(){
    try {
      stream.write(1);
      fail("Expected exception not thrown.");
    }
 catch (    final IOException e) {
      assertEquals(exception,e);
    }
    try {
      stream.write(new byte[1]);
      fail("Expected exception not thrown.");
    }
 catch (    final IOException e) {
      assertEquals(exception,e);
    }
    try {
      stream.write(new byte[1],0,1);
      fail("Expected exception not thrown.");
    }
 catch (    final IOException e) {
      assertEquals(exception,e);
    }
  }
  @Test public void testFlush(){
    try {
      stream.flush();
      fail("Expected exception not thrown.");
    }
 catch (    final IOException e) {
      assertEquals(exception,e);
    }
  }
  @Test public void testClose(){
    try {
      stream.close();
      fail("Expected exception not thrown.");
    }
 catch (    final IOException e) {
      assertEquals(exception,e);
    }
  }
}
