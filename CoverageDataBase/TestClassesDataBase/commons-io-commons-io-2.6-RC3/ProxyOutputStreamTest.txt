/** 
 * JUnit Test Case for  {@link CloseShieldOutputStream}.
 */
public class ProxyOutputStreamTest {
  private ByteArrayOutputStream original;
  private OutputStream proxied;
  @Before public void setUp(){
    original=new ByteArrayOutputStream(){
      @Override public void write(      final byte[] ba) throws IOException {
        if (ba != null) {
          super.write(ba);
        }
      }
    }
;
    proxied=new ProxyOutputStream(original);
  }
  @Test public void testWrite() throws Exception {
    proxied.write('y');
    assertEquals(1,original.size());
    assertEquals('y',original.toByteArray()[0]);
  }
  @Test public void testWriteNullBaSucceeds() throws Exception {
    final byte[] ba=null;
    original.write(ba);
    proxied.write(ba);
  }
}
