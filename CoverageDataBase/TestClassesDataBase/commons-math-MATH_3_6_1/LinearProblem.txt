static class LinearProblem {
  private final RealMatrix factors;
  private final double[] target;
  public LinearProblem(  double[][] factors,  double[] target){
    this.factors=new BlockRealMatrix(factors);
    this.target=target;
  }
  public Target getTarget(){
    return new Target(target);
  }
  public ModelFunction getModelFunction(){
    return new ModelFunction(new MultivariateVectorFunction(){
      public double[] value(      double[] params){
        return factors.operate(params);
      }
    }
);
  }
  public ModelFunctionJacobian getModelFunctionJacobian(){
    return new ModelFunctionJacobian(new MultivariateMatrixFunction(){
      public double[][] value(      double[] params){
        return factors.getData();
      }
    }
);
  }
}
