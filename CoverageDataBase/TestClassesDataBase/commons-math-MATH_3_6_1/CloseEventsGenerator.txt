private class CloseEventsGenerator implements EventHandler {
  final double r1;
  final double r2;
  int count;
  public CloseEventsGenerator(  final double r1,  final double r2){
    this.r1=r1;
    this.r2=r2;
    this.count=0;
  }
  public void init(  double t0,  double[] y0,  double t){
  }
  public void resetState(  double t,  double[] y){
  }
  public double g(  double t,  double[] y){
    return (t - r1) * (r2 - t);
  }
  public Action eventOccurred(  double t,  double[] y,  boolean increasing){
    return ++count < 2 ? Action.CONTINUE : Action.STOP;
  }
  public int getCount(){
    return count;
  }
}
