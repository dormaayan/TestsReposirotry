public static class VariableStepHandler implements StepHandler {
  public VariableStepHandler(){
    firstTime=true;
    minStep=0;
    maxStep=0;
  }
  public void init(  double t0,  double[] y0,  double t){
    firstTime=true;
    minStep=0;
    maxStep=0;
  }
  public void handleStep(  StepInterpolator interpolator,  boolean isLast){
    double step=FastMath.abs(interpolator.getCurrentTime() - interpolator.getPreviousTime());
    if (firstTime) {
      minStep=FastMath.abs(step);
      maxStep=minStep;
      firstTime=false;
    }
 else {
      if (step < minStep) {
        minStep=step;
      }
      if (step > maxStep) {
        maxStep=step;
      }
    }
    if (isLast) {
      Assert.assertTrue(minStep < 8.2e-3);
      Assert.assertTrue(maxStep > 1.5);
    }
  }
  private boolean firstTime;
  private double minStep;
  private double maxStep;
}
