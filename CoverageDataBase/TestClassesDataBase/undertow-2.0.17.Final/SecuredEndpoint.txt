@ServerEndpoint("/{path}") public static class SecuredEndpoint {
  @OnOpen public void open(  Session session) throws IOException {
    session.getBasicRemote().sendText(session.getUserPrincipal().getName());
    session.close();
  }
}
