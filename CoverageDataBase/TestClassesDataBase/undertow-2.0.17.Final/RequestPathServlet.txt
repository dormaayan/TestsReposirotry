/** 
 * @author Stuart Douglas
 */
public class RequestPathServlet extends HttpServlet {
  @Override protected void doGet(  final HttpServletRequest req,  final HttpServletResponse resp) throws ServletException, IOException {
    StringBuilder builtUri=new StringBuilder(req.getContextPath());
    builtUri.append(req.getServletPath());
    builtUri.append(req.getPathInfo() == null ? "" : req.getPathInfo());
    Assert.assertEquals(URLDecoder.decode(req.getRequestURI(),"UTF-8"),builtUri.toString());
    resp.getWriter().write(req.getPathInfo() + ",");
    resp.getWriter().write(req.getServletPath() + ",");
    resp.getWriter().write(req.getRequestURL().toString() + ",");
    resp.getWriter().write(req.getRequestURI() + ",");
    resp.getWriter().write(req.getQueryString() == null ? "" : req.getQueryString());
  }
}
