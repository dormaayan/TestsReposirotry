/** 
 * A handler that triggers the cleartext upgrade to HTTP/2 by sending an initial HTTP request.
 */
private final class UpgradeRequestHandler extends ChannelInboundHandlerAdapter {
  @Override public void channelActive(  ChannelHandlerContext ctx) throws Exception {
    DefaultFullHttpRequest upgradeRequest=new DefaultFullHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.GET,"/sdf");
    upgradeRequest.headers().add(Headers.HOST_STRING,"default");
    ctx.writeAndFlush(upgradeRequest);
    ctx.fireChannelActive();
    ctx.pipeline().remove(this);
    configureEndOfPipeline(ctx.pipeline());
  }
}
