class SendClass implements Runnable, IoCallback {
  int sent=0;
  @Override public void run(){
    sent++;
    try {
      channel.position(0);
    }
 catch (    IOException e) {
    }
    sender.transferFrom(channel,this);
  }
  @Override public void onComplete(  final HttpServerExchange exchange,  final Sender sender){
    if (sent++ == TXS) {
      sender.close();
      return;
    }
    try {
      channel.position(0);
    }
 catch (    IOException e) {
    }
    sender.transferFrom(channel,this);
  }
  @Override public void onException(  final HttpServerExchange exchange,  final Sender sender,  final IOException exception){
    exception.printStackTrace();
    exchange.endExchange();
  }
}
