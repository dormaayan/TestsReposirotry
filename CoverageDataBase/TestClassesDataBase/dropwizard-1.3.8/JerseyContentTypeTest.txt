public class JerseyContentTypeTest extends AbstractJerseyTest {
  @Override protected Application configure(){
    return DropwizardResourceConfig.forTesting(new MetricRegistry()).register(DummyResource.class);
  }
  @Test public void testValidContentType(){
    final Response response=target("/").request(MediaType.TEXT_PLAIN_TYPE).get();
    assertThat(response.getStatus()).isEqualTo(200);
    assertThat(response.readEntity(String.class)).isEqualTo("bar");
  }
  @Test public void testInvalidContentType(){
    final Response response=target("/").request("foo").get();
    assertThat(response.getStatus()).isEqualTo(406);
    assertThat(response.hasEntity()).isEqualTo(false);
  }
}
