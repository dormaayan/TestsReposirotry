public class PrefixedExtendedThrowableProxyConverterTest {
  private final PrefixedExtendedThrowableProxyConverter converter=new PrefixedExtendedThrowableProxyConverter();
  private final ThrowableProxy proxy=new ThrowableProxy(new IOException("noo"));
  @Before public void setup(){
    converter.setOptionList(Collections.singletonList("full"));
    converter.start();
  }
  @Test public void prefixesExceptionsWithExclamationMarks() throws Exception {
    assertThat(converter.throwableProxyToString(proxy)).startsWith(String.format("! java.io.IOException: noo%n" + "! at io.dropwizard.logging.PrefixedExtendedThrowableProxyConverterTest.<init>(PrefixedExtendedThrowableProxyConverterTest.java:14)%n"));
  }
}
