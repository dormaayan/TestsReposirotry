@ExtendWith(DropwizardExtensionsSupport.class) public class DropwizardAppExtensionWithoutConfigTest {
  public static final DropwizardAppExtension<Configuration> EXTENSION=new DropwizardAppExtension<>(TestApplication.class,null,ConfigOverride.config("server.applicationConnectors[0].port","0"),ConfigOverride.config("server.adminConnectors[0].port","0"));
  @Test public void runWithoutConfigFile(){
    Map<?,?> response=EXTENSION.client().target("http://localhost:" + EXTENSION.getLocalPort() + "/test").request().get(Map.class);
    Assertions.assertEquals(ImmutableMap.of("color","orange"),response);
  }
public static class TestApplication extends Application<Configuration> {
    @Override public void run(    Configuration configuration,    Environment environment) throws Exception {
      environment.jersey().register(new TestResource());
    }
  }
@Path("test") @Produces(MediaType.APPLICATION_JSON) public static class TestResource {
    @GET public Response get(){
      return Response.ok(ImmutableMap.of("color","orange")).build();
    }
  }
}
