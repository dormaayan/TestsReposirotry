public static class NoAuthPolymorphicPrincipalInjectedResourceConfig extends AbstractAuthResourceConfig {
  public NoAuthPolymorphicPrincipalInjectedResourceConfig(){
    register(NoAuthPolymorphicPrincipalEntityResource.class);
    packages("io.dropwizard.jersey.jackson");
  }
  @Override protected Class<? extends Principal> getPrincipalClass(){
    throw new AssertionError("Authentication must not be performed");
  }
  @Override protected ContainerRequestFilter getAuthFilter(){
    return requestContext -> {
      throw new AssertionError("Authentication must not be performed");
    }
;
  }
  @Override protected AbstractBinder getAuthBinder(){
    return new PolymorphicAuthValueFactoryProvider.Binder<>(ImmutableSet.of(JsonPrincipal.class,NullPrincipal.class));
  }
  @Override protected DynamicFeature getAuthDynamicFeature(  ContainerRequestFilter authFilter){
    return new PolymorphicAuthDynamicFeature(ImmutableMap.of(JsonPrincipal.class,getAuthFilter(),NullPrincipal.class,getAuthFilter()));
  }
}
