public static class DogDAO extends AbstractDAO<Dog> {
  DogDAO(  SessionFactory sessionFactory){
    super(sessionFactory);
  }
  Optional<Dog> findByOwnerAndName(  String ownerName,  String dogName){
    return query("SELECT d FROM Dog d WHERE d.owner.name=:owner AND d.name=:name").setParameter("owner",ownerName).setParameter("name",dogName).uniqueResultOptional();
  }
  List<Dog> findByOwner(  String ownerName){
    return query("SELECT d FROM Dog d WHERE d.owner.name=:owner").setParameter("owner",ownerName).list();
  }
}
