public class RouteExceptionTest {
  @Test public void getConnectionIOException_single(){
    IOException firstException=new IOException();
    RouteException re=new RouteException(firstException);
    assertSame(firstException,re.getFirstConnectException());
    assertSame(firstException,re.getLastConnectException());
  }
  @Test public void getConnectionIOException_multiple(){
    IOException firstException=new IOException();
    IOException secondException=new IOException();
    IOException thirdException=new IOException();
    RouteException re=new RouteException(firstException);
    re.addConnectException(secondException);
    re.addConnectException(thirdException);
    IOException connectionIOException=re.getFirstConnectException();
    assertSame(firstException,connectionIOException);
    Throwable[] suppressedExceptions=connectionIOException.getSuppressed();
    assertEquals(2,suppressedExceptions.length);
    assertSame(secondException,suppressedExceptions[0]);
    assertSame(thirdException,suppressedExceptions[1]);
    assertSame(thirdException,re.getLastConnectException());
  }
}
