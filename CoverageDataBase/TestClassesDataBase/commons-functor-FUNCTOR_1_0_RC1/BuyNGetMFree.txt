class BuyNGetMFree implements UnaryFunction<Number,Number> {
  public BuyNGetMFree(  int n,  int m,  int costPerUnit){
    this.n=n;
    this.m=m;
    this.costPerUnit=costPerUnit;
  }
  public Number evaluate(  Number num){
    int quantity=num.intValue();
    int cost=0;
    while (quantity >= n) {
      cost+=n * costPerUnit;
      quantity-=n;
      quantity-=Math.min(quantity,m);
    }
    cost+=quantity * costPerUnit;
    return new Integer(cost);
  }
  private int n, m, costPerUnit;
}
