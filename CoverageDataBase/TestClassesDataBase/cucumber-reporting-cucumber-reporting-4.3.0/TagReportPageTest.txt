/** 
 * @author Damian Szczepanik (damianszczepanik@github)
 */
public class TagReportPageTest extends PageTest {
  @Before public void setUp(){
    setUpWithJson(SAMPLE_JSON);
  }
  @Test public void getWebPage_ReturnsTagReportFileName(){
    TagObject tag=tags.get(0);
    page=new TagReportPage(reportResult,configuration,tag);
    String fileName=page.getWebPage();
    assertThat(fileName).isEqualTo(tag.getReportFileName());
  }
  @Test public void prepareReport_AddsCustomProperties(){
    TagObject tag=tags.get(1);
    page=new TagReportPage(reportResult,configuration,tag);
    page.prepareReport();
    VelocityContext context=page.context;
    assertThat(context.getKeys()).hasSize(9);
    assertThat(context.get("tag")).isEqualTo(tag);
  }
}
