/** 
 * @author Damian Szczepanik (damianszczepanik@github)
 */
public abstract class PageTest extends ReportGenerator {
  protected AbstractPage page;
  @After public void cleanUp(){
    File report=new File(configuration.getReportDirectory(),ReportBuilder.BASE_DIRECTORY);
    FileUtils.deleteQuietly(report);
  }
  protected DocumentAssertion documentFrom(  String pageName){
    File input=new File(configuration.getReportDirectory(),ReportBuilder.BASE_DIRECTORY + File.separatorChar + pageName);
    try {
      return new DocumentAssertion(Jsoup.parse(input,StandardCharsets.UTF_8.name(),StringUtils.EMPTY));
    }
 catch (    IOException e) {
      throw new ValidationException(e);
    }
  }
  protected String[] getMessages(  Output[] outputs){
    List<String> messages=new ArrayList<>();
    for (    Output output : outputs) {
      messages.addAll(Arrays.asList(output.getMessages()));
    }
    return messages.toArray(new String[messages.size()]);
  }
}
