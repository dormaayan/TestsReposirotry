/** 
 * @author Damian Szczepanik (damianszczepanik@github)
 */
public class EmbeddingTest {
  @Test public void getMimeType_ReturnsMimeType(){
    final String refMimeType="my mime TYPE";
    Embedding embedding=new Embedding(refMimeType,"abc");
    String mimeType=embedding.getMimeType();
    assertThat(mimeType).isEqualTo(refMimeType);
  }
  @Test public void getData_ReturnsContent(){
    final String data="your data";
    Embedding embedding=new Embedding("mime/type",data);
    String content=embedding.getData();
    assertThat(content).isEqualTo(data);
  }
  @Test public void getDecodedData_ReturnsDecodedContent(){
    Embedding embedding=new Embedding("mime/type","ZnVuY3Rpb24gbG9nZ2VyKG1lc3NhZ2UpIHsgIH0=");
    String content=embedding.getDecodedData();
    assertThat(content).isEqualTo("function logger(message) {  }");
  }
  @Test public void getFileName_ReturnsFileName(){
    Embedding embedding=new Embedding("text/xml","some data");
    String fileName=embedding.getFileName();
    assertThat(fileName).isEqualTo("embedding_-642587818.xml");
  }
  @Test public void getFileName_ReturnsFileNameForSVG(){
    Embedding embedding=new Embedding("image/svg+xml","some data");
    String fileName=embedding.getFileName();
    assertThat(fileName).isEqualTo("embedding_-642587818.svg");
  }
  @Test public void getExtension__OnCommonMimeType_ReturnsFileExtension(){
    Embedding embedding=new Embedding("text/html","");
    String extension=embedding.getExtension();
    assertThat(extension).isEqualTo("html");
  }
  @Test public void getExtension__OnTextMimeType_ReturnsText(){
    Embedding embedding=new Embedding("text/plain","");
    String extension=embedding.getExtension();
    assertThat(extension).isEqualTo("txt");
  }
  @Test public void getExtension__OnImageUrlMimeType_ReturnsTxt(){
    Embedding embedding=new Embedding("image/url","");
    String extension=embedding.getExtension();
    assertThat(extension).isEqualTo("image");
  }
  @Test public void getExtension__OnApplicationPdfMimeType_ReturnsPdf(){
    Embedding embedding=new Embedding("application/pdf","");
    String extension=embedding.getExtension();
    assertThat(extension).isEqualTo("pdf");
  }
  @Test public void getExtension__OnUnknownType_ResurnsUnknown(){
    Embedding embedding=new Embedding("js","");
    String extension=embedding.getExtension();
    assertThat(extension).isEqualTo("unknown");
  }
}
