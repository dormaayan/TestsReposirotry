/** 
 * @author Damian Szczepanik (damianszczepanik@github)
 */
public class HookTest extends PageTest {
  @Before public void setUp(){
    setUpWithJson(SAMPLE_JSON);
  }
  @Test public void getResult_ReturnsResult(){
    Hook before=features.get(0).getElements()[1].getAfter()[0];
    Result result=before.getResult();
    assertThat(result.getDuration()).isEqualTo(60744700);
  }
  @Test public void getMatch_ReturnsMatch(){
    Hook after=features.get(0).getElements()[1].getAfter()[0];
    Match match=after.getMatch();
    assertThat(match.getLocation()).isEqualTo("MachineFactory.timeout()");
  }
  @Test public void getOutputs_ReturnsOutputs(){
    Hook before=features.get(1).getElements()[0].getBefore()[0];
    Output[] outputs=before.getOutputs();
    assertThat(outputs).hasSize(1);
    assertThat(outputs[0].getMessages()[0]).isEqualTo("System version: beta3");
  }
  @Test public void getEmbeddings_ReturnsEmbeddings(){
    Hook after=features.get(1).getElements()[0].getAfter()[0];
    Embedding[] embeddings=after.getEmbeddings();
    assertThat(embeddings).hasSize(1);
    assertThat(embeddings[0].getMimeType()).isEqualTo("image/png");
  }
}
