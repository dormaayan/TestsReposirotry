/** 
 * NFileEntity
 * @since 5.0
 */
public class TestNFileEntity {
  @ClassRule public static final TemporaryFolder tempFolder=new TemporaryFolder();
  @Test public void testFileLengthMaxIntPlusOne() throws IOException {
    final File file=tempFolder.newFile("test.bin");
    NFileEntity fileEntity=null;
    final RandomAccessFile raFile=new RandomAccessFile(file,"rw");
    try {
      final long expectedLength=1L + Integer.MAX_VALUE;
      raFile.setLength(expectedLength);
      fileEntity=new NFileEntity(file);
      Assert.assertEquals(expectedLength,fileEntity.getContentLength());
    }
  finally {
      raFile.close();
      if (fileEntity != null) {
        fileEntity.close();
      }
    }
  }
}
