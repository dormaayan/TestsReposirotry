public class TestContentChannel {
  @Mock private ContentDecoder decoder;
  @Mock private ContentEncoder encoder;
  @Mock private ByteBuffer bb;
  @Before public void setUp() throws Exception {
    MockitoAnnotations.initMocks(this);
  }
  @After public void tearDown() throws Exception {
  }
  @Test public void testContentDecoder() throws Exception {
    final ContentDecoderChannel cdc=new ContentDecoderChannel(decoder);
    cdc.read(bb);
    verify(decoder,times(1)).read(bb);
    assertTrue(cdc.isOpen());
    cdc.close();
  }
  @Test public void testContentEncoder() throws Exception {
    final ContentEncoderChannel cec=new ContentEncoderChannel(encoder);
    cec.write(bb);
    verify(encoder,times(1)).write(bb);
    assertTrue(cec.isOpen());
    cec.close();
  }
}
