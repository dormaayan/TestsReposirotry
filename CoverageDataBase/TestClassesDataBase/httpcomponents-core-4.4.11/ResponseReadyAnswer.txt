static class ResponseReadyAnswer implements Answer<Void> {
  private final HttpResponse response;
  ResponseReadyAnswer(  final HttpResponse response){
    super();
    this.response=response;
  }
  @Override public Void answer(  final InvocationOnMock invocation) throws Throwable {
    final Object[] args=invocation.getArguments();
    final NHttpServerConnection conn=(NHttpServerConnection)args[0];
    conn.submitResponse(response);
    return null;
  }
}
