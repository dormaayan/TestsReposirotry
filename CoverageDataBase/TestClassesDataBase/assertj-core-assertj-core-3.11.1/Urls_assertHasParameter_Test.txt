public class Urls_assertHasParameter_Test extends UrlsBaseTest {
  @Test public void should_fail_if_parameter_is_missing() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news");
    String name="article";
    try {
      urls.assertHasParameter(info,url,name);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_pass_if_parameter_has_no_value() throws MalformedURLException {
    urls.assertHasParameter(info,new URL("http://assertj.org/news?article"),"article");
  }
  @Test public void should_pass_if_parameter_has_value() throws MalformedURLException {
    urls.assertHasParameter(info,new URL("http://assertj.org/news?article=10"),"article");
  }
  @Test public void should_fail_if_parameter_without_value_is_missing() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news");
    String name="article";
    String expectedValue=null;
    try {
      urls.assertHasParameter(info,url,name,expectedValue);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name,expectedValue));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_pass_if_parameter_without_value_is_found() throws MalformedURLException {
    urls.assertHasParameter(info,new URL("http://assertj.org/news?article"),"article",null);
  }
  @Test public void should_fail_if_parameter_without_value_has_value() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news?article=11");
    String name="article";
    String expectedValue=null;
    List<String> actualValues=newArrayList("11");
    try {
      urls.assertHasParameter(info,url,name,expectedValue);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name,expectedValue,actualValues));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_fail_if_parameter_without_value_has_multiple_values() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news?article=11&article=12");
    String name="article";
    String expectedValue=null;
    List<String> actualValues=newArrayList("11","12");
    try {
      urls.assertHasParameter(info,url,name,expectedValue);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name,expectedValue,actualValues));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_fail_if_parameter_with_value_is_missing() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news");
    String name="article";
    String expectedValue="10";
    try {
      urls.assertHasParameter(info,url,name,expectedValue);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name,expectedValue));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_fail_if_parameter_with_value_has_no_value() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news?article");
    String name="article";
    String expectedValue="10";
    List<String> actualValues=newArrayList((String)null);
    try {
      urls.assertHasParameter(info,url,name,expectedValue);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name,expectedValue,actualValues));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_fail_if_parameter_with_value_has_multiple_no_values() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news?article&article");
    String name="article";
    String expectedValue="10";
    List<String> actualValues=newArrayList(null,null);
    try {
      urls.assertHasParameter(info,url,name,expectedValue);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name,expectedValue,actualValues));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_fail_if_parameter_with_value_is_wrong() throws MalformedURLException {
    URL url=new URL("http://assertj.org/news?article=11");
    String name="article";
    String expectedValue="10";
    List<String> actualValues=newArrayList("11");
    try {
      urls.assertHasParameter(info,url,name,expectedValue);
    }
 catch (    AssertionError e) {
      verify(failures).failure(info,shouldHaveParameter(url,name,expectedValue,actualValues));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_pass_if_parameter_with_value_is_found() throws MalformedURLException {
    urls.assertHasParameter(info,new URL("http://assertj.org/news?article=10"),"article","10");
  }
}
