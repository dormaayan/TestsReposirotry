/** 
 * Tests for <code> {@link Strings#assertContainsPattern(AssertionInfo,CharSequence,Pattern)}</code>.
 * @author Pierre Templier
 */
public class Strings_assertContainsPattern_Pattern_Test extends StringsBaseTest {
  private static final String CONTAINED_PATTERN="dark";
  private String actual="Fear is the path to the dark side. Fear leads to anger. Anger leads to hate. Hateâ€¦ leads to suffering.";
  @Test public void should_throw_error_if_Pattern_is_null(){
    assertThatNullPointerException().isThrownBy(() -> {
      Pattern pattern=null;
      strings.assertContainsPattern(someInfo(),actual,pattern);
    }
).withMessage(regexPatternIsNull());
  }
  @Test public void should_fail_if_actual_is_null(){
    assertThatExceptionOfType(AssertionError.class).isThrownBy(() -> strings.assertContainsPattern(someInfo(),null,matchAnything())).withMessage(actualIsNull());
  }
  @Test public void should_fail_if_actual_does_not_contain_Pattern(){
    assertThatExceptionOfType(AssertionError.class).isThrownBy(() -> strings.assertContainsPattern(someInfo(),actual,Pattern.compile("Luke"))).withMessage(shouldContainPattern(actual,"Luke").create());
  }
  @Test public void should_pass_if_actual_contains_Pattern(){
    strings.assertContainsPattern(someInfo(),actual,Pattern.compile(CONTAINED_PATTERN));
  }
  @Test public void should_throw_error_if_Pattern_is_null_whatever_custom_comparison_strategy_is(){
    assertThatNullPointerException().isThrownBy(() -> {
      Pattern pattern=null;
      stringsWithCaseInsensitiveComparisonStrategy.assertContainsPattern(someInfo(),actual,pattern);
    }
).withMessage(regexPatternIsNull());
  }
  @Test public void should_fail_if_actual_is_null_whatever_custom_comparison_strategy_is(){
    assertThatExceptionOfType(AssertionError.class).isThrownBy(() -> stringsWithCaseInsensitiveComparisonStrategy.assertContainsPattern(someInfo(),null,matchAnything())).withMessage(actualIsNull());
  }
  @Test public void should_fail_if_actual_does_not_contain_Pattern_whatever_custom_comparison_strategy_is(){
    assertThatExceptionOfType(AssertionError.class).isThrownBy(() -> stringsWithCaseInsensitiveComparisonStrategy.assertContainsPattern(someInfo(),actual,Pattern.compile("Luke"))).withMessage(shouldContainPattern(actual,"Luke").create());
  }
  @Test public void should_pass_if_actual_contains_Pattern_whatever_custom_comparison_strategy_is(){
    stringsWithCaseInsensitiveComparisonStrategy.assertContainsPattern(someInfo(),actual,Pattern.compile(CONTAINED_PATTERN));
  }
}
