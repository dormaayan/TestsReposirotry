public class ObjectArrayAssert_usingElementComparatorOnFields_Test extends ObjectArrayAssertBaseTest {
  private ObjectArrays arraysBefore;
  @BeforeEach public void before(){
    arraysBefore=getArrays(assertions);
  }
  @Override protected ObjectArrayAssert<Object> invoke_api_method(){
    return assertions.usingElementComparatorOnFields("field");
  }
  @Override protected void verify_internal_effects(){
    ObjectArrays arrays=getArrays(assertions);
    assertThat(arrays).isNotSameAs(arraysBefore);
    assertThat(arrays.getComparisonStrategy()).isInstanceOf(ComparatorBasedComparisonStrategy.class);
    ComparatorBasedComparisonStrategy strategy=(ComparatorBasedComparisonStrategy)arrays.getComparisonStrategy();
    assertThat(strategy.getComparator()).isInstanceOf(ExtendedByTypesComparator.class);
    assertThat(((OnFieldsComparator)((ExtendedByTypesComparator)strategy.getComparator()).getComparator()).getFields()).containsOnly("field");
  }
  @Test public void should_be_able_to_use_a_comparator_for_specified_fields_of_elements_when_using_element_comparator_on_fields(){
    Jedi actual=new Jedi("Yoda","green");
    Jedi other=new Jedi("Luke","green");
    assertThat(array(actual)).usingComparatorForElementFieldsWithNames(ALWAY_EQUALS_STRING,"name").usingElementComparatorOnFields("name","lightSaberColor").contains(other);
  }
  @Test public void comparators_for_element_field_names_should_have_precedence_over_comparators_for_element_field_types_using_element_comparator_on_fields(){
    Comparator<String> comparator=(o1,o2) -> o1.compareTo(o2);
    Jedi actual=new Jedi("Yoda","green");
    Jedi other=new Jedi("Luke","green");
    assertThat(array(actual)).usingComparatorForElementFieldsWithNames(ALWAY_EQUALS_STRING,"name").usingComparatorForElementFieldsWithType(comparator,String.class).usingElementComparatorOnFields("name","lightSaberColor").contains(other);
  }
  @Test public void should_be_able_to_use_a_comparator_for_element_fields_with_specified_type_using_element_comparator_on_fields(){
    Jedi actual=new Jedi("Yoda","green");
    Jedi other=new Jedi("Luke","blue");
    assertThat(array(actual)).usingComparatorForElementFieldsWithType(ALWAY_EQUALS_STRING,String.class).usingElementComparatorOnFields("name","lightSaberColor").contains(other);
  }
}
