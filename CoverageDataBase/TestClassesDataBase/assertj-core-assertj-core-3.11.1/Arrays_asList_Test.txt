public class Arrays_asList_Test {
  @ParameterizedTest @MethodSource("dataProvider") public void should_return_a_list_corresponding_to_the_given_object(  Object arrayAsObject,  List<Object> expected){
    assertThat(asList(arrayAsObject)).isEqualTo(expected);
  }
  public static Object[][] dataProvider(){
    return new Object[][]{{new String[0],newArrayList()},{new String[]{"a","b","c"},newArrayList("a","b","c")},{new int[]{1,2,3},newArrayList(1,2,3)}};
  }
  @ParameterizedTest @MethodSource("notArrays") public void should_throw_IllegalArgumentException_if_given_object_is_not_an_array(  final Object notArray,  final String error){
    Throwable throwable=asListCall(notArray);
    assertThat(throwable).isInstanceOf(IllegalArgumentException.class).hasMessage(error);
  }
  private static Throwable asListCall(  final Object actual){
    return catchThrowable(new ThrowingCallable(){
      @Override public void call() throws Exception {
        asList(actual);
      }
    }
);
  }
  public static Object[][] notArrays(){
    return new Object[][]{{null,"Given object null is not an array"},{"abc","Given object abc is not an array"},{123,"Given object 123 is not an array"}};
  }
}
