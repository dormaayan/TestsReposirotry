private static class CloseableStub implements Closeable {
  boolean closed;
  IOException toThrow;
  public CloseableStub(){
  }
  public CloseableStub(  IOException toThrow){
    this.toThrow=toThrow;
  }
  @Override public void close() throws IOException {
    closed=true;
    if (toThrow != null) {
      throw toThrow;
    }
  }
}
