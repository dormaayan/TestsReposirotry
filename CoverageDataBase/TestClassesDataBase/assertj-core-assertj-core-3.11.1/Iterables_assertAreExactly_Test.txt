/** 
 * Tests for <code> {@link Iterables#assertAreExactly(AssertionInfo,Iterable,Condition,int)}</code> .
 * @author Nicolas FranÃ§ois
 * @author Mikhail Mazursky
 * @author Joel Costigliola
 */
public class Iterables_assertAreExactly_Test extends IterablesWithConditionsBaseTest {
  @Test public void should_pass_if_satisfies_exactly_times_condition(){
    actual=newArrayList("Yoda","Luke","Leia");
    iterables.assertAreExactly(someInfo(),actual,2,jedi);
    verify(conditions).assertIsNotNull(jedi);
  }
  @Test public void should_throw_error_if_condition_is_null(){
    assertThatNullPointerException().isThrownBy(() -> {
      actual=newArrayList("Yoda","Luke");
      iterables.assertAreExactly(someInfo(),actual,2,null);
    }
).withMessage("The condition to evaluate should not be null");
    verify(conditions).assertIsNotNull(null);
  }
  @Test public void should_fail_if_condition_is_not_met_enough(){
    testCondition.shouldMatch(false);
    AssertionInfo info=someInfo();
    try {
      actual=newArrayList("Yoda","Solo","Leia");
      iterables.assertAreExactly(someInfo(),actual,2,jedi);
    }
 catch (    AssertionError e) {
      verify(conditions).assertIsNotNull(jedi);
      verify(failures).failure(info,elementsShouldBeExactly(actual,2,jedi));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
  @Test public void should_fail_if_condition_is_met_much(){
    testCondition.shouldMatch(false);
    AssertionInfo info=someInfo();
    try {
      actual=newArrayList("Yoda","Luke","Obiwan");
      iterables.assertAreExactly(someInfo(),actual,2,jedi);
    }
 catch (    AssertionError e) {
      verify(conditions).assertIsNotNull(jedi);
      verify(failures).failure(info,elementsShouldBeExactly(actual,2,jedi));
      return;
    }
    failBecauseExpectedAssertionErrorWasNotThrown();
  }
}
