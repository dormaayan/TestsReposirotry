/** 
 * Tests for <code> {@link ObjectAssert#hasNoNullFieldsOrPropertiesExcept(String)}</code>.
 * @author Johannes Brodwall
 */
public class ObjectAssert_hasNoNullFieldsOrProperties_Test extends ObjectAssertBaseTest {
  public static final String FIELD_NAME="color";
  @Override protected ObjectAssert<Jedi> invoke_api_method(){
    return assertions.hasNoNullFieldsOrPropertiesExcept(FIELD_NAME);
  }
  @Override protected void verify_internal_effects(){
    verify(objects).assertHasNoNullFieldsOrPropertiesExcept(getInfo(assertions),getActual(assertions),FIELD_NAME);
  }
  @Test public void should_fail_if_a_public_field_is_null(){
    Jedi jedi=new Jedi("Yoda",null);
    assertThatExceptionOfType(AssertionError.class).isThrownBy(() -> assertThat(jedi).hasNoNullFieldsOrPropertiesExcept("name","strangeNotReadablePrivateField")).withMessage(format("%n" + "Expecting%n" + "  <Yoda the Jedi>%n"+ "not to have any null property or field, but <\"lightSaberColor\"> was null.%n"+ "Check was performed on all fields/properties except: <[\"name\", \"strangeNotReadablePrivateField\"]>"));
  }
  @Test public void should_fail_if_a_private_field_is_null(){
    Jedi jedi=new Jedi("Yoda","Blue");
    assertThatExceptionOfType(AssertionError.class).isThrownBy(() -> assertThat(jedi).hasNoNullFieldsOrProperties()).withMessage(format("%n" + "Expecting%n" + "  <Yoda the Jedi>%n"+ "not to have any null property or field, but <\"strangeNotReadablePrivateField\"> was null.%n"+ "Check was performed on all fields/properties"));
  }
  @Test public void should_fail_if_a_property_is_null(){
    Person nobody=new Person(null);
    assertThatExceptionOfType(AssertionError.class).isThrownBy(() -> assertThat(nobody).hasNoNullFieldsOrProperties()).withMessage(format("%n" + "Expecting%n" + "  <Person[name='null']>%n"+ "not to have any null property or field, but <\"name\"> was null.%n"+ "Check was performed on all fields/properties"));
  }
  @Test public void should_pass_if_all_fields_or_properties_but_the_ignored_ones_are_set(){
    Jedi jedi=new Jedi("Yoda",null);
    assertThat(jedi).hasNoNullFieldsOrPropertiesExcept("lightSaberColor","strangeNotReadablePrivateField");
  }
}
