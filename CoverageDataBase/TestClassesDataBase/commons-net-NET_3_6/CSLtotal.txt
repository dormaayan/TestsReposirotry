static class CSLtotal implements CopyStreamListener {
  final long expectedTotal;
  final long expectedBytes;
  volatile long totalBytesTransferredTotal;
  volatile long bytesTransferredTotal;
  CSLtotal(  long totalBytesTransferred,  long bytesTransferred){
    this.expectedTotal=totalBytesTransferred;
    this.expectedBytes=bytesTransferred;
  }
  @Override public void bytesTransferred(  CopyStreamEvent event){
  }
  @Override public void bytesTransferred(  long totalBytesTransferred,  int bytesTransferred,  long streamSize){
    Assert.assertEquals("Wrong bytes",expectedBytes,bytesTransferred);
    this.totalBytesTransferredTotal=totalBytesTransferred;
    this.bytesTransferredTotal+=bytesTransferred;
  }
  void checkExpected(){
    Assert.assertEquals("Wrong totalBytesTransferred total",expectedTotal,totalBytesTransferredTotal);
    Assert.assertEquals("Total should equal sum of parts",totalBytesTransferredTotal,bytesTransferredTotal);
  }
}
