/** 
 * TesterDriver that keeps a static count of connection requests.
 */
class TesterConnRequestCountDriver extends TesterDriver {
  private static final String CONNECT_STRING="jdbc:apache:commons:testerConnRequestCountDriver";
  private static AtomicInteger connectionRequestCount=new AtomicInteger(0);
  public TesterConnRequestCountDriver(){
  }
  @Override public Connection connect(  final String url,  final Properties info) throws SQLException {
    connectionRequestCount.incrementAndGet();
    return super.connect(url,info);
  }
  @Override public boolean acceptsURL(  final String url) throws SQLException {
    return CONNECT_STRING.startsWith(url);
  }
  public static int getConnectionRequestCount(){
    return connectionRequestCount.get();
  }
  public static void initConnRequestCount(){
    connectionRequestCount.set(0);
  }
}
