@RunWith(Parameterized.class) public class RamlBuilderTestCase extends TestDataProvider {
  public RamlBuilderTestCase(  File input,  File expectedOutput,  String name){
    super(input,expectedOutput,name);
  }
  @Test public void runTest() throws IOException {
    final RamlBuilder builder=new RamlBuilder();
    final Node raml=builder.build(input);
    assertThat(raml,notNullValue());
    dump=new RamlTreeNodeDumper().dump(raml);
    expected=IOUtils.toString(new FileInputStream(this.expectedOutput));
    Assert.assertThat(dump,IsEqualIgnoringWhiteSpace.equalToIgnoringWhiteSpace(expected));
  }
  @Parameterized.Parameters(name="{2}") public static Collection<Object[]> getData() throws URISyntaxException {
    return getData(RamlBuilderTestCase.class.getResource("").toURI(),"input.raml","output.txt");
  }
}
