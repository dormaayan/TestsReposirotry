public class AbsoluteIncludeTestCase {
  @Test public void absoluteIncludePath(){
    final RamlBuilder builder=new RamlBuilder();
    final Node raml=builder.build(getRaml(),"some/location/input.raml");
    assertThat(raml,notNullValue());
    String dump=new TckEmitter().dump(raml);
    Assert.assertThat(dump,IsEqualIgnoringWhiteSpace.equalToIgnoringWhiteSpace(getExpectedOutput()));
  }
  private String getRaml(){
    String includePath=new File("src/test/resources/org/raml/v2/parser/include/nested/description.txt").getAbsolutePath();
    return "#%RAML 1.0\n" + "title: absolute include\n" + "description: !include "+ includePath;
  }
  private String getExpectedOutput(){
    return "{\n" + "    \"title\": { \"value\": \"absolute include\" },\n" + "    \"description\": { \"value\": \"some description\" }\n"+ "}\n";
  }
}
