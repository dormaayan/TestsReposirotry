public class RejectIterableTest extends AbstractLazyIterableTestCase {
  @Override protected <T>LazyIterable<T> newWith(  T... elements){
    return LazyIterate.reject(FastList.newListWith(elements),ignored -> false);
  }
  @Test public void forEach(){
    InternalIterable<Integer> select=new RejectIterable<>(Interval.oneTo(5),Predicates.lessThan(5));
    Sum sum=new IntegerSum(0);
    select.forEach(new SumProcedure<>(sum));
    Assert.assertEquals(5,sum.getValue().intValue());
  }
  @Test public void forEachWithIndex(){
    InternalIterable<Integer> select=new RejectIterable<>(Interval.oneTo(5),Predicates.lessThan(2).or(Predicates.greaterThan(3)));
    Sum sum=new IntegerSum(0);
    select.forEachWithIndex((object,index) -> {
      sum.add(object);
      sum.add(index);
    }
);
    Assert.assertEquals(6,sum.getValue().intValue());
  }
  @Override @Test public void iterator(){
    InternalIterable<Integer> select=new RejectIterable<>(Interval.oneTo(5),Predicates.lessThan(5));
    Sum sum=new IntegerSum(0);
    for (    Integer each : select) {
      sum.add(each);
    }
    Assert.assertEquals(5,sum.getValue().intValue());
  }
  @Test public void forEachWith(){
    InternalIterable<Integer> select=new RejectIterable<>(Interval.oneTo(5),Predicates.lessThan(5));
    Sum sum=new IntegerSum(0);
    select.forEachWith((each,aSum) -> aSum.add(each),sum);
    Assert.assertEquals(5,sum.getValue().intValue());
  }
  @Override @Test public void distinct(){
    super.distinct();
    RejectIterable<Integer> iterable=new RejectIterable<>(FastList.newListWith(3,2,2,4,1,3,1,5),Predicates.lessThan(2));
    Assert.assertEquals(FastList.newListWith(3,2,4,5),iterable.distinct().toList());
  }
}
