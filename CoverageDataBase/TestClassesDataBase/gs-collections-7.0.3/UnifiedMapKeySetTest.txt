@RunWith(Java8Runner.class) public class UnifiedMapKeySetTest implements SetTestCase {
  private static final long CURRENT_TIME_MILLIS=System.currentTimeMillis();
  @SafeVarargs @Override public final <T>Set<T> newWith(  T... elements){
    Random random=new Random(CURRENT_TIME_MILLIS);
    MutableMap<T,Double> result=new UnifiedMap<>();
    for (    T element : elements) {
      assertNull(result.put(element,random.nextDouble()));
    }
    return result.keySet();
  }
  @Override public boolean allowsDuplicates(){
    return false;
  }
  @Override @Test(expected=UnsupportedOperationException.class) public void Collection_add(){
    SetTestCase.super.Collection_add();
  }
}
