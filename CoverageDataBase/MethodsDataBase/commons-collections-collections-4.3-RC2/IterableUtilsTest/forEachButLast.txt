@Test public void forEachButLast(){
  final List<Integer> listA=new ArrayList<>();
  listA.add(1);
  final List<Integer> listB=new ArrayList<>();
  listB.add(2);
  final Closure<List<Integer>> testClosure=ClosureUtils.invokerClosure("clear");
  final Collection<List<Integer>> col=new ArrayList<>();
  col.add(listA);
  col.add(listB);
  List<Integer> last=IterableUtils.forEachButLast(col,testClosure);
  assertTrue(listA.isEmpty() && !listB.isEmpty());
  assertSame(listB,last);
  try {
    IterableUtils.forEachButLast(col,null);
    fail("expecting NullPointerException");
  }
 catch (  final NullPointerException npe) {
  }
  IterableUtils.forEachButLast(null,testClosure);
  col.add(null);
  col.add(null);
  last=IterableUtils.forEachButLast(col,testClosure);
  assertNull(last);
}
