@Test public void testForEachButLast(){
  final List<Integer> listA=new ArrayList<>();
  listA.add(1);
  final List<Integer> listB=new ArrayList<>();
  listB.add(2);
  final Closure<List<Integer>> testClosure=ClosureUtils.invokerClosure("clear");
  final Collection<List<Integer>> col=new ArrayList<>();
  col.add(listA);
  col.add(listB);
  List<Integer> last=IteratorUtils.forEachButLast(col.iterator(),testClosure);
  assertTrue(listA.isEmpty() && !listB.isEmpty());
  assertSame(listB,last);
  try {
    IteratorUtils.forEachButLast(col.iterator(),null);
    fail("expecting NullPointerException");
  }
 catch (  final NullPointerException npe) {
  }
  IteratorUtils.forEachButLast(null,testClosure);
  col.add(null);
  col.add(null);
  last=IteratorUtils.forEachButLast(col.iterator(),testClosure);
  assertNull(last);
}
