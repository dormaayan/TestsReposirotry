@Test public void testRemoveAllWithEquator(){
  final List<String> base=new ArrayList<>();
  base.add("AC");
  base.add("BB");
  base.add("CA");
  final List<String> remove=new ArrayList<>();
  remove.add("AA");
  remove.add("CX");
  remove.add("XZ");
  final Collection<String> result=CollectionUtils.removeAll(base,remove,new Equator<String>(){
    @Override public boolean equate(    final String o1,    final String o2){
      return o1.charAt(1) == o2.charAt(1);
    }
    @Override public int hash(    final String o){
      return o.charAt(1);
    }
  }
);
  assertEquals(2,result.size());
  assertTrue(result.contains("AC"));
  assertTrue(result.contains("BB"));
  assertFalse(result.contains("CA"));
  assertEquals(3,base.size());
  assertEquals(true,base.contains("AC"));
  assertEquals(true,base.contains("BB"));
  assertEquals(true,base.contains("CA"));
  assertEquals(3,remove.size());
  assertEquals(true,remove.contains("AA"));
  assertEquals(true,remove.contains("CX"));
  assertEquals(true,remove.contains("XZ"));
  try {
    CollectionUtils.removeAll(null,null,DefaultEquator.defaultEquator());
    fail("expecting NullPointerException");
  }
 catch (  final NullPointerException npe) {
  }
  try {
    CollectionUtils.removeAll(base,remove,null);
    fail("expecting NullPointerException");
  }
 catch (  final NullPointerException npe) {
  }
}
