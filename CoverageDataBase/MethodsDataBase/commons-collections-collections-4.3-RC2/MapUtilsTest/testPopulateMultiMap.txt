@Test public void testPopulateMultiMap(){
  final List<X> list=new ArrayList<>();
  list.add(new X(1,"x1"));
  list.add(new X(2,"x2"));
  list.add(new X(2,"x3"));
  list.add(new X(5,"x4"));
  list.add(new X(5,"x5"));
  final MultiValueMap<Integer,X> map=MultiValueMap.multiValueMap(new TreeMap<Integer,Collection<X>>());
  MapUtils.populateMap(map,list,new Transformer<X,Integer>(){
    @Override public Integer transform(    final X input){
      return input.key;
    }
  }
,TransformerUtils.<X>nopTransformer());
  assertEquals(list.size(),map.totalSize());
  for (int i=0; i < list.size(); i++) {
    assertEquals(true,map.containsKey(list.get(i).key));
    assertEquals(true,map.containsValue(list.get(i)));
  }
}
