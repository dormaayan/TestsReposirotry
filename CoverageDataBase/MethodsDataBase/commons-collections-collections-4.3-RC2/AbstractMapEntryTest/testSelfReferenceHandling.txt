/** 
 * Subclasses should override this method to test the desired behaviour of the class with respect to handling of self-references.
 */
@SuppressWarnings("unchecked") @Test public void testSelfReferenceHandling(){
  final Map.Entry<K,V> entry=makeMapEntry();
  try {
    entry.setValue((V)entry);
    fail("Should throw an IllegalArgumentException");
  }
 catch (  final IllegalArgumentException iae) {
    assertTrue(entry.getKey() == null && entry.getValue() == null);
  }
}
