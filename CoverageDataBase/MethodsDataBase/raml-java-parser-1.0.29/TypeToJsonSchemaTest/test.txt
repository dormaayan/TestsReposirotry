@Test public void test() throws IOException, SAXException {
  final RamlBuilder builder=new RamlBuilder();
  final Node build=builder.build(input);
  final List<TypeDeclarationField> fields=build.findDescendantsWith(TypeDeclarationField.class);
  for (  TypeDeclarationField field : fields) {
    if (field.getName().equals("root")) {
      final ResolvedType resolvedType=((TypeDeclarationNode)field.getValue()).getResolvedType();
      JsonObject actual=new TypeToJsonSchemaVisitor().transform(resolvedType);
      dump=actual.toString();
      expected=IOUtils.toString(new FileInputStream(expectedOutput));
      assertTrue(jsonEquals(dump,expected));
      return;
    }
  }
  fail("No type called root was found");
}
