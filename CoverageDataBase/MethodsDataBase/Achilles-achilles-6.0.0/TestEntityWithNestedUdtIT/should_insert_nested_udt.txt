@Test public void should_insert_nested_udt() throws Exception {
  final Long id=RandomUtils.nextLong(0,Long.MAX_VALUE);
  final EntityWithNestedUDT entity=new EntityWithNestedUDT();
  final UDTWithNoKeyspace udtWithNoKeySpace=new UDTWithNoKeyspace();
  udtWithNoKeySpace.setId(id);
  udtWithNoKeySpace.setValue("udt_with_no_keyspace");
  final UDTWithNestedUDT udtWithNestedUDT=new UDTWithNestedUDT();
  udtWithNestedUDT.setValue("value");
  udtWithNestedUDT.setNestedUDT(udtWithNoKeySpace);
  udtWithNestedUDT.setUdtList(Arrays.asList(udtWithNoKeySpace));
  udtWithNestedUDT.setTupleWithUDT(new Tuple2<>(1,udtWithNoKeySpace));
  entity.setId(id);
  entity.setUdt(udtWithNoKeySpace);
  entity.setComplexUDT(udtWithNestedUDT);
  entity.setOptionalUDT(Optional.of(udtWithNoKeySpace));
  manager.crud().insert(entity).execute();
  final EntityWithNestedUDT found=manager.crud().findById(id).get();
  assertThat(found).isNotNull();
  assertThat(found.getUdt()).isEqualTo(udtWithNoKeySpace);
  assertThat(found.getComplexUDT()).isEqualTo(udtWithNestedUDT);
  assertThat(found.getOptionalUDT().isPresent()).isTrue();
  assertThat(found.getOptionalUDT().get()).isEqualTo(udtWithNoKeySpace);
}
