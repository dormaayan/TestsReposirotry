@Test public void should_insert_generate_query_and_bound_values() throws Exception {
  final long id=RandomUtils.nextLong(0L,Long.MAX_VALUE);
  final EntityAsChild entity=new EntityAsChild(id,"val","child_val");
  final InsertWithOptions<EntityAsChild> insert=manager.crud().insert(entity).usingTimeToLive(123).usingTimestamp(100L);
  String expectedQuery="INSERT INTO " + DEFAULT_CASSANDRA_EMBEDDED_KEYSPACE_NAME + ".entity_child (id,child_value,value) "+ "VALUES (:id,:child_value,:value) "+ "USING TTL :ttl;";
  assertThat(insert.getStatementAsString()).isEqualTo(expectedQuery);
  assertThat(insert.getBoundValues()).containsExactly(id,"child_val","val",123);
  assertThat(insert.getEncodedBoundValues()).containsExactly(id,"child_val","val",123);
  assertThat(insert.generateAndGetBoundStatement().preparedStatement().getQueryString()).isEqualTo(expectedQuery);
}
