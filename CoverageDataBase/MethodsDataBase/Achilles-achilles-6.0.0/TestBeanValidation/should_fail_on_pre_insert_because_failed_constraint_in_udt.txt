@Test public void should_fail_on_pre_insert_because_failed_constraint_in_udt() throws Exception {
  final Long id=RandomUtils.nextLong(0L,Long.MAX_VALUE);
  final TestUDT udt=new TestUDT("test@test.com",null,ImmutableMap.of(1,"one"));
  final EntityWithBeanValidation entity=new EntityWithBeanValidation(id,"value",asList(""),udt);
  exception.expect(AchillesBeanValidationException.class);
  exception.expectMessage("Bean validation error on event 'PRE_INSERT' : \n" + "\tproperty 'udt.list' of class 'info.archinnov.achilles.internals.entities.TestUDT' UDT list should not be empty");
  manager.crud().insert(entity).execute();
}
