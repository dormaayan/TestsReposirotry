@Test public void should_fail_on_pre_insert_because_invalid_email_in_udt() throws Exception {
  final Long id=RandomUtils.nextLong(0L,Long.MAX_VALUE);
  final TestUDT udt=new TestUDT("test",asList("list"),ImmutableMap.of(1,"one"));
  final EntityWithBeanValidation entity=new EntityWithBeanValidation(id,"value",asList(""),udt);
  exception.expect(AchillesBeanValidationException.class);
  exception.expectMessage("Bean validation error on event 'PRE_INSERT' : \n" + "\tproperty 'udt.name' of class 'info.archinnov.achilles.internals.entities.TestUDT' not a well-formed email address");
  manager.crud().insert(entity).execute();
}
