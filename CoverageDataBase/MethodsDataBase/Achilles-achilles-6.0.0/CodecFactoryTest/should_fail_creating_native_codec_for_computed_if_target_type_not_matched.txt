@Test public void should_fail_creating_native_codec_for_computed_if_target_type_not_matched() throws Exception {
  setExec(aptUtils -> {
    final CodecFactory codecFactory=new CodecFactory(aptUtils);
    final TypeElement typeElement=aptUtils.elementUtils.getTypeElement(TestEntityForCodecs.class.getCanonicalName());
    final FieldParsingContext context=getFieldParsingContext(aptUtils,typeElement);
    final VariableElement elm=findFieldInType(typeElement,"writeTimeNotMatchingComputed");
    final AnnotationTree tree=AnnotationTree.buildFrom(aptUtils,context.entityContext.globalContext,elm);
    codecFactory.createCodec(ClassName.get(Integer.class),tree,context,Optional.empty());
  }
);
  failTestWithMessage("CQL class 'java.lang.Long' of @Computed field 'field' " + "of class 'info.archinnov.achilles.internals.sample_classes.parser.field.TestEntityForCodecs' " + "should be same as field class 'java.lang.Integer'");
}
