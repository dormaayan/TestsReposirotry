@Test public void should_find_with_async_listeners() throws Exception {
  final long id=RandomUtils.nextLong(0L,Long.MAX_VALUE);
  final Date date=buildDateKey();
  scriptExecutor.executeScriptTemplate("SimpleEntity/insert_single_row.cql",ImmutableMap.of("id",id,"table","simple"));
  final SimpleEntity found=manager.crud().findById(id,date).withResultSetAsyncListener(rs -> {
    assertThat(rs.getAvailableWithoutFetching()).isEqualTo(1);
    return rs;
  }
).withRowAsyncListener(row -> {
    assertThat(row.getLong("id")).isEqualTo(id);
    return row;
  }
).get();
  assertThat(found).isNotNull();
}
