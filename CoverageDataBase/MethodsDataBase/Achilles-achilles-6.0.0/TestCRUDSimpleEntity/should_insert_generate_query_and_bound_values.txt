@Test public void should_insert_generate_query_and_bound_values() throws Exception {
  final long id=RandomUtils.nextLong(0L,Long.MAX_VALUE);
  final Date date=buildDateKey();
  final SimpleEntity entity=new SimpleEntity(id,date,"value");
  entity.setConsistencyList(Arrays.asList(ALL));
  final InsertWithOptions<SimpleEntity> insert=manager.crud().insert(entity).usingTimeToLive(123).usingTimestamp(100L);
  String expectedQuery="INSERT INTO " + DEFAULT_CASSANDRA_EMBEDDED_KEYSPACE_NAME + ".simple (id,date,consistencylist,simplemap,simpleset,value) "+ "VALUES (:id,:date,:consistencylist,:simplemap,:simpleset,:value) "+ "USING TTL :ttl;";
  assertThat(insert.getStatementAsString()).isEqualTo(expectedQuery);
  assertThat(insert.getBoundValues()).containsExactly(id,date,Arrays.asList(ALL),null,null,"value",123);
  assertThat(insert.getEncodedBoundValues()).containsExactly(id,date,Arrays.asList("ALL"),null,null,"value",123);
  assertThat(insert.generateAndGetBoundStatement().preparedStatement().getQueryString()).isEqualTo(expectedQuery);
}
