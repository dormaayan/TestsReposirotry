@Test public void should_typed_query() throws Exception {
  final long id=RandomUtils.nextLong(0L,Long.MAX_VALUE);
  scriptExecutor.executeScriptTemplate("EntityWithCustomConstructorAndDeclaredFields/should_insert_row.cql",ImmutableMap.of("id",id));
  final SimpleStatement statement=new SimpleStatement("SELECT id,value,udt FROM achilles_embedded.custom_constructor_declared_fields WHERE id=?");
  final PreparedStatement ps=session.prepare(statement);
  final EntityWithCustomConstructorAndDeclaredFields actual=manager.raw().typedQueryForSelect(ps.bind(id)).getOne();
  assertThat(actual).isNotNull();
  assertThat(actual.getName()).isNull();
  assertThat(actual.getValue()).isEqualTo(3.0);
  assertThat(actual.getUdt()).isNotNull();
  assertThat(actual.getUdt().getIdx()).isEqualTo(4L);
  assertThat(actual.getUdt().getValue()).isEqualTo("my_value_udt");
}
