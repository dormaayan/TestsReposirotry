@Test public void goAwayWithoutDebugDataRoundTrip() throws IOException {
  final ErrorCode expectedError=ErrorCode.PROTOCOL_ERROR;
  writeMedium(frame,8);
  frame.writeByte(Http2.TYPE_GOAWAY);
  frame.writeByte(Http2.FLAG_NONE);
  frame.writeInt(0);
  frame.writeInt(expectedStreamId);
  frame.writeInt(expectedError.httpCode);
  assertEquals(frame,sendGoAway(expectedStreamId,expectedError,Util.EMPTY_BYTE_ARRAY));
  reader.nextFrame(false,new BaseTestHandler(){
    @Override public void goAway(    int lastGoodStreamId,    ErrorCode errorCode,    ByteString debugData){
      assertEquals(expectedStreamId,lastGoodStreamId);
      assertEquals(expectedError,errorCode);
      assertEquals(0,debugData.size());
    }
  }
);
}
