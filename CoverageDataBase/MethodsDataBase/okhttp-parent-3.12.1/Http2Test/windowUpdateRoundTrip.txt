@Test public void windowUpdateRoundTrip() throws IOException {
  final long expectedWindowSizeIncrement=0x7fffffff;
  writeMedium(frame,4);
  frame.writeByte(Http2.TYPE_WINDOW_UPDATE);
  frame.writeByte(Http2.FLAG_NONE);
  frame.writeInt(expectedStreamId);
  frame.writeInt((int)expectedWindowSizeIncrement);
  assertEquals(frame,windowUpdate(expectedWindowSizeIncrement));
  reader.nextFrame(false,new BaseTestHandler(){
    @Override public void windowUpdate(    int streamId,    long windowSizeIncrement){
      assertEquals(expectedStreamId,streamId);
      assertEquals(expectedWindowSizeIncrement,windowSizeIncrement);
    }
  }
);
}
