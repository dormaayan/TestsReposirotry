@Test public void readSettingsFrameNegativeWindowSize() throws IOException {
  writeMedium(frame,6);
  frame.writeByte(Http2.TYPE_SETTINGS);
  frame.writeByte(Http2.FLAG_NONE);
  frame.writeInt(0);
  frame.writeShort(4);
  frame.writeInt(Integer.MIN_VALUE);
  try {
    reader.nextFrame(false,new BaseTestHandler());
    fail();
  }
 catch (  IOException e) {
    assertEquals("PROTOCOL_ERROR SETTINGS_INITIAL_WINDOW_SIZE > 2^31 - 1",e.getMessage());
  }
}
