@Test public void keyManager(){
  HeldCertificate root=new HeldCertificate.Builder().certificateAuthority(1).build();
  HeldCertificate intermediate=new HeldCertificate.Builder().certificateAuthority(0).signedBy(root).build();
  HeldCertificate certificate=new HeldCertificate.Builder().signedBy(intermediate).build();
  HandshakeCertificates handshakeCertificates=new HandshakeCertificates.Builder().heldCertificate(certificate,intermediate.certificate()).build();
  assertPrivateKeysEquals(certificate.keyPair().getPrivate(),handshakeCertificates.keyManager().getPrivateKey("private"));
  assertEquals(Arrays.asList(certificate.certificate(),intermediate.certificate()),Arrays.asList(handshakeCertificates.keyManager().getCertificateChain("private")));
}
