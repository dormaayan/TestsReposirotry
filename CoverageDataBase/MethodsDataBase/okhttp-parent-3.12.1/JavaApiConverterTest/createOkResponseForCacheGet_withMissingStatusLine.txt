/** 
 * Test for https://code.google.com/p/android/issues/detail?id=160522 
 */
@Test public void createOkResponseForCacheGet_withMissingStatusLine() throws Exception {
  URI uri=new URI("http://foo/bar");
  Request request=new Request.Builder().url(uri.toURL()).build();
  CacheResponse cacheResponse=new CacheResponse(){
    @Override public Map<String,List<String>> getHeaders() throws IOException {
      Map<String,List<String>> headers=new LinkedHashMap<>();
      headers.put("xyzzy",Arrays.asList("bar","baz"));
      return headers;
    }
    @Override public InputStream getBody() throws IOException {
      return null;
    }
  }
;
  try {
    JavaApiConverter.createOkResponseForCacheGet(request,cacheResponse);
    fail();
  }
 catch (  IOException expected) {
  }
}
