@Test public void explicitDirectProxy() throws Exception {
  Address address=new Address(uriHost,uriPort,dns,socketFactory,null,null,null,authenticator,NO_PROXY,protocols,connectionSpecs,proxySelector);
  RouteSelector routeSelector=new RouteSelector(address,routeDatabase,null,EventListener.NONE);
  assertTrue(routeSelector.hasNext());
  dns.set(uriHost,dns.allocate(2));
  RouteSelector.Selection selection=routeSelector.next();
  assertRoute(selection.next(),address,NO_PROXY,dns.lookup(uriHost,0),uriPort);
  assertRoute(selection.next(),address,NO_PROXY,dns.lookup(uriHost,1),uriPort);
  assertFalse(selection.hasNext());
  assertFalse(routeSelector.hasNext());
  dns.assertRequests(uriHost);
  proxySelector.assertRequests();
}
