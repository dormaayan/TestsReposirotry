@Test public void postZeroLength() throws Exception {
  server.enqueue(new MockResponse().setBody("abc"));
  Request request=new Request.Builder().url(server.url("/")).method("POST",RequestBody.create(null,new byte[0])).build();
  executeSynchronously(request).assertCode(200).assertBody("abc");
  RecordedRequest recordedRequest=server.takeRequest();
  assertEquals("POST",recordedRequest.getMethod());
  assertEquals(0,recordedRequest.getBody().size());
  assertEquals("0",recordedRequest.getHeader("Content-Length"));
  assertEquals(null,recordedRequest.getHeader("Content-Type"));
}
