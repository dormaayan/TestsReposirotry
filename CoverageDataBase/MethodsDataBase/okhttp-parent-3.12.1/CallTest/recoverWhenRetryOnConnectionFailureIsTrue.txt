@Test public void recoverWhenRetryOnConnectionFailureIsTrue() throws Exception {
  server.enqueue(new MockResponse().setBody("seed connection pool"));
  server.enqueue(new MockResponse().setSocketPolicy(SocketPolicy.DISCONNECT_AFTER_REQUEST));
  server.enqueue(new MockResponse().setBody("retry success"));
  client=client.newBuilder().dns(new DoubleInetAddressDns()).build();
  assertTrue(client.retryOnConnectionFailure());
  executeSynchronously("/").assertBody("seed connection pool");
  executeSynchronously("/").assertBody("retry success");
}
