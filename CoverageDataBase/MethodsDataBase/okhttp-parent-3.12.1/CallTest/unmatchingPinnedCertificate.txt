@Test public void unmatchingPinnedCertificate() throws Exception {
  enableTls();
  server.enqueue(new MockResponse());
  client=client.newBuilder().certificatePinner(new CertificatePinner.Builder().add(server.getHostName(),"sha1/DmxUShsZuNiqPQsX2Oi9uv2sCnw=").build()).build();
  Request request=new Request.Builder().url(server.url("/")).build();
  try {
    client.newCall(request).execute();
    fail();
  }
 catch (  SSLPeerUnverifiedException expected) {
    assertTrue(expected.getMessage().startsWith("Certificate pinning failure!"));
  }
}
