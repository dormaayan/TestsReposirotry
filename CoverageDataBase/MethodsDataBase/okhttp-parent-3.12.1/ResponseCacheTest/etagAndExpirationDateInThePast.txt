/** 
 * If both If-Modified-Since and If-None-Match conditions apply, send only If-None-Match. 
 */
@Test public void etagAndExpirationDateInThePast() throws Exception {
  String lastModifiedDate=formatDate(-2,TimeUnit.HOURS);
  RecordedRequest conditionalRequest=assertConditionallyCached(new MockResponse().addHeader("ETag: v1").addHeader("Last-Modified: " + lastModifiedDate).addHeader("Expires: " + formatDate(-1,TimeUnit.HOURS)));
  assertEquals("v1",conditionalRequest.getHeader("If-None-Match"));
  assertNull(conditionalRequest.getHeader("If-Modified-Since"));
}
