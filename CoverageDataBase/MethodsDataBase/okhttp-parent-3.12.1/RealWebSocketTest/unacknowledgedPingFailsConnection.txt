@Test public void unacknowledgedPingFailsConnection() throws IOException {
  long startNanos=System.nanoTime();
  client.initWebSocket(random,500);
  client.listener.assertFailure(SocketTimeoutException.class,"sent ping but didn't receive pong within 500ms (after 0 successful ping/pongs)");
  long elapsedUntilFailure=System.nanoTime() - startNanos;
  assertEquals(1000,TimeUnit.NANOSECONDS.toMillis(elapsedUntilFailure),250d);
}
