@Test public void defaultCertificate() throws CertificateParsingException {
  long now=System.currentTimeMillis();
  HeldCertificate heldCertificate=new HeldCertificate.Builder().build();
  X509Certificate certificate=heldCertificate.certificate();
  assertEquals("self-signed",certificate.getIssuerX500Principal().getName(),certificate.getSubjectX500Principal().getName());
  assertTrue(certificate.getIssuerX500Principal().getName().matches("CN=[0-9a-f-]{36}"));
  assertEquals(BigInteger.ONE,certificate.getSerialNumber());
  assertNull(certificate.getSubjectAlternativeNames());
  double deltaMillis=1000.0;
  long durationMillis=TimeUnit.MINUTES.toMillis(60 * 24);
  assertEquals((double)now,certificate.getNotBefore().getTime(),deltaMillis);
  assertEquals((double)now + durationMillis,certificate.getNotAfter().getTime(),deltaMillis);
}
