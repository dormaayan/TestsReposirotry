/** 
 * Header table backing array is initially 8 long, let's ensure it grows. 
 */
@Test public void dynamicallyGrowsBeyond64Entries() throws IOException {
  hpackReader=new Hpack.Reader(16384,4096,bytesIn);
  bytesIn.writeByte(0x3F);
  bytesIn.writeByte(0xE1);
  bytesIn.writeByte(0x7F);
  for (int i=0; i < 256; i++) {
    bytesIn.writeByte(0x40);
    bytesIn.writeByte(0x0a);
    bytesIn.writeUtf8("custom-foo");
    bytesIn.writeByte(0x0d);
    bytesIn.writeUtf8("custom-header");
  }
  hpackReader.readHeaders();
  assertEquals(256,hpackReader.headerCount);
}
