/** 
 * These public suffixes were selected by inspecting the publicsuffix.org list. It's possible they may change in the future. If this test begins to fail, please double check they are still present in the public suffix list.
 */
@Test public void domainIsPublicSuffix(){
  HttpUrl ascii=HttpUrl.get("https://foo1.foo.bar.elb.amazonaws.com");
  assertNotNull(Cookie.parse(ascii,"a=b; domain=foo.bar.elb.amazonaws.com"));
  assertNull(Cookie.parse(ascii,"a=b; domain=bar.elb.amazonaws.com"));
  assertNull(Cookie.parse(ascii,"a=b; domain=com"));
  HttpUrl unicode=HttpUrl.get("https://長.長.長崎.jp");
  assertNotNull(Cookie.parse(unicode,"a=b; domain=長.長崎.jp"));
  assertNull(Cookie.parse(unicode,"a=b; domain=長崎.jp"));
  HttpUrl punycode=HttpUrl.get("https://xn--ue5a.xn--ue5a.xn--8ltr62k.jp");
  assertNotNull(Cookie.parse(punycode,"a=b; domain=xn--ue5a.xn--8ltr62k.jp"));
  assertNull(Cookie.parse(punycode,"a=b; domain=xn--8ltr62k.jp"));
}
