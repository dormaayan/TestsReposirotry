@Test public void readFromFile() throws Exception {
  Buffer upstream=new Buffer();
  upstream.writeUtf8("abcdefghijklmnopqrst");
  Relay relay=Relay.edit(file,upstream,metadata,5);
  BufferedSource source1=Okio.buffer(relay.newSource());
  BufferedSource source2=Okio.buffer(relay.newSource());
  assertEquals("abcdefghij",source1.readUtf8(10));
  assertEquals("abcdefghij",source2.readUtf8(10));
  assertEquals("klmnopqrst",source2.readUtf8(10));
  assertEquals("klmnopqrst",source1.readUtf8(10));
  assertTrue(source1.exhausted());
  assertTrue(source2.exhausted());
  source1.close();
  source2.close();
  assertTrue(relay.isClosed());
  assertFile(Relay.PREFIX_CLEAN,20L,metadata.size(),"abcdefghijklmnopqrst",metadata);
}
