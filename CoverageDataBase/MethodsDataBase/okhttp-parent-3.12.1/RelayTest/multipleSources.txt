@Test public void multipleSources() throws Exception {
  Buffer upstream=new Buffer();
  upstream.writeUtf8("abcdefghijklm");
  Relay relay=Relay.edit(file,upstream,metadata,1024);
  BufferedSource source1=Okio.buffer(relay.newSource());
  BufferedSource source2=Okio.buffer(relay.newSource());
  assertEquals("abcdefghijklm",source1.readUtf8());
  assertEquals("abcdefghijklm",source2.readUtf8());
  source1.close();
  source2.close();
  assertTrue(relay.isClosed());
  assertFile(Relay.PREFIX_CLEAN,13L,metadata.size(),"abcdefghijklm",metadata);
}
