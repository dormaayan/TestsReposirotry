@Test public void installClosesPreviouslyInstalled() throws Exception {
  HttpResponseCache first=HttpResponseCache.install(cacheDir,10 * 1024 * 1024);
  initializeCache(first);
  HttpResponseCache another=HttpResponseCache.install(cacheDir,8 * 1024 * 1024);
  initializeCache(another);
  assertNotSame(first,another);
  try {
    first.flush();
    fail();
  }
 catch (  IllegalStateException expected) {
  }
}
