@Test public void composeMixingPathSegments() throws Exception {
  HttpUrl url=new HttpUrl.Builder().scheme("http").host("host").encodedPath("/a%2fb/c").addPathSegment("d%25e").addEncodedPathSegment("f%25g").build();
  assertEquals("http://host/a%2fb/c/d%2525e/f%25g",url.toString());
  assertEquals("/a%2fb/c/d%2525e/f%25g",url.encodedPath());
  assertEquals(Arrays.asList("a%2fb","c","d%2525e","f%25g"),url.encodedPathSegments());
  assertEquals(Arrays.asList("a/b","c","d%25e","f%g"),url.pathSegments());
}
