@Test public void setPathSegmentEncodes() throws Exception {
  HttpUrl base=parse("http://host/a/b/c");
  assertEquals("/%2525/b/c",base.newBuilder().setPathSegment(0,"%25").build().encodedPath());
  assertEquals("/.%0A/b/c",base.newBuilder().setPathSegment(0,".\n").build().encodedPath());
  assertEquals("/%252e/b/c",base.newBuilder().setPathSegment(0,"%2e").build().encodedPath());
}
