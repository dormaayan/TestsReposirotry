/** 
 * The builder permits square braces but does not require them. 
 */
@Test public void hostIPv6Builder() throws Exception {
  HttpUrl base=parse("http://example.com/");
  assertEquals("http://[::1]/",base.newBuilder().host("[::1]").build().toString());
  assertEquals("http://[::1]/",base.newBuilder().host("[::0001]").build().toString());
  assertEquals("http://[::1]/",base.newBuilder().host("::1").build().toString());
  assertEquals("http://[::1]/",base.newBuilder().host("::0001").build().toString());
}
