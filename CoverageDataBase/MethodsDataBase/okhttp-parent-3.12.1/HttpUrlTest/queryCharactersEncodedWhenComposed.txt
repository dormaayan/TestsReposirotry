@Test public void queryCharactersEncodedWhenComposed() throws Exception {
  HttpUrl url=new HttpUrl.Builder().scheme("http").host("host").addQueryParameter("a","!$(),/:;?@[]\\^`{|}~").build();
  assertEquals("http://host/?a=%21%24%28%29%2C%2F%3A%3B%3F%40%5B%5D%5C%5E%60%7B%7C%7D%7E",url.toString());
  assertEquals("!$(),/:;?@[]\\^`{|}~",url.queryParameter("a"));
}
