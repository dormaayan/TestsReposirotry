@Test public void setPathSegment() throws Exception {
  HttpUrl base=parse("http://host/a/b/c");
  assertEquals("/d/b/c",base.newBuilder().setPathSegment(0,"d").build().encodedPath());
  assertEquals("/a/d/c",base.newBuilder().setPathSegment(1,"d").build().encodedPath());
  assertEquals("/a/b/d",base.newBuilder().setPathSegment(2,"d").build().encodedPath());
}
