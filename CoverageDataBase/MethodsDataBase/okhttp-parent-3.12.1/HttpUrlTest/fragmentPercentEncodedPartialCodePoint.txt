@Test public void fragmentPercentEncodedPartialCodePoint() throws Exception {
  HttpUrl url=parse("http://host/#%80");
  assertEquals("http://host/#%80",url.toString());
  assertEquals("\ufffd",url.fragment());
  assertEquals("%80",url.encodedFragment());
  assertEquals("http://host/#%80",url.uri().toString());
}
