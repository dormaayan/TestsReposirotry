/** 
 * Test how  {@link HttpUrl} does against the web platform test suite. 
 */
@Test public void httpUrl() throws Exception {
  if (!testData.scheme.isEmpty() && !HTTP_URL_SCHEMES.contains(testData.scheme)) {
    System.err.println("Ignoring unsupported scheme " + testData.scheme);
    return;
  }
  if (!testData.base.startsWith("https:") && !testData.base.startsWith("http:") && !testData.base.equals("about:blank")) {
    System.err.println("Ignoring unsupported base " + testData.base);
    return;
  }
  try {
    testHttpUrl();
    if (KNOWN_FAILURES.contains(testData.toString())) {
      System.err.println("Expected failure but was success: " + testData);
    }
  }
 catch (  Throwable e) {
    if (KNOWN_FAILURES.contains(testData.toString())) {
      System.err.println("Ignoring known failure: " + testData);
      e.printStackTrace();
    }
 else {
      throw e;
    }
  }
}
