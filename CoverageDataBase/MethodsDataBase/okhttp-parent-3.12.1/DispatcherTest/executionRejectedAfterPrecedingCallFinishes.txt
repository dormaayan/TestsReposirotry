@Test public void executionRejectedAfterPrecedingCallFinishes() throws Exception {
  Request request1=newRequest("http://a/1");
  Request request2=newRequest("http://a/2");
  dispatcher.setMaxRequests(1);
  client.newCall(request1).enqueue(callback);
  executor.shutdown();
  client.newCall(request2).enqueue(callback);
  executor.finishJob("http://a/1");
  callback.await(request2.url()).assertFailure(InterruptedIOException.class);
  assertEquals(Arrays.asList("CallStart","CallStart","CallFailed"),listener.recordedEventTypes());
}
