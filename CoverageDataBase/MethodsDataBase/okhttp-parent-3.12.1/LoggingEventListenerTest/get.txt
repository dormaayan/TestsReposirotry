@Test public void get() throws Exception {
  server.enqueue(new MockResponse().setBody("Hello!").setHeader("Content-Type",PLAIN));
  Response response=client.newCall(request().build()).execute();
  assertNotNull(response.body());
  response.body().bytes();
  logRecorder.assertLogMatch("callStart: Request\\{method=GET, url=" + url + ", tags=\\{\\}\\}").assertLogMatch("dnsStart: " + url.host()).assertLogMatch("dnsEnd: \\[.+\\]").assertLogMatch("connectStart: " + url.host() + "/.+ DIRECT").assertLogMatch("connectEnd: http/1.1").assertLogMatch("connectionAcquired: Connection\\{" + url.host() + ":\\d+, proxy=DIRECT hostAddress="+ url.host()+ "/.+ cipherSuite=none protocol=http/1\\.1\\}").assertLogMatch("requestHeadersStart").assertLogMatch("requestHeadersEnd").assertLogMatch("responseHeadersStart").assertLogMatch("responseHeadersEnd: Response\\{protocol=http/1\\.1, code=200, message=OK, url=" + url + "}").assertLogMatch("responseBodyStart").assertLogMatch("responseBodyEnd: byteCount=6").assertLogMatch("connectionReleased").assertLogMatch("callEnd").assertNoMoreLogs();
}
