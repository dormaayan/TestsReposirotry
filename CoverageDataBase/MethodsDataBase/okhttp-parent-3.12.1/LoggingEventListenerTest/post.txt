@Test public void post() throws IOException {
  server.enqueue(new MockResponse());
  client.newCall(request().post(RequestBody.create(PLAIN,"Hello!")).build()).execute();
  logRecorder.assertLogMatch("callStart: Request\\{method=POST, url=" + url + ", tags=\\{\\}\\}").assertLogMatch("dnsStart: " + url.host()).assertLogMatch("dnsEnd: \\[.+\\]").assertLogMatch("connectStart: " + url.host() + "/.+ DIRECT").assertLogMatch("connectEnd: http/1.1").assertLogMatch("connectionAcquired: Connection\\{" + url.host() + ":\\d+, proxy=DIRECT hostAddress="+ url.host()+ "/.+ cipherSuite=none protocol=http/1\\.1\\}").assertLogMatch("requestHeadersStart").assertLogMatch("requestHeadersEnd").assertLogMatch("requestBodyStart").assertLogMatch("requestBodyEnd: byteCount=6").assertLogMatch("responseHeadersStart").assertLogMatch("responseHeadersEnd: Response\\{protocol=http/1\\.1, code=200, message=OK, url=" + url + "}").assertLogMatch("responseBodyStart").assertLogMatch("responseBodyEnd: byteCount=0").assertLogMatch("connectionReleased").assertLogMatch("callEnd").assertNoMoreLogs();
}
