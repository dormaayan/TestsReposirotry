@Test public void dnsFail() throws IOException {
  client=new OkHttpClient.Builder().dns(new Dns(){
    @Override public List<InetAddress> lookup(    String hostname) throws UnknownHostException {
      throw new UnknownHostException("reason");
    }
  }
).eventListenerFactory(loggingEventListenerFactory).build();
  try {
    client.newCall(request().build()).execute();
    fail();
  }
 catch (  UnknownHostException expected) {
  }
  logRecorder.assertLogMatch("callStart: Request\\{method=GET, url=" + url + ", tags=\\{\\}\\}").assertLogMatch("dnsStart: " + url.host()).assertLogMatch("callFailed: java.net.UnknownHostException: reason").assertNoMoreLogs();
}
