@Test public void secureGet() throws Exception {
  server.useHttps(handshakeCertificates.sslSocketFactory(),false);
  url=server.url("/");
  server.enqueue(new MockResponse());
  Response response=client.newCall(request().build()).execute();
  assertNotNull(response.body());
  response.body().bytes();
  logRecorder.assertLogMatch("callStart: Request\\{method=GET, url=" + url + ", tags=\\{\\}\\}").assertLogMatch("dnsStart: " + url.host()).assertLogMatch("dnsEnd: \\[.+\\]").assertLogMatch("connectStart: " + url.host() + "/.+ DIRECT").assertLogMatch("secureConnectStart").assertLogMatch("secureConnectEnd").assertLogMatch("connectEnd: h2").assertLogMatch("connectionAcquired: Connection\\{" + url.host() + ":\\d+, proxy=DIRECT hostAddress="+ url.host()+ "/.+ cipherSuite=.+ protocol=h2}").assertLogMatch("requestHeadersStart").assertLogMatch("requestHeadersEnd").assertLogMatch("responseHeadersStart").assertLogMatch("responseHeadersEnd: Response\\{protocol=h2, code=200, message=, url=" + url + "}").assertLogMatch("responseBodyStart").assertLogMatch("responseBodyEnd: byteCount=0").assertLogMatch("connectionReleased").assertLogMatch("callEnd").assertNoMoreLogs();
}
