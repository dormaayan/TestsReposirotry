@Test public void serverSendsEmptyDataClientDoesntSendWindowUpdate() throws Exception {
  peer.sendFrame().settings(new Settings());
  peer.acceptFrame();
  peer.acceptFrame();
  peer.sendFrame().synReply(false,3,headerEntries("a","android"));
  peer.sendFrame().data(true,3,data(0),0);
  peer.play();
  Http2Connection connection=connect(peer);
  Http2Stream client=connection.newStream(headerEntries("b","banana"),false);
  assertEquals(-1,client.getSource().read(new Buffer(),1));
  InFrame synStream=peer.takeFrame();
  assertEquals(Http2.TYPE_HEADERS,synStream.type);
  assertEquals(5,peer.frameCount());
}
