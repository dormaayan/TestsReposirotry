@Test public void clientSendsEmptyDataServerDoesntSendWindowUpdateHttp2() throws Exception {
  peer.sendFrame().settings(new Settings());
  peer.acceptFrame();
  peer.acceptFrame();
  peer.acceptFrame();
  peer.sendFrame().synReply(false,3,headerEntries("a","android"));
  peer.play();
  Http2Connection connection=connect(peer);
  Http2Stream client=connection.newStream(headerEntries("b","banana"),true);
  BufferedSink out=Okio.buffer(client.getSink());
  out.write(EMPTY_BYTE_ARRAY);
  out.flush();
  out.close();
  assertEquals(Http2.TYPE_HEADERS,peer.takeFrame().type);
  assertEquals(Http2.TYPE_DATA,peer.takeFrame().type);
  assertEquals(5,peer.frameCount());
}
