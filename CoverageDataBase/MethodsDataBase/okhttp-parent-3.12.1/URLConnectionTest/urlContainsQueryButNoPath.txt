@Test public void urlContainsQueryButNoPath() throws Exception {
  server.enqueue(new MockResponse().setBody("A"));
  URL url=new URL("http",server.getHostName(),server.getPort(),"?query");
  assertEquals("A",readAscii(urlFactory.open(url).getInputStream(),Integer.MAX_VALUE));
  RecordedRequest request=server.takeRequest();
  assertEquals("GET /?query HTTP/1.1",request.getRequestLine());
}
