@Test public void bufferedBodyWithClientRequestTimeout() throws Exception {
  enqueueClientRequestTimeoutResponses();
  HttpURLConnection connection=urlFactory.open(server.url("/").url());
  connection.setRequestMethod("POST");
  connection.getOutputStream().write("Hello".getBytes("UTF-8"));
  assertEquals(200,connection.getResponseCode());
  assertEquals("Body",readAscii(connection.getInputStream(),Integer.MAX_VALUE));
  RecordedRequest request1=server.takeRequest();
  assertEquals("Hello",request1.getBody().readUtf8());
  RecordedRequest request2=server.takeRequest();
  assertEquals("Hello",request2.getBody().readUtf8());
}
