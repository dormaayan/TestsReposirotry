@Test public void contentDisagreesWithContentLengthHeaderBodyTooShort() throws IOException {
  server.enqueue(new MockResponse().setBody("abc").setHeader("Content-Length","5").setSocketPolicy(DISCONNECT_AT_END));
  try {
    readAscii(urlFactory.open(server.url("/").url()).getInputStream(),5);
    fail();
  }
 catch (  ProtocolException expected) {
  }
}
