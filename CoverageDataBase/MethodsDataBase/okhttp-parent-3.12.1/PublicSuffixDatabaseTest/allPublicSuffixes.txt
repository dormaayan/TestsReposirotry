@Test public void allPublicSuffixes() throws IOException {
  InputStream resource=PublicSuffixDatabaseTest.class.getResourceAsStream(PUBLIC_SUFFIX_RESOURCE);
  BufferedSource source=Okio.buffer(new GzipSource(Okio.source(resource)));
  int length=source.readInt();
  Buffer buffer=new Buffer();
  buffer.write(source,length);
  resource.close();
  while (!buffer.exhausted()) {
    String publicSuffix=buffer.readUtf8LineStrict();
    if (publicSuffix.contains("*")) {
      publicSuffix=publicSuffix.replaceAll("\\*","square");
    }
    assertNull(publicSuffixDatabase.getEffectiveTldPlusOne(publicSuffix));
    String test="foobar." + publicSuffix;
    assertEquals(test,publicSuffixDatabase.getEffectiveTldPlusOne(test));
  }
}
