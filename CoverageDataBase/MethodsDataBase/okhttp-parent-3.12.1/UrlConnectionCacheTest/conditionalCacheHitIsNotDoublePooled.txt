@Test public void conditionalCacheHitIsNotDoublePooled() throws Exception {
  server.enqueue(new MockResponse().addHeader("ETag: v1").setBody("A"));
  server.enqueue(new MockResponse().clearHeaders().setResponseCode(HttpURLConnection.HTTP_NOT_MODIFIED));
  assertEquals("A",readAscii(urlFactory.open(server.url("/").url())));
  assertEquals("A",readAscii(urlFactory.open(server.url("/").url())));
  assertEquals(1,urlFactory.client().connectionPool().idleConnectionCount());
}
