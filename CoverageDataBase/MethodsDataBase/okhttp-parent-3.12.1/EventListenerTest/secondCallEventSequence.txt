@Test public void secondCallEventSequence() throws IOException {
  enableTlsWithTunnel(false);
  server.setProtocols(Arrays.asList(Protocol.HTTP_2,Protocol.HTTP_1_1));
  server.enqueue(new MockResponse());
  server.enqueue(new MockResponse());
  client.newCall(new Request.Builder().url(server.url("/")).build()).execute().close();
  listener.removeUpToEvent(CallEnd.class);
  Call call=client.newCall(new Request.Builder().url(server.url("/")).build());
  Response response=call.execute();
  response.close();
  List<String> expectedEvents=asList("CallStart","ConnectionAcquired","RequestHeadersStart","RequestHeadersEnd","ResponseHeadersStart","ResponseHeadersEnd","ResponseBodyStart","ResponseBodyEnd","ConnectionReleased","CallEnd");
  assertEquals(expectedEvents,listener.recordedEventTypes());
}
