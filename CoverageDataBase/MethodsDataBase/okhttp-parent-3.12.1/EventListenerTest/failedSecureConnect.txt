@Test public void failedSecureConnect(){
  enableTlsWithTunnel(false);
  server.enqueue(new MockResponse().setSocketPolicy(SocketPolicy.FAIL_HANDSHAKE));
  Call call=client.newCall(new Request.Builder().url(server.url("/")).build());
  try {
    call.execute();
    fail();
  }
 catch (  IOException expected) {
  }
  SecureConnectStart secureStart=listener.removeUpToEvent(SecureConnectStart.class);
  assertSame(call,secureStart.call);
  CallFailed callFailed=listener.removeUpToEvent(CallFailed.class);
  assertSame(call,callFailed.call);
  assertNotNull(callFailed.ioe);
}
