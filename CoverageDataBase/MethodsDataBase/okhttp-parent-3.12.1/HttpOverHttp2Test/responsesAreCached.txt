@Test public void responsesAreCached() throws IOException {
  client=client.newBuilder().cache(cache).build();
  server.enqueue(new MockResponse().addHeader("cache-control: max-age=60").setBody("A"));
  Call call1=client.newCall(new Request.Builder().url(server.url("/")).build());
  Response response1=call1.execute();
  assertEquals("A",response1.body().string());
  assertEquals(1,cache.requestCount());
  assertEquals(1,cache.networkCount());
  assertEquals(0,cache.hitCount());
  Call call2=client.newCall(new Request.Builder().url(server.url("/")).build());
  Response response2=call2.execute();
  assertEquals("A",response2.body().string());
  Call call3=client.newCall(new Request.Builder().url(server.url("/")).build());
  Response response3=call3.execute();
  assertEquals("A",response3.body().string());
  assertEquals(3,cache.requestCount());
  assertEquals(1,cache.networkCount());
  assertEquals(2,cache.hitCount());
}
