/** 
 * https://github.com/square/okhttp/issues/373 
 */
@Test @Ignore public void synchronousRequest() throws Exception {
  server.enqueue(new MockResponse().setBody("A"));
  server.enqueue(new MockResponse().setBody("A"));
  ExecutorService executor=Executors.newCachedThreadPool();
  CountDownLatch countDownLatch=new CountDownLatch(2);
  executor.execute(new AsyncRequest("/r1",countDownLatch));
  executor.execute(new AsyncRequest("/r2",countDownLatch));
  countDownLatch.await();
  assertEquals(0,server.takeRequest().getSequenceNumber());
  assertEquals(1,server.takeRequest().getSequenceNumber());
}
