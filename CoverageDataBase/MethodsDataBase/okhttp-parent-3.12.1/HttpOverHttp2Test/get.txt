@Test public void get() throws Exception {
  server.enqueue(new MockResponse().setBody("ABCDE").setStatus("HTTP/1.1 200 Sweet"));
  Call call=client.newCall(new Request.Builder().url(server.url("/foo")).build());
  Response response=call.execute();
  assertEquals("ABCDE",response.body().string());
  assertEquals(200,response.code());
  assertEquals("",response.message());
  assertEquals(protocol,response.protocol());
  RecordedRequest request=server.takeRequest();
  assertEquals("GET /foo HTTP/1.1",request.getRequestLine());
  assertEquals(scheme,request.getHeader(":scheme"));
  assertEquals(server.getHostName() + ":" + server.getPort(),request.getHeader(":authority"));
}
