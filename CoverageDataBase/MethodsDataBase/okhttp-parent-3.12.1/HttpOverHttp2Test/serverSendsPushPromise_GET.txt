@Test public void serverSendsPushPromise_GET() throws Exception {
  PushPromise pushPromise=new PushPromise("GET","/foo/bar",Headers.of("foo","bar"),new MockResponse().setBody("bar").setStatus("HTTP/1.1 200 Sweet"));
  server.enqueue(new MockResponse().setBody("ABCDE").setStatus("HTTP/1.1 200 Sweet").withPush(pushPromise));
  Call call=client.newCall(new Request.Builder().url(server.url("/foo")).build());
  Response response=call.execute();
  assertEquals("ABCDE",response.body().string());
  assertEquals(200,response.code());
  assertEquals("",response.message());
  RecordedRequest request=server.takeRequest();
  assertEquals("GET /foo HTTP/1.1",request.getRequestLine());
  assertEquals(scheme,request.getHeader(":scheme"));
  assertEquals(server.getHostName() + ":" + server.getPort(),request.getHeader(":authority"));
  RecordedRequest pushedRequest=server.takeRequest();
  assertEquals("GET /foo/bar HTTP/1.1",pushedRequest.getRequestLine());
  assertEquals("bar",pushedRequest.getHeader("foo"));
}
