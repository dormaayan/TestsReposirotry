/** 
 * https://github.com/square/okhttp/issues/3324 
 */
@Test public void checkSubstringMatch() throws Exception {
  CertificatePinner certificatePinner=new CertificatePinner.Builder().add("*.example.com",certA1Sha256Pin).build();
  assertEquals(Collections.emptyList(),certificatePinner.findMatchingPins("a.example.com.notexample.com"));
  assertEquals(Collections.emptyList(),certificatePinner.findMatchingPins("example.com.notexample.com"));
  assertEquals(Collections.emptyList(),certificatePinner.findMatchingPins("notexample.com"));
  assertEquals(Collections.emptyList(),certificatePinner.findMatchingPins("example.com"));
  assertEquals(Collections.emptyList(),certificatePinner.findMatchingPins("a.b.example.com"));
  assertEquals(Collections.emptyList(),certificatePinner.findMatchingPins("ple.com"));
  assertEquals(Collections.emptyList(),certificatePinner.findMatchingPins("com"));
  Pin expectedPin=new Pin("*.example.com",certA1Sha256Pin);
  assertEquals(Collections.singletonList(expectedPin),certificatePinner.findMatchingPins("a.example.com"));
  assertEquals(Collections.singletonList(expectedPin),certificatePinner.findMatchingPins("example.example.com"));
}
