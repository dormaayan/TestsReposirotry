/** 
 * Multiple certificates generated from the same keypair have the same pin. 
 */
@Test public void sameKeypairSamePin() throws Exception {
  HeldCertificate heldCertificateA2=new HeldCertificate.Builder().keyPair(certA1.keyPair()).serialNumber(101L).build();
  String keypairACertificate2Pin=CertificatePinner.pin(heldCertificateA2.certificate());
  HeldCertificate heldCertificateB2=new HeldCertificate.Builder().keyPair(certB1.keyPair()).serialNumber(201L).build();
  String keypairBCertificate2Pin=CertificatePinner.pin(heldCertificateB2.certificate());
  assertTrue(certA1Sha256Pin.equals(keypairACertificate2Pin));
  assertTrue(certB1Sha256Pin.equals(keypairBCertificate2Pin));
  assertFalse(certA1Sha256Pin.equals(certB1Sha256Pin));
}
