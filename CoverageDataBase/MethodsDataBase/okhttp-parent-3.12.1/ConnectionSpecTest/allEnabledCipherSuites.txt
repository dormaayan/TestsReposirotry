@Test public void allEnabledCipherSuites() throws Exception {
  ConnectionSpec tlsSpec=new ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS).allEnabledCipherSuites().build();
  assertNull(tlsSpec.cipherSuites());
  SSLSocket sslSocket=(SSLSocket)SSLSocketFactory.getDefault().createSocket();
  sslSocket.setEnabledCipherSuites(new String[]{CipherSuite.TLS_RSA_WITH_RC4_128_SHA.javaName,CipherSuite.TLS_RSA_WITH_RC4_128_MD5.javaName});
  tlsSpec.apply(sslSocket,false);
  assertEquals(Arrays.asList(CipherSuite.TLS_RSA_WITH_RC4_128_SHA.javaName,CipherSuite.TLS_RSA_WITH_RC4_128_MD5.javaName),Arrays.asList(sslSocket.getEnabledCipherSuites()));
}
