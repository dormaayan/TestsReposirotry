@Test public void conditionalCacheHitResponseSourceHeaders() throws Exception {
  server.enqueue(new MockResponse().addHeader("Last-Modified: " + formatDate(0,TimeUnit.SECONDS)).addHeader("Cache-Control: max-age=0").setBody("Isla Nublar"));
  server.enqueue(new MockResponse().setResponseCode(304));
  HttpURLConnection connection1=factory.open(server.url("/").url());
  assertResponseHeader(connection1,"NETWORK 200");
  assertResponseBody(connection1,"Isla Nublar");
  HttpURLConnection connection2=factory.open(server.url("/").url());
  assertResponseHeader(connection2,"CONDITIONAL_CACHE 304");
  assertResponseBody(connection2,"Isla Nublar");
}
