@Test public void iteratorElementsAddedDuringIterationAreOmitted() throws Exception {
  set("a","a1","a2");
  set("b","b1","b2");
  Iterator<DiskLruCache.Snapshot> iterator=cache.snapshots();
  DiskLruCache.Snapshot a=iterator.next();
  assertEquals("a",a.key());
  a.close();
  set("c","c1","c2");
  DiskLruCache.Snapshot b=iterator.next();
  assertEquals("b",b.key());
  b.close();
  assertFalse(iterator.hasNext());
}
