@Test public void rebuildJournalFailureAllowsEvictAll() throws Exception {
  while (executor.jobs.isEmpty()) {
    set("a","a","a");
    set("b","b","b");
  }
  fileSystem.setFaultyRename(new File(cacheDir,DiskLruCache.JOURNAL_FILE_BACKUP),true);
  executor.jobs.removeFirst().run();
  cache.evictAll();
  assertEquals(0,cache.size());
  assertAbsent("a");
  assertAbsent("b");
  cache.close();
  createNewCache();
  assertEquals(4,cache.size());
  assertNull(cache.get("a"));
  assertNull(cache.get("b"));
  assertEquals(0,cache.size());
}
