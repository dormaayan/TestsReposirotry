@Test public void createNewEntryWithTooFewValuesFails() throws Exception {
  DiskLruCache.Editor creator=cache.edit("k1");
  setString(creator,1,"A");
  try {
    creator.commit();
    fail();
  }
 catch (  IllegalStateException expected) {
  }
  assertFalse(fileSystem.exists(getCleanFile("k1",0)));
  assertFalse(fileSystem.exists(getCleanFile("k1",1)));
  assertFalse(fileSystem.exists(getDirtyFile("k1",0)));
  assertFalse(fileSystem.exists(getDirtyFile("k1",1)));
  assertNull(cache.get("k1"));
  DiskLruCache.Editor creator2=cache.edit("k1");
  setString(creator2,0,"B");
  setString(creator2,1,"C");
  creator2.commit();
}
