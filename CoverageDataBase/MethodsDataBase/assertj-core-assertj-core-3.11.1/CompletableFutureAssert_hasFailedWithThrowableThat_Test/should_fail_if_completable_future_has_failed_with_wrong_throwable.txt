@Test public void should_fail_if_completable_future_has_failed_with_wrong_throwable(){
  CompletableFuture<String> future=new CompletableFuture<>();
  future.completeExceptionally(new RuntimeException("some random error"));
  assertThatThrownBy(() -> assertThat(future).hasFailedWithThrowableThat().isInstanceOf(IllegalArgumentException.class)).isInstanceOf(AssertionError.class).hasMessageContaining(format("%nExpecting:%n" + "  <java.lang.RuntimeException: some random error>%n" + "to be an instance of:%n"+ "  <java.lang.IllegalArgumentException>%n"));
}
