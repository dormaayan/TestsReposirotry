@Test public void extracting_should_keep_assertion_state(){
  AbstractObjectAssert<?,?> assertion=assertThat(yoda).as("test description").withFailMessage("error message").withRepresentation(UNICODE_REPRESENTATION).usingComparator(ALWAY_EQUALS).usingComparatorForFields(ALWAY_EQUALS_STRING,"foo").usingComparatorForType(ALWAY_EQUALS_STRING,String.class).extracting(firstName).isEqualTo("YODA");
  assertThat(assertion.descriptionText()).isEqualTo("test description");
  assertThat(assertion.info.representation()).isEqualTo(UNICODE_REPRESENTATION);
  assertThat(assertion.info.overridingErrorMessage()).isEqualTo("error message");
  assertThat(comparatorsByTypeOf(assertion).get(String.class)).isSameAs(ALWAY_EQUALS_STRING);
  assertThat(comparatorByPropertyOrFieldOf(assertion).get("foo")).isSameAs(ALWAY_EQUALS_STRING);
  assertThat(comparatorOf(assertion).getComparator()).isSameAs(ALWAY_EQUALS);
}
