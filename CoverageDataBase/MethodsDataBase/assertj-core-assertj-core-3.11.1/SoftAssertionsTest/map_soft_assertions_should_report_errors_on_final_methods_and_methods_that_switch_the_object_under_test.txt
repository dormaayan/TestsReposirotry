@SuppressWarnings("unchecked") @Test public void map_soft_assertions_should_report_errors_on_final_methods_and_methods_that_switch_the_object_under_test(){
  Map<String,String> map=mapOf(entry("a","1"),entry("b","2"),entry("c","3"));
  softly.assertThat(map).contains(entry("abc","ABC"),entry("def","DEF")).isEmpty();
  softly.assertThat(map).containsAnyOf(entry("gh","GH"),entry("ij","IJ"));
  softly.assertThat(map).containsExactly(entry("kl","KL"),entry("mn","MN"));
  softly.assertThat(map).containsKeys("K1","K2");
  softly.assertThat(map).containsOnly(entry("op","OP"),entry("qr","QR"));
  softly.assertThat(map).containsOnlyKeys("K3","K4");
  softly.assertThat(map).containsValues("V1","V2");
  softly.assertThat(map).doesNotContain(entry("a","1"),entry("abc","ABC"));
  softly.assertThat(map).doesNotContainKeys("a","b");
  softly.assertThat(map).as("extracting(\"a\", \"b\")").overridingErrorMessage("error message").extracting("a","b").contains("456");
  softly.assertThat(iterableMap).as("flatExtracting(\"name\", \"job\", \"city\", \"rank\")").overridingErrorMessage("error message").flatExtracting("name","job","city","rank").contains("Unexpected","Builder","Dover","Boston","Paris",1,2,3);
  softly.assertThat(map).as("size()").overridingErrorMessage("error message").size().isGreaterThan(1000);
  List<Throwable> errors=softly.errorsCollected();
  assertThat(errors).hasSize(13);
  assertThat(errors.get(0)).hasMessageContaining("MapEntry[key=\"abc\", value=\"ABC\"]");
  assertThat(errors.get(1)).hasMessageContaining("empty");
  assertThat(errors.get(2)).hasMessageContaining("gh").hasMessageContaining("IJ");
  assertThat(errors.get(3)).hasMessageContaining("\"a\"=\"1\"");
  assertThat(errors.get(4)).hasMessageContaining("K2");
  assertThat(errors.get(5)).hasMessageContaining("OP");
  assertThat(errors.get(6)).hasMessageContaining("K4");
  assertThat(errors.get(7)).hasMessageContaining("V2");
  assertThat(errors.get(8)).hasMessageContaining("ABC");
  assertThat(errors.get(9)).hasMessageContaining("b");
  assertThat(errors.get(10)).hasMessage("[extracting(\"a\", \"b\")] error message");
  assertThat(errors.get(11)).hasMessage("[flatExtracting(\"name\", \"job\", \"city\", \"rank\")] error message");
  assertThat(errors.get(12)).hasMessage("[size()] error message");
}
