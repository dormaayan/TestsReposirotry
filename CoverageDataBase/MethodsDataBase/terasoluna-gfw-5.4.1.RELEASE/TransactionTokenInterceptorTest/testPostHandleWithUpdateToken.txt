@Test public void testPostHandleWithUpdateToken() throws Exception {
  HttpSessionTransactionTokenStore tokenStore=new HttpSessionTransactionTokenStore();
  TransactionToken inputToken=new TransactionToken("testTokenAttr","111","222");
  tokenStore.store(inputToken);
  request.setParameter(TransactionTokenInterceptor.TOKEN_REQUEST_PARAMETER,"testTokenAttr~111~222");
  interceptor=new TransactionTokenInterceptor(new TokenStringGenerator(),new TransactionTokenInfoStore(),tokenStore);
  interceptor.preHandle(request,response,new HandlerMethod(new TransactionTokenSampleController(),TransactionTokenSampleController.class.getDeclaredMethod("second",SampleForm.class,Model.class,TransactionTokenContext.class)));
  interceptor.postHandle(request,response,new HandlerMethod(new TransactionTokenSampleController(),TransactionTokenSampleController.class.getDeclaredMethod("third",SampleForm.class,Model.class)),null);
  assertNotNull(tokenStore.getSession().getAttribute(HttpSessionTransactionTokenStore.TOKEN_HOLDER_SESSION_ATTRIBUTE_PREFIX + inputToken.getTokenName() + "~"+ inputToken.getTokenKey()));
  assertNotNull(request.getAttribute(TransactionTokenInterceptor.NEXT_TOKEN_REQUEST_ATTRIBUTE_NAME));
}
