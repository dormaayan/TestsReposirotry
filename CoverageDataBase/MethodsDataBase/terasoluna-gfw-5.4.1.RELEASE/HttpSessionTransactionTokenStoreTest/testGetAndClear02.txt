/** 
 * tokenHolder is not null
 */
@Test public void testGetAndClear02(){
  HttpSession session=new MockHttpSession();
  TransactionToken token=new TransactionToken("tokenName","tokenKey","tokenValue");
  session.setAttribute(HttpSessionTransactionTokenStore.TOKEN_HOLDER_SESSION_ATTRIBUTE_PREFIX + token.getTokenName() + token.getTokenKey(),token);
  request.setSession(session);
  store=new HttpSessionTransactionTokenStore();
  store.store(token);
  String actuals=store.getAndClear(token);
  assertThat(actuals,is(token.getTokenValue()));
  assertNotNull(session.getAttribute(HttpSessionTransactionTokenStore.TOKEN_HOLDER_SESSION_ATTRIBUTE_PREFIX + token.getTokenName() + token.getTokenKey()));
}
