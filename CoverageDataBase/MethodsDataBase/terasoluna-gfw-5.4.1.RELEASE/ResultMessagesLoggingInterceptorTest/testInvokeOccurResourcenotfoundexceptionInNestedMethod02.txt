/** 
 * [invoke] Case of occur BusinessException in nested method. <p> {@link TestFacade#getMessage()} => {@link TestService#getMessage()}(nested method) => ...<br> *) TestFacade and TestService are interception target. </p> <p> [Expected Result] <ol> <li>throws BusinessException.</li> <li>BusinessException log is output & not duplicate.</li> <li>unnecessary log is not output.</li> </ol> </p>
 */
@Test public void testInvokeOccurResourcenotfoundexceptionInNestedMethod02() throws Throwable {
  ResourceNotFoundException occurException=new ResourceNotFoundException(ResultMessages.error().add("e.cm.xxx1","args1","args2"));
  TestService service=getApplicationContext().getBean(TestService.class);
  service.setResultMessagesNotificationException(occurException);
  try {
    TestFacade facade=getApplicationContext().getBean(TestFacade.class);
    facade.getMessage();
    fail("don't occur ResourceNotFoundException.");
  }
 catch (  ResourceNotFoundException e) {
    assertThat(e,is(occurException));
    verify(mockExceptionLogger,times(1)).warn(occurException);
    verify(mockExceptionLogger,times(1)).warn((Exception)anyObject());
  }
}
