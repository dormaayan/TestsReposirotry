/** 
 * In case LazyInit is set to false
 * @throws Exception
 */
@SuppressWarnings("unchecked") @Test public void testAfterPropertiesSet01() throws Exception {
  JdbcCodeList jdbcCodeList=new JdbcCodeList();
  jdbcCodeList.setDataSource(dataSource);
  jdbcCodeList.setLabelColumn("code_name");
  jdbcCodeList.setValueColumn("code_id");
  jdbcCodeList.setQuerySql("Select code_id, code_name from codelist");
  Field f=ReflectionUtils.findField(JdbcCodeList.class,"exposedMap");
  ReflectionUtils.makeAccessible(f);
  Map<String,String> exposedMapFirstFetch=(Map<String,String>)f.get(jdbcCodeList);
  assertNull(exposedMapFirstFetch);
  jdbcCodeList.afterPropertiesSet();
  Map<String,String> exposedMapSecondFetch=(Map<String,String>)f.get(jdbcCodeList);
  assertThat(exposedMapSecondFetch.size(),is(mapInput.size()));
  for (  String key : exposedMapSecondFetch.keySet()) {
    assertThat(exposedMapSecondFetch.get(key),is(mapInput.get(key)));
  }
}
