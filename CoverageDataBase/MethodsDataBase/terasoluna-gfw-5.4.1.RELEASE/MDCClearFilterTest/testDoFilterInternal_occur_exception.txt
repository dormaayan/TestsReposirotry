/** 
 * [doFilterInternal] Case of occur exception. <p> [Expected Result] <ol> <li>remove all values from MDC on after chain.</li> </ol> </p>
 * @throws ServletException
 * @throws IOException
 */
@Test public void testDoFilterInternal_occur_exception() throws ServletException, IOException {
  ServletException occurException=new ServletException("test");
  doThrow(occurException).when(mockFilterChain).doFilter(mockRequest,mockResponse);
  MDC.put("key0","value0");
  try {
    testTarget.doFilterInternal(mockRequest,mockResponse,mockFilterChain);
    fail("don't occur ServletException.");
  }
 catch (  ServletException e) {
    assertThat(e,is(occurException));
  }
  assertThat(MDC.getCopyOfContextMap(),is(nullValue()));
}
