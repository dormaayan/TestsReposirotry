@Test public void testThen() throws Exception {
  List list=new ArrayList();
  UnarySequence seq=new UnarySequence();
  seq.run(null);
  for (int i=0; i < 10; i++) {
    RunCounter counter=new RunCounter();
    seq.then(counter);
    list.add(counter);
    seq.run("xyzzy");
    for (int j=0; j < list.size(); j++) {
      assertEquals(list.size() - j,(((RunCounter)(list.get(j))).count));
    }
  }
}
