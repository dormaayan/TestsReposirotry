@Test public void testEquals() throws Exception {
  UnarySequence p=new UnarySequence();
  assertEquals(p,p);
  UnarySequence q=new UnarySequence();
  assertObjectsAreEqual(p,q);
  for (int i=0; i < 3; i++) {
    p.then(new NoOp());
    assertObjectsAreNotEqual(p,q);
    q.then(new NoOp());
    assertObjectsAreEqual(p,q);
    p.then(new UnarySequence(new NoOp(),new NoOp()));
    assertObjectsAreNotEqual(p,q);
    q.then(new UnarySequence(new NoOp(),new NoOp()));
    assertObjectsAreEqual(p,q);
  }
  assertObjectsAreNotEqual(p,new NoOp());
}
