@Test public void testApply3(){
  Set set=new HashSet();
  assertSame(set,new TransformedGenerator(IteratorToGeneratorAdapter.adapt(listWithDuplicates.iterator()),Identity.instance()).to(set));
  assertTrue(listWithDuplicates.size() > set.size());
  for (Iterator iter=listWithDuplicates.iterator(); iter.hasNext(); ) {
    assertTrue(set.contains(iter.next()));
  }
}
