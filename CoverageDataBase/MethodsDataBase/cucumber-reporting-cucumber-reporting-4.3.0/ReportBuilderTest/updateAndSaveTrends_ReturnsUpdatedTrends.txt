@Test public void updateAndSaveTrends_ReturnsUpdatedTrends(){
  setUpWithJson(SAMPLE_JSON);
  final String buildNumber="my build";
  configuration.setBuildNumber(buildNumber);
  configuration.setTrendsStatsFile(trendsFileTmp);
  ReportBuilder builder=new ReportBuilder(jsonReports,configuration);
  Deencapsulation.setField(builder,"reportResult",reportResult);
  Trends trends=Deencapsulation.invoke(builder,"updateAndSaveTrends",reportResult.getFeatureReport());
  assertThat(trends.getBuildNumbers()).hasSize(4);
  assertThat(trends.getBuildNumbers()).endsWith(buildNumber);
  assertThat(trends.getFailedScenarios()).hasSize(4);
  assertThat(trends.getFailedScenarios()).endsWith(reportResult.getFeatureReport().getFailedScenarios());
}
