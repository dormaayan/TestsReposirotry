@Test public void testManagedConnectionEqualsSameDelegate() throws Exception {
  final Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=newConnection();
  }
  ((DelegatingConnection<?>)c[0]).getDelegate().close();
  final Connection con=newConnection();
  Assert.assertNotEquals(c[0],con);
  Assert.assertEquals(((DelegatingConnection<?>)c[0]).getInnermostDelegateInternal(),((DelegatingConnection<?>)con).getInnermostDelegateInternal());
  for (  final Connection element : c) {
    element.close();
  }
}
