/** 
 * Verify that connection sharing is working (or not working) as expected.
 */
@Test public void testSharedConnection() throws Exception {
  final DelegatingConnection<?> connectionA=(DelegatingConnection<?>)newConnection();
  final DelegatingConnection<?> connectionB=(DelegatingConnection<?>)newConnection();
  assertFalse(connectionA.equals(connectionB));
  assertFalse(connectionB.equals(connectionA));
  assertFalse(connectionA.innermostDelegateEquals(connectionB.getInnermostDelegate()));
  assertFalse(connectionB.innermostDelegateEquals(connectionA.getInnermostDelegate()));
  connectionA.close();
  connectionB.close();
}
