@Test public void testReadOnly() throws Exception {
  final Connection connection=newConnection();
  assertTrue("Connection be read-only",connection.isReadOnly());
  try {
    connection.setReadOnly(true);
    fail("setReadOnly method should be disabled while enlisted in a transaction");
  }
 catch (  final SQLException e) {
  }
  assertTrue("Connection be read-only",connection.isReadOnly());
  try {
    connection.setReadOnly(false);
    fail("setReadOnly method should be disabled while enlisted in a transaction");
  }
 catch (  final SQLException e) {
  }
  assertTrue("Connection be read-only",connection.isReadOnly());
  connection.close();
}
