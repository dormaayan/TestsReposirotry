/** 
 * JIRA: DBCP-245
 */
@Test public void testIncorrectPassword() throws Exception {
  pcds.getPooledConnection("u2","p2").close();
  try {
    pcds.getPooledConnection("u1","zlsafjk");
    fail("Able to retrieve connection with incorrect password");
  }
 catch (  final SQLException e1) {
  }
  pcds.getPooledConnection("u1","p1").close();
  try {
    pcds.getPooledConnection("u1","x");
    fail("Able to retrieve connection with incorrect password");
  }
 catch (  final SQLException e) {
    if (!e.getMessage().startsWith("x is not the correct password")) {
      throw e;
    }
  }
  pcds.getPooledConnection("u1","p1").close();
}
