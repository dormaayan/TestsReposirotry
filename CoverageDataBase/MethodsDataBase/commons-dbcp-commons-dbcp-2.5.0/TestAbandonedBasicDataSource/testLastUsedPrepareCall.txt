/** 
 * Verify that lastUsed property is updated when a connection prepares a callable statement.
 */
@Test public void testLastUsedPrepareCall() throws Exception {
  ds.setRemoveAbandonedTimeout(1);
  ds.setMaxTotal(2);
  try (Connection conn1=ds.getConnection()){
    Thread.sleep(500);
    try (CallableStatement cs=conn1.prepareCall("{call home}")){
    }
     Thread.sleep(800);
    final Connection conn2=ds.getConnection();
    try (CallableStatement cs=conn1.prepareCall("{call home}")){
    }
     conn2.close();
    Thread.sleep(500);
    try (CallableStatement cs=conn1.prepareCall("{call home}")){
    }
     Thread.sleep(800);
    try (Connection c=ds.getConnection()){
    }
     try (Statement s=conn1.createStatement()){
    }
   }
 }
