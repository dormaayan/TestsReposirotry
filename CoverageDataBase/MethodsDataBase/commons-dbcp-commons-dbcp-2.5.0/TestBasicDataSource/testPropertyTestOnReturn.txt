/** 
 * Bugzilla Bug 29054: The BasicDataSource.setTestOnReturn(boolean) is not carried through to the GenericObjectPool variable _testOnReturn.
 */
@Test public void testPropertyTestOnReturn() throws Exception {
  ds.setValidationQuery("select 1 from dual");
  ds.setTestOnBorrow(false);
  ds.setTestWhileIdle(false);
  ds.setTestOnReturn(true);
  final Connection conn=ds.getConnection();
  assertNotNull(conn);
  assertFalse(ds.getConnectionPool().getTestOnBorrow());
  assertFalse(ds.getConnectionPool().getTestWhileIdle());
  assertTrue(ds.getConnectionPool().getTestOnReturn());
}
