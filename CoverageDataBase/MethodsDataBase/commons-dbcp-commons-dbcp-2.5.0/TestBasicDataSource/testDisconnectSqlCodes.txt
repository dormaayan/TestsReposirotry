/** 
 * JIRA: DBCP-437 Verify that BasicDataSource sets disconnect codes properties. Functionality is verified in pcf tests.
 */
@Test public void testDisconnectSqlCodes() throws Exception {
  final ArrayList<String> disconnectionSqlCodes=new ArrayList<>();
  disconnectionSqlCodes.add("XXX");
  ds.setDisconnectionSqlCodes(disconnectionSqlCodes);
  ds.setFastFailValidation(true);
  ds.getConnection();
  final PoolableConnectionFactory pcf=(PoolableConnectionFactory)ds.getConnectionPool().getFactory();
  assertTrue(pcf.isFastFailValidation());
  assertTrue(pcf.getDisconnectionSqlCodes().contains("XXX"));
  assertEquals(1,pcf.getDisconnectionSqlCodes().size());
}
