@Test public void testInvalidateConnection() throws Exception {
  ds.setMaxTotal(2);
  final Connection conn1=ds.getConnection();
  final Connection conn2=ds.getConnection();
  ds.invalidateConnection(conn1);
  assertTrue(conn1.isClosed());
  assertEquals(1,ds.getNumActive());
  assertEquals(0,ds.getNumIdle());
  final Connection conn3=ds.getConnection();
  conn2.close();
  conn3.close();
}
