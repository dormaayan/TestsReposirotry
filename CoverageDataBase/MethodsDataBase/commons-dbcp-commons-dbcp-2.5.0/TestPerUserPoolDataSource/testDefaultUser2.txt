@Test public void testDefaultUser2() throws Exception {
  TesterDriver.addUser("mkh","password");
  TesterDriver.addUser("hanafey","password");
  TesterDriver.addUser("jsmith","password");
  final PerUserPoolDataSource puds=(PerUserPoolDataSource)ds;
  puds.setPerUserMaxTotal("jsmith",Integer.valueOf(2));
  final String[] users={"jsmith","hanafey","mkh"};
  final String password="password";
  final Connection[] c=new Connection[users.length];
  for (int i=0; i < users.length; i++) {
    c[i]=puds.getConnection(users[i],password);
    assertEquals(users[i],getUsername(c[i]));
  }
  for (int i=0; i < users.length; i++) {
    c[i].close();
  }
}
