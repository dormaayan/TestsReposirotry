/** 
 * Test per user block when exhausted, with the backing map not initialized before. Instead we pass the user and value, and hence the map is initialized beforehand. Furthermore, we are now searching for an inexistent key, which should return the default value.
 */
@Test public void testPerUserBlockWhenExhaustedWithUserMapNotInitializedMissingKey(){
  final PerUserPoolDataSource ds=(PerUserPoolDataSource)this.ds;
  ds.setPerUserBlockWhenExhausted("whatismyuseragain?",Boolean.FALSE);
  assertEquals(Boolean.TRUE,ds.getPerUserBlockWhenExhausted("missingkey"));
}
