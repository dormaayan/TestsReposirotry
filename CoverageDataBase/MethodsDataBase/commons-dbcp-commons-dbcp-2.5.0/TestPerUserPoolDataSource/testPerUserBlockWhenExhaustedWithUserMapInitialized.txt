/** 
 * Test per user block when exhausted, with the backing map not initialized before. Instead we pass the user and value, and hence the map is initialized beforehand. After that, we pass another user, so both values should still be present. The PerUserPoolDataSource does not clear the perUserPoolDataSource map, unless you pass a new map, using another internal/package method.
 */
@Test public void testPerUserBlockWhenExhaustedWithUserMapInitialized(){
  final PerUserPoolDataSource ds=(PerUserPoolDataSource)this.ds;
  ds.setPerUserBlockWhenExhausted(user,Boolean.FALSE);
  assertEquals(Boolean.FALSE,ds.getPerUserBlockWhenExhausted(user));
  ds.setPerUserBlockWhenExhausted("anotheruser",Boolean.FALSE);
  assertEquals(Boolean.FALSE,ds.getPerUserBlockWhenExhausted(user));
  assertEquals(Boolean.FALSE,ds.getPerUserBlockWhenExhausted("anotheruser"));
}
