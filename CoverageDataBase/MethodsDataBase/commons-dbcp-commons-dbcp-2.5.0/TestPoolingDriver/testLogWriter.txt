@Test public void testLogWriter() throws Exception {
  final PrintStream ps=new PrintStream(new ByteArrayOutputStream(),false,"UTF-8");
  final PrintWriter pw=new PrintWriter(new OutputStreamWriter(new ByteArrayOutputStream(),"UTF-8"));
  System.setErr(new PrintStream(new ByteArrayOutputStream(),false,"UTF-8"));
  SQLException ex;
  DriverManager.setLogWriter(pw);
  ex=new SQLException("A",new Exception("a"));
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
  ex=new SQLException("B");
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
  ex=new SQLException(null,new Exception("c"));
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
  ex=new SQLException((String)null);
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
  DriverManager.setLogWriter(null);
  ex=new SQLException("A",new Exception("a"));
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
  ex=new SQLException("B");
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
  ex=new SQLException(null,new Exception("c"));
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
  ex=new SQLException((String)null);
  ex.printStackTrace();
  ex.printStackTrace(ps);
  ex.printStackTrace(pw);
}
