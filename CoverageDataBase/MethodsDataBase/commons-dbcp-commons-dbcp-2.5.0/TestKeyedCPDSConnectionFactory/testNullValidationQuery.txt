/** 
 * JIRA: DBCP-442
 */
@Test public void testNullValidationQuery() throws Exception {
  final UserPassKey key=new UserPassKey("userName","password");
  final KeyedCPDSConnectionFactory factory=new KeyedCPDSConnectionFactory(cpds,null,-1,false);
  final GenericKeyedObjectPool<UserPassKey,PooledConnectionAndInfo> pool=new GenericKeyedObjectPool<>(factory);
  factory.setPool(pool);
  pool.setTestOnBorrow(true);
  final PooledConnection pcon=pool.borrowObject(key).getPooledConnection();
  final Connection con=pcon.getConnection();
  con.close();
}
