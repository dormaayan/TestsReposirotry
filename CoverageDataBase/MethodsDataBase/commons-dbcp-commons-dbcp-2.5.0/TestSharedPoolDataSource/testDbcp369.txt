@Test public void testDbcp369(){
  final ArrayList<SharedPoolDataSource> dataSources=new ArrayList<>();
  for (int j=0; j < 10000; j++) {
    final SharedPoolDataSource dataSource=new SharedPoolDataSource();
    dataSources.add(dataSource);
  }
  final Thread t1=new Thread(new Runnable(){
    @Override public void run(){
      for (      final SharedPoolDataSource dataSource : dataSources) {
        dataSource.setDataSourceName("a");
      }
    }
  }
);
  final Thread t2=new Thread(new Runnable(){
    @Override public void run(){
      for (      final SharedPoolDataSource dataSource : dataSources) {
        try {
          dataSource.close();
        }
 catch (        final Exception e) {
        }
      }
    }
  }
);
  t1.start();
  t2.start();
  try {
    t1.join();
    t2.join();
  }
 catch (  final InterruptedException ie) {
  }
}
