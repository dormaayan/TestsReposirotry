@Test public void testClosedCondition() throws Exception {
  final byte[] input=new byte[]{'a','b','c'};
  final SessionInputBufferMock receiver=new SessionInputBufferMock(input);
  final IdentityInputStream inStream=new IdentityInputStream(receiver);
  inStream.close();
  inStream.close();
  Assert.assertEquals(0,inStream.available());
  final byte[] tmp=new byte[2];
  Assert.assertEquals(-1,inStream.read(tmp,0,tmp.length));
  Assert.assertEquals(-1,inStream.read());
  Assert.assertEquals(-1,inStream.read(tmp,0,tmp.length));
  Assert.assertEquals(-1,inStream.read());
}
