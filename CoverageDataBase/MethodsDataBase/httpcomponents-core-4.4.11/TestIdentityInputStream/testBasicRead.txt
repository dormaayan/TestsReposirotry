@Test public void testBasicRead() throws Exception {
  final byte[] input=new byte[]{'a','b','c'};
  final SessionInputBufferMock receiver=new SessionInputBufferMock(input);
  final IdentityInputStream inStream=new IdentityInputStream(receiver);
  final byte[] tmp=new byte[2];
  Assert.assertEquals(2,inStream.read(tmp,0,tmp.length));
  Assert.assertEquals('a',tmp[0]);
  Assert.assertEquals('b',tmp[1]);
  Assert.assertEquals('c',inStream.read());
  Assert.assertEquals(-1,inStream.read(tmp,0,tmp.length));
  Assert.assertEquals(-1,inStream.read());
  Assert.assertEquals(-1,inStream.read(tmp,0,tmp.length));
  Assert.assertEquals(-1,inStream.read());
  inStream.close();
}
