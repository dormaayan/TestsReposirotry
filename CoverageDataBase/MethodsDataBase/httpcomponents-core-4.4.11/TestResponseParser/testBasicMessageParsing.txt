@Test public void testBasicMessageParsing() throws Exception {
  final String s="HTTP/1.1 200 OK\r\n" + "Server: whatever\r\n" + "Date: some date\r\n"+ "Set-Cookie: c1=stuff\r\n"+ "\r\n";
  final SessionInputBuffer inBuffer=new SessionInputBufferMock(s,Consts.ASCII);
  final DefaultHttpResponseParser parser=new DefaultHttpResponseParser(inBuffer);
  final HttpResponse httpresponse=parser.parse();
  final StatusLine statusline=httpresponse.getStatusLine();
  Assert.assertNotNull(statusline);
  Assert.assertEquals(200,statusline.getStatusCode());
  Assert.assertEquals("OK",statusline.getReasonPhrase());
  Assert.assertEquals(HttpVersion.HTTP_1_1,statusline.getProtocolVersion());
  final Header[] headers=httpresponse.getAllHeaders();
  Assert.assertEquals(3,headers.length);
}
