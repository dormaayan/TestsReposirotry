@Test public void testParsingIncompleteRequestLine() throws Exception {
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(1024,128,Consts.ASCII);
  final NHttpMessageParser<HttpRequest> requestParser=new DefaultHttpRequestParser(inbuf);
  final ReadableByteChannel channel=newChannel("GET /whatever HTTP/1.0");
  requestParser.fillBuffer(channel);
  requestParser.fillBuffer(channel);
  final HttpRequest request=requestParser.parse();
  Assert.assertNotNull(request);
  Assert.assertEquals(HttpVersion.HTTP_1_0,request.getRequestLine().getProtocolVersion());
}
