@Test public void testLineLimit2() throws Exception {
  final String s="just a line\r\n";
  final byte[] tmp=s.getBytes(Consts.ASCII);
  final SessionInputBufferMock inBuffer1=new SessionInputBufferMock(tmp,25,MessageConstraints.DEFAULT);
  Assert.assertNotNull(inBuffer1.readLine());
  final long bytesRead=inBuffer1.getMetrics().getBytesTransferred();
  Assert.assertEquals(13,bytesRead);
  final SessionInputBufferMock inBuffer2=new SessionInputBufferMock(tmp,25,MessageConstraints.lineLen(10));
  try {
    inBuffer2.readLine();
    Assert.fail("MessageConstraintException expected");
  }
 catch (  final MessageConstraintException ex) {
  }
}
