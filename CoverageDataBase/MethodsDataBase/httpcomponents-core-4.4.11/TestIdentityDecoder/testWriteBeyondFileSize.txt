@Test public void testWriteBeyondFileSize() throws Exception {
  final ReadableByteChannel channel=new ReadableByteChannelMock(new String[]{"a"},Consts.ASCII);
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(1024,256,Consts.ASCII);
  final HttpTransportMetricsImpl metrics=new HttpTransportMetricsImpl();
  final IdentityDecoder decoder=new IdentityDecoder(channel,inbuf,metrics);
  createTempFile();
  final RandomAccessFile testfile=new RandomAccessFile(this.tmpfile,"rw");
  try {
    Assert.assertEquals(0,testfile.length());
    final FileChannel fchannel=testfile.getChannel();
    try {
      decoder.transfer(fchannel,5,10);
      Assert.fail("expected IOException");
    }
 catch (    final IOException iox) {
    }
  }
  finally {
    testfile.close();
  }
}
