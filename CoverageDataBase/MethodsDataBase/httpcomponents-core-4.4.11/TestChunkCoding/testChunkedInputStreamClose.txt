@Test public void testChunkedInputStreamClose() throws IOException {
  final String s="5\r\n01234\r\n5\r\n56789\r\n0\r\n";
  final ChunkedInputStream in=new ChunkedInputStream(new SessionInputBufferMock(s,Consts.ISO_8859_1));
  in.close();
  in.close();
  try {
    in.read();
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
  final byte[] tmp=new byte[10];
  try {
    in.read(tmp);
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
  try {
    in.read(tmp,0,tmp.length);
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
}
