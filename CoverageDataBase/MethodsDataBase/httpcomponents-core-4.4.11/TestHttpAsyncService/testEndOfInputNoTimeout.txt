@Test public void testEndOfInputNoTimeout() throws Exception {
  Mockito.when(this.conn.getSocketTimeout()).thenReturn(0);
  this.protocolHandler.endOfInput(this.conn);
  Mockito.verify(this.conn).setSocketTimeout(1000);
  Mockito.verify(this.conn).close();
}
