@Test public void testClose() throws Exception {
  final ByteArrayOutputStream buffer=new ByteArrayOutputStream();
  final SessionOutputBufferMock datatransmitter=new SessionOutputBufferMock(buffer);
  final OutputStream out=new IdentityOutputStream(datatransmitter);
  out.close();
  out.close();
  final byte[] tmp=new byte[10];
  try {
    out.write(tmp);
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
  try {
    out.write(1);
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
}
