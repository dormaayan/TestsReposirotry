@Test public void testMaxIntContentToString() throws Exception {
  final byte[] content="Message content".getBytes(Consts.ISO_8859_1);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(content));
  httpentity.setContentLength(Integer.MAX_VALUE + 100L);
  try {
    EntityUtils.toString(httpentity);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}
