@Test public void testResponseContentInvalidResponseState() throws Exception {
  final ResponseContent interceptor=new ResponseContent();
  final HttpContext context=new BasicHttpContext(null);
  try {
    final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
    response.addHeader(new BasicHeader(HTTP.CONTENT_LEN,"10"));
    interceptor.process(response,context);
    Assert.fail("ProtocolException should have been thrown");
  }
 catch (  final ProtocolException ex) {
  }
  try {
    final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
    response.addHeader(new BasicHeader(HTTP.TRANSFER_ENCODING,"stuff"));
    interceptor.process(response,context);
    Assert.fail("ProtocolException should have been thrown");
  }
 catch (  final ProtocolException ex) {
  }
}
