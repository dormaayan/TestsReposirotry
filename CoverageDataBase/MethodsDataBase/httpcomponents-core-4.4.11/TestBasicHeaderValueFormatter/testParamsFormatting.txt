@Test public void testParamsFormatting() throws Exception {
  final NameValuePair param1=new BasicNameValuePair("param","regular_stuff");
  final NameValuePair param2=new BasicNameValuePair("param","this\\that");
  final NameValuePair param3=new BasicNameValuePair("param","this,that");
  final NameValuePair[] params=new NameValuePair[]{param1,param2,param3};
  Assert.assertEquals("param=regular_stuff; param=\"this\\\\that\"; param=\"this,that\"",BasicHeaderValueFormatter.formatParameters(params,false,null));
  Assert.assertEquals("param=\"regular_stuff\"; param=\"this\\\\that\"; param=\"this,that\"",BasicHeaderValueFormatter.formatParameters(params,true,null));
}
