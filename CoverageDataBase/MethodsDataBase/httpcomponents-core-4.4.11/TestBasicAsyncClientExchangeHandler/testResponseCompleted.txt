@Test public void testResponseCompleted() throws Exception {
  final Object obj=new Object();
  Mockito.when(this.responseConsumer.getResult()).thenReturn(obj);
  this.exchangeHandler.responseCompleted();
  Mockito.verify(this.responseConsumer).responseCompleted(this.context);
  Mockito.verify(this.requestProducer).close();
  Mockito.verify(this.responseConsumer).close();
  final Object result=this.exchangeHandler.getFuture().get();
  Assert.assertSame(obj,result);
}
