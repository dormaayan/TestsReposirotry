@Test public void testResponseReceived() throws Exception {
  final BasicHttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  this.exchangeHandler.responseReceived(response);
  Mockito.verify(this.responseConsumer).responseReceived(response);
  Assert.assertSame(response,this.context.getAttribute(HttpCoreContext.HTTP_RESPONSE));
  Mockito.verify(this.httpProcessor).process(response,this.context);
}
