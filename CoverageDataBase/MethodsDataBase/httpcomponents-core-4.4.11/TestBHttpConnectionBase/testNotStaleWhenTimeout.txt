@Test public void testNotStaleWhenTimeout() throws Exception {
  final InputStream inStream=Mockito.mock(InputStream.class);
  Mockito.when(socket.getInputStream()).thenReturn(inStream);
  Mockito.when(inStream.read(Matchers.<byte[]>any(),Matchers.anyInt(),Matchers.anyInt())).thenThrow(new SocketTimeoutException());
  conn.bind(socket);
  conn.ensureOpen();
  Assert.assertFalse(conn.isStale());
}
