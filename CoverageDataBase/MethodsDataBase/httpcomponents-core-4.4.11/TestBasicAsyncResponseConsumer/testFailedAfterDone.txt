@Test public void testFailedAfterDone() throws Exception {
  final RuntimeException ooopsie=new RuntimeException();
  consumer.cancel();
  consumer.failed(ooopsie);
  verify(consumer,times(1)).releaseResources();
  Assert.assertTrue(consumer.isDone());
  Assert.assertNull(consumer.getException());
}
