@Test public void testEndOfInput() throws Exception {
  final State state=new HttpAsyncRequestExecutor.State();
  this.connContext.setAttribute(HttpAsyncRequestExecutor.HTTP_EXCHANGE_STATE,state);
  this.protocolHandler.endOfInput(this.conn);
  Mockito.verify(this.conn).close();
}
