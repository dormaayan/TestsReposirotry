@Test public void testTokenization18() throws Exception {
  final Function log2=new Function("log2"){
    @Override public double apply(    double... args){
      return Math.log(args[0]) / Math.log(2d);
    }
  }
;
  Map<String,Function> funcs=new HashMap<String,Function>(1);
  funcs.put(log2.getName(),log2);
  final Tokenizer tokenizer=new Tokenizer("log2(4)",funcs,null,null);
  assertTrue(tokenizer.hasNext());
  assertFunctionToken(tokenizer.nextToken(),"log2",1);
  assertTrue(tokenizer.hasNext());
  assertOpenParenthesesToken(tokenizer.nextToken());
  assertTrue(tokenizer.hasNext());
  assertNumberToken(tokenizer.nextToken(),4d);
  assertTrue(tokenizer.hasNext());
  assertCloseParenthesesToken(tokenizer.nextToken());
  assertFalse(tokenizer.hasNext());
}
