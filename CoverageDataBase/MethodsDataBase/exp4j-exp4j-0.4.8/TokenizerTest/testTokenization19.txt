@Test public void testTokenization19() throws Exception {
  Function avg=new Function("avg",2){
    @Override public double apply(    double... args){
      double sum=0;
      for (      double arg : args) {
        sum+=arg;
      }
      return sum / args.length;
    }
  }
;
  Map<String,Function> funcs=new HashMap<String,Function>(1);
  funcs.put(avg.getName(),avg);
  final Tokenizer tokenizer=new Tokenizer("avg(1,2)",funcs,null,null);
  assertTrue(tokenizer.hasNext());
  assertFunctionToken(tokenizer.nextToken(),"avg",2);
  assertTrue(tokenizer.hasNext());
  assertOpenParenthesesToken(tokenizer.nextToken());
  assertTrue(tokenizer.hasNext());
  assertNumberToken(tokenizer.nextToken(),1d);
  assertTrue(tokenizer.hasNext());
  assertFunctionSeparatorToken(tokenizer.nextToken());
  assertTrue(tokenizer.hasNext());
  assertNumberToken(tokenizer.nextToken(),2d);
  assertTrue(tokenizer.hasNext());
  assertCloseParenthesesToken(tokenizer.nextToken());
  assertFalse(tokenizer.hasNext());
}
