@Test public void testFunction20() throws Exception {
  Function maxFunction=new Function("max",3){
    @Override public double apply(    double... values){
      double max=values[0];
      for (int i=1; i < numArguments; i++) {
        if (values[i] > max) {
          max=values[i];
        }
      }
      return max;
    }
  }
;
  ExpressionBuilder b=new ExpressionBuilder("max(1,2,3)").function(maxFunction);
  double calculated=b.build().evaluate();
  assertTrue(maxFunction.getNumArguments() == 3);
  assertTrue(calculated == 3);
}
