@Test public void testVarMap() throws Exception {
  String expr="12.23 * foo - bar";
  Map<String,Double> variables=new HashMap<String,Double>();
  variables.put("foo",2d);
  variables.put("bar",3.3d);
  Expression e=new ExpressionBuilder(expr).variables(variables.keySet()).build().setVariables(variables);
  assertTrue(12.23d * 2d - 3.3d == e.evaluate());
}
