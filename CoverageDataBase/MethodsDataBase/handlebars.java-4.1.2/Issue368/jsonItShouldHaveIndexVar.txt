@Test public void jsonItShouldHaveIndexVar() throws IOException {
  String value="{ \"names\": [ { \"id\": \"a\" }, { \"id\": \"b\" }, { \"id\": \"c\" }, { \"id\": \"d\" } ] }";
  ObjectMapper mapper=new ObjectMapper();
  JsonNode jsonNode=mapper.readTree(value);
  shouldCompileTo("{{#each names}}index={{@index}}, id={{id}}, {{/each}}",jsonNode,"index=0, id=a, index=1, id=b, index=2, id=c, index=3, id=d, ");
}
