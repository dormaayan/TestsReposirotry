/** 
 * Here we accept everything but reject specific classes, using a pure blacklist mode. That's not as safe as it's hard to get an exhaustive blacklist, but might be ok in controlled environments.
 */
@Test public void useBlacklist() throws IOException, ClassNotFoundException {
  final String[] blacklist={"org.apache.commons.collections.functors.InvokerTransformer","org.codehaus.groovy.runtime.ConvertedClosure","org.codehaus.groovy.runtime.MethodClosure","org.springframework.beans.factory.ObjectFactory"};
  assertSerialization(willClose(new ValidatingObjectInputStream(inputStream).accept("*").reject(blacklist)));
}
