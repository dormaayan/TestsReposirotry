@Test public void testRemoveBeforeIndex(){
  Document doc=Jsoup.parse("<html><body><div><p>before1</p><p>before2</p><p>XXX</p><p>after1</p><p>after2</p></div></body></html>","");
  Element body=doc.select("body").first();
  Elements elems=body.select("p:matchesOwn(XXX)");
  Element xElem=elems.first();
  Elements beforeX=xElem.parent().getElementsByIndexLessThan(xElem.elementSiblingIndex());
  for (  Element p : beforeX) {
    p.remove();
  }
  assertEquals("<body><div><p>XXX</p><p>after1</p><p>after2</p></div></body>",TextUtil.stripNewlines(body.outerHtml()));
}
