@Test public void canSpecifyResponseCharset() throws IOException {
  String noCharsetUrl="http://direct.infohound.net/tools/Windows-1252-nocharset.html";
  String charsetUrl="http://direct.infohound.net/tools/Windows-1252-charset.html";
  Connection.Response res1=Jsoup.connect(charsetUrl).execute();
  assertEquals(null,res1.charset());
  final Document doc1=res1.parse();
  assertEquals("windows-1252",doc1.charset().displayName());
  assertEquals("Cost is €100",doc1.select("p").text());
  assertTrue(doc1.text().contains("€"));
  Connection.Response res2=Jsoup.connect(noCharsetUrl).execute();
  assertEquals(null,res2.charset());
  final Document doc2=res2.parse();
  assertEquals("UTF-8",doc2.charset().displayName());
  assertEquals("Cost is �100",doc2.select("p").text());
  assertTrue(doc2.text().contains("�"));
  Connection.Response res3=Jsoup.connect(noCharsetUrl).execute();
  assertEquals(null,res3.charset());
  res3.charset("windows-1252");
  assertEquals("windows-1252",res3.charset());
  final Document doc3=res3.parse();
  assertEquals("windows-1252",doc3.charset().displayName());
  assertEquals("Cost is €100",doc3.select("p").text());
  assertTrue(doc3.text().contains("€"));
}
