@Test public void testDetectCharsetEncodingDeclaration() throws IOException, URISyntaxException {
  File xmlFile=new File(XmlTreeBuilder.class.getResource("/htmltests/xml-charset.xml").toURI());
  InputStream inStream=new FileInputStream(xmlFile);
  Document doc=Jsoup.parse(inStream,null,"http://example.com/",Parser.xmlParser());
  assertEquals("ISO-8859-1",doc.charset().name());
  assertEquals("<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?> <data>äöåéü</data>",TextUtil.stripNewlines(doc.html()));
}
