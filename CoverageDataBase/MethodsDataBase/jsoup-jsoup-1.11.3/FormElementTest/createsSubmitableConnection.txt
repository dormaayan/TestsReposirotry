@Test public void createsSubmitableConnection(){
  String html="<form action='/search'><input name='q'></form>";
  Document doc=Jsoup.parse(html,"http://example.com/");
  doc.select("[name=q]").attr("value","jsoup");
  FormElement form=((FormElement)doc.select("form").first());
  Connection con=form.submit();
  assertEquals(Connection.Method.GET,con.request().method());
  assertEquals("http://example.com/search",con.request().url().toExternalForm());
  List<Connection.KeyVal> dataList=(List<Connection.KeyVal>)con.request().data();
  assertEquals("q=jsoup",dataList.get(0).toString());
  doc.select("form").attr("method","post");
  Connection con2=form.submit();
  assertEquals(Connection.Method.POST,con2.request().method());
}
