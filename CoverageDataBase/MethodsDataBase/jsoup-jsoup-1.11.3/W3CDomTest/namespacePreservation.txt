@Test public void namespacePreservation() throws IOException {
  File in=ParseTest.getFile("/htmltests/namespaces.xhtml");
  org.jsoup.nodes.Document jsoupDoc;
  jsoupDoc=Jsoup.parse(in,"UTF-8");
  Document doc;
  org.jsoup.helper.W3CDom jDom=new org.jsoup.helper.W3CDom();
  doc=jDom.fromJsoup(jsoupDoc);
  Node htmlEl=doc.getChildNodes().item(0);
  assertEquals("http://www.w3.org/1999/xhtml",htmlEl.getNamespaceURI());
  assertEquals("html",htmlEl.getLocalName());
  assertEquals("html",htmlEl.getNodeName());
  Node head=htmlEl.getFirstChild();
  assertEquals("http://www.w3.org/1999/xhtml",head.getNamespaceURI());
  assertEquals("head",head.getLocalName());
  assertEquals("head",head.getNodeName());
  Node epubTitle=htmlEl.getChildNodes().item(2).getChildNodes().item(3);
  assertEquals("Check",epubTitle.getTextContent());
  assertEquals("http://www.idpf.org/2007/ops",epubTitle.getNamespaceURI());
  assertEquals("title",epubTitle.getLocalName());
  assertEquals("epub:title",epubTitle.getNodeName());
  Node xSection=epubTitle.getNextSibling().getNextSibling();
  assertEquals("urn:test",xSection.getNamespaceURI());
  assertEquals("section",xSection.getLocalName());
  assertEquals("x:section",xSection.getNodeName());
  Node svg=xSection.getNextSibling().getNextSibling();
  assertEquals("http://www.w3.org/2000/svg",svg.getNamespaceURI());
  assertEquals("svg",svg.getLocalName());
  assertEquals("svg",svg.getNodeName());
  Node path=svg.getChildNodes().item(1);
  assertEquals("http://www.w3.org/2000/svg",path.getNamespaceURI());
  assertEquals("path",path.getLocalName());
  assertEquals("path",path.getNodeName());
  Node clip=path.getChildNodes().item(1);
  assertEquals("http://example.com/clip",clip.getNamespaceURI());
  assertEquals("clip",clip.getLocalName());
  assertEquals("clip",clip.getNodeName());
  assertEquals("456",clip.getTextContent());
  Node picture=svg.getNextSibling().getNextSibling();
  assertEquals("http://www.w3.org/1999/xhtml",picture.getNamespaceURI());
  assertEquals("picture",picture.getLocalName());
  assertEquals("picture",picture.getNodeName());
  Node img=picture.getFirstChild();
  assertEquals("http://www.w3.org/1999/xhtml",img.getNamespaceURI());
  assertEquals("img",img.getLocalName());
  assertEquals("img",img.getNodeName());
}
