@Test public void handlesUnclosedFormattingElements(){
  String h="<!DOCTYPE html>\n" + "<p><b class=x><b class=x><b><b class=x><b class=x><b>X\n" + "<p>X\n"+ "<p><b><b class=x><b>X\n"+ "<p></b></b></b></b></b></b>X";
  Document doc=Jsoup.parse(h);
  doc.outputSettings().indentAmount(0);
  String want="<!doctype html>\n" + "<html>\n" + "<head></head>\n"+ "<body>\n"+ "<p><b class=\"x\"><b class=\"x\"><b><b class=\"x\"><b class=\"x\"><b>X </b></b></b></b></b></b></p>\n"+ "<p><b class=\"x\"><b><b class=\"x\"><b class=\"x\"><b>X </b></b></b></b></b></p>\n"+ "<p><b class=\"x\"><b><b class=\"x\"><b class=\"x\"><b><b><b class=\"x\"><b>X </b></b></b></b></b></b></b></b></p>\n"+ "<p>X</p>\n"+ "</body>\n"+ "</html>";
  assertEquals(want,doc.html());
}
