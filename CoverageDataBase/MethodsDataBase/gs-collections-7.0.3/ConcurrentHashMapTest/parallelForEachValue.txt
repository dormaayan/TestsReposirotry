@Test public void parallelForEachValue(){
  ConcurrentHashMap<Integer,Integer> source=ConcurrentHashMap.newMap(Interval.oneTo(100).toMap(Functions.getIntegerPassThru(),Functions.getIntegerPassThru()));
  MutableMap<Integer,MutableBag<Integer>> actual=ConcurrentHashMap.newMap();
  Procedure<Integer> procedure=each -> actual.getIfAbsentPut(each % 10,() -> HashBag.<Integer>newBag().asSynchronized()).add(each);
  source.parallelForEachValue(FastList.newList(Collections.nCopies(5,procedure)),this.executor);
  Verify.assertEqualsAndHashCode(SMALL_BAG_MUTABLE_MAP,actual);
}
