@Test public void collectWith(){
  MutableMap<String,Integer> map=this.newMapWithKeysValues("1",1,"2",2,"3",3);
  MutableBag<Integer> collectWith=map.collectWith(AddFunction.INTEGER,1,HashBag.<Integer>newBag());
switch (map.size()) {
case 1:
    Assert.assertEquals(Bags.mutable.of(2),collectWith);
  break;
case 2:
Assert.assertEquals(Bags.mutable.of(2,3),collectWith);
break;
case 3:
Assert.assertEquals(Bags.mutable.of(2,3,4),collectWith);
break;
default :
Verify.assertEmpty(collectWith);
break;
}
}
