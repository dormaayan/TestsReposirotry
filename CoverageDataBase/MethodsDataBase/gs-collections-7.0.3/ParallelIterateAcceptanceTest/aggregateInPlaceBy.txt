@Test public void aggregateInPlaceBy(){
  Procedure2<AtomicInteger,Integer> countAggregator=(aggregate,value) -> aggregate.incrementAndGet();
  List<Integer> list=Interval.oneTo(20000);
  MutableMap<String,AtomicInteger> aggregation=ParallelIterate.aggregateInPlaceBy(list,EVEN_OR_ODD,ATOMIC_INTEGER_NEW,countAggregator);
  Assert.assertEquals(10000,aggregation.get("Even").intValue());
  Assert.assertEquals(10000,aggregation.get("Odd").intValue());
  ParallelIterate.aggregateInPlaceBy(list,EVEN_OR_ODD,ATOMIC_INTEGER_NEW,countAggregator,aggregation);
  Assert.assertEquals(20000,aggregation.get("Even").intValue());
  Assert.assertEquals(20000,aggregation.get("Odd").intValue());
}
