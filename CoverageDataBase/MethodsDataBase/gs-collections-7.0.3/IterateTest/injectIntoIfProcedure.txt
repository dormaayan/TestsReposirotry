@Test public void injectIntoIfProcedure(){
  Integer newItemToIndex=99;
  MutableMap<String,Integer> index1=IterateTest.createPretendIndex(1);
  MutableMap<String,Integer> index2=IterateTest.createPretendIndex(2);
  MutableMap<String,Integer> index3=IterateTest.createPretendIndex(3);
  MutableMap<String,Integer> index4=IterateTest.createPretendIndex(4);
  MutableMap<String,Integer> index5=IterateTest.createPretendIndex(5);
  MutableMap<String,MutableMap<String,Integer>> allIndexes=UnifiedMap.newMapWith(Tuples.pair("pretend index 1",index1),Tuples.pair("pretend index 2",index2),Tuples.pair("pretend index 3",index3),Tuples.pair("pretend index 4",index4),Tuples.pair("pretend index 5",index5));
  MutableSet<MutableMap<String,Integer>> systemIndexes=Sets.fixedSize.of(index3,index5);
  MapIterate.injectIntoIf(newItemToIndex,allIndexes,Predicates.notIn(systemIndexes),(itemToAdd,index) -> {
    index.put(itemToAdd.toString(),itemToAdd);
    return itemToAdd;
  }
);
  Verify.assertSize(5,allIndexes);
  Verify.assertContainsKey("pretend index 2",allIndexes);
  Verify.assertContainsKey("pretend index 3",allIndexes);
  Verify.assertContainsKeyValue("99",newItemToIndex,index1);
  Verify.assertContainsKeyValue("99",newItemToIndex,index2);
  Verify.assertNotContainsKey("99",index3);
  Verify.assertContainsKeyValue("99",newItemToIndex,index4);
  Verify.assertNotContainsKey("99",index5);
}
