@Test public void updateValue(){
  BooleanToBooleanFunction flip=value -> !value;
  ObjectBooleanHashMap<Integer> map1=ObjectBooleanHashMap.newMap();
  Assert.assertTrue(map1.updateValue(0,false,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(0,true),map1);
  Assert.assertFalse(map1.updateValue(0,false,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(0,false),map1);
  Assert.assertFalse(map1.updateValue(1,true,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(0,false,1,false),map1);
  Assert.assertTrue(map1.updateValue(1,true,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(0,false,1,true),map1);
  ObjectBooleanHashMap<Integer> map2=ObjectBooleanHashMap.newMap();
  Assert.assertTrue(map2.updateValue(1,false,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(1,true),map2);
  Assert.assertFalse(map2.updateValue(1,false,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(1,false),map2);
  Assert.assertFalse(map2.updateValue(0,true,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(0,false,1,false),map2);
  Assert.assertTrue(map2.updateValue(0,true,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(0,true,1,false),map2);
  ObjectBooleanHashMap<Integer> map3=ObjectBooleanHashMap.newMap();
  Assert.assertFalse(map3.updateValue(null,true,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(null,false),map3);
  Assert.assertTrue(map3.updateValue(null,true,flip));
  Assert.assertEquals(ObjectBooleanHashMap.newWithKeysValues(null,true),map3);
}
