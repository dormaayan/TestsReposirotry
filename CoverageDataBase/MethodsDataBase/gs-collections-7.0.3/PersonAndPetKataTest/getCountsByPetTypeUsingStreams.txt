@Test public void getCountsByPetTypeUsingStreams(){
  Map<PetType,Long> countsStream=Collections.unmodifiableMap(this.people.stream().flatMap(person -> person.getPets().stream()).collect(Collectors.groupingBy(Pet::getType,Collectors.counting())));
  Assert.assertEquals(Long.valueOf(2L),countsStream.get(PetType.CAT));
  Assert.assertEquals(Long.valueOf(2L),countsStream.get(PetType.DOG));
  Assert.assertEquals(Long.valueOf(2L),countsStream.get(PetType.HAMSTER));
  Assert.assertEquals(Long.valueOf(1L),countsStream.get(PetType.SNAKE));
  Assert.assertEquals(Long.valueOf(1L),countsStream.get(PetType.TURTLE));
  Assert.assertEquals(Long.valueOf(1L),countsStream.get(PetType.BIRD));
}
