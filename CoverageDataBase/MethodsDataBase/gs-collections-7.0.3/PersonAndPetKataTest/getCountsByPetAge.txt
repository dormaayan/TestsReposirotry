@Test public void getCountsByPetAge(){
  ImmutableIntBag countsLazy=this.people.asLazy().flatCollect(Person::getPets).collectInt(Pet::getAge).toBag().toImmutable();
  Assert.assertEquals(4,countsLazy.occurrencesOf(1));
  Assert.assertEquals(3,countsLazy.occurrencesOf(2));
  Assert.assertEquals(1,countsLazy.occurrencesOf(3));
  Assert.assertEquals(1,countsLazy.occurrencesOf(4));
  Assert.assertEquals(0,countsLazy.occurrencesOf(5));
}
