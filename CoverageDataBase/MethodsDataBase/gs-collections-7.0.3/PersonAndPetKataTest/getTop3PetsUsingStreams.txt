@Test public void getTop3PetsUsingStreams(){
  List<Map.Entry<PetType,Long>> favoritesStream=this.people.stream().flatMap(p -> p.getPets().stream()).collect(Collectors.groupingBy(Pet::getType,Collectors.counting())).entrySet().stream().sorted(Comparator.comparingLong(e -> -e.getValue())).limit(3).collect(Collectors.toList());
  Verify.assertSize(3,favoritesStream);
  Verify.assertContains(new AbstractMap.SimpleEntry<>(PetType.CAT,Long.valueOf(2)),favoritesStream);
  Verify.assertContains(new AbstractMap.SimpleEntry<>(PetType.DOG,Long.valueOf(2)),favoritesStream);
  Verify.assertContains(new AbstractMap.SimpleEntry<>(PetType.HAMSTER,Long.valueOf(2)),favoritesStream);
}
