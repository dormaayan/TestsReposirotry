@Test public void conditionalMapTransformation(){
  MutableMap<Locale,Currency> input=UnifiedMap.newWithKeysValues(Locale.UK,Currency.getInstance(Locale.UK),Locale.JAPAN,Currency.getInstance(Locale.JAPAN),Locale.CHINA,Currency.getInstance(Locale.GERMANY),Locale.GERMANY,Currency.getInstance(Locale.CHINA));
  MutableMap<String,String> result=MapIterate.collectIf(input,(locale,currency) -> Tuples.pair(locale.getDisplayCountry() + ':' + currency.getCurrencyCode(),currency.getCurrencyCode()),(locale,currency) -> Currency.getInstance(locale).equals(currency));
  Verify.assertContainsKeyValue("United Kingdom:GBP","GBP",result);
  Verify.assertContainsKeyValue("Japan:JPY","JPY",result);
  Verify.assertSize(2,result);
}
