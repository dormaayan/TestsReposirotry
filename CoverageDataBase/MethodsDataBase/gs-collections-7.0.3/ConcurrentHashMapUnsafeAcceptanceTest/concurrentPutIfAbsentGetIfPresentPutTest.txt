@Test public void concurrentPutIfAbsentGetIfPresentPutTest(){
  ConcurrentHashMapUnsafe<Integer,Integer> map1=ConcurrentHashMapUnsafe.newMap();
  ConcurrentHashMapUnsafe<Integer,Integer> map2=ConcurrentHashMapUnsafe.newMap();
  ParallelIterate.forEach(Interval.oneTo(1000),each -> {
    map1.put(each,each);
    map1.put(each,each);
    Assert.assertEquals(each,map1.get(each));
    map2.putAll(Maps.mutable.of(each,each));
    map2.putAll(Maps.mutable.of(each,each));
    map1.remove(each);
    Assert.assertNull(map1.putIfAbsentGetIfPresent(each,new KeyTransformer(),new ValueFactory(),null,null));
    Assert.assertEquals(each,map1.putIfAbsentGetIfPresent(each,new KeyTransformer(),new ValueFactory(),null,null));
  }
,10,this.executor);
  Assert.assertEquals(map1,map2);
}
