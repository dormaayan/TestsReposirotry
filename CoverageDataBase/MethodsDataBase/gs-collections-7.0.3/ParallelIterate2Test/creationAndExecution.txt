/** 
 * crude test to check that creation works and that all tasks are executed
 */
@Test public void creationAndExecution() throws InterruptedException {
  int howManyTimes=200;
  AtomicInteger counter=new AtomicInteger(0);
  Collection<Callable<Integer>> tasks=new ArrayList<>();
  Interval.oneTo(howManyTimes).run(() -> tasks.add(counter::getAndIncrement));
  ExecutorService executorService1=ParallelIterate.newPooledExecutor(4,"test pool 2 4",true);
  executorService1.invokeAll(tasks);
  Assert.assertEquals(howManyTimes,counter.get());
  counter.set(0);
  ExecutorService executorService2=ParallelIterate.newPooledExecutor(2,"test pool 2",true);
  executorService2.invokeAll(tasks);
  Assert.assertEquals(howManyTimes,counter.get());
}
