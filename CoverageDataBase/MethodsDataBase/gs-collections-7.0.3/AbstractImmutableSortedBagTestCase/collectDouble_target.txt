@Test public void collectDouble_target(){
  ImmutableSortedBag<Integer> bag=SortedBags.immutable.of(Comparators.reverseNaturalOrder(),1,1,1,2,3);
  Assert.assertEquals(DoubleArrayList.newListWith(3,2,1,1,1),bag.collectDouble(PrimitiveFunctions.unboxIntegerToDouble(),new DoubleArrayList()));
  ImmutableSortedBag<Integer> bag2=SortedBags.immutable.of(Comparators.reverseNaturalOrder(),1,1,1,2,3);
  Assert.assertEquals(DoubleHashBag.newBagWith(3,2,1,1,1),bag2.collectDouble(PrimitiveFunctions.unboxIntegerToDouble(),new DoubleHashBag()));
}
