@Test public void zipWithIndex(){
  ImmutableSortedBag<Integer> integers=SortedBags.immutable.of(Collections.<Integer>reverseOrder(),1,3,5,5,5,2,4);
  ImmutableSortedSet<Pair<Integer,Integer>> expected=TreeSortedSet.newSetWith(Tuples.pair(5,0),Tuples.pair(5,1),Tuples.pair(5,2),Tuples.pair(4,3),Tuples.pair(3,4),Tuples.pair(2,5),Tuples.pair(1,6)).toImmutable();
  ImmutableSortedSet<Pair<Integer,Integer>> actual=integers.zipWithIndex();
  Assert.assertEquals(expected,actual);
  ImmutableSortedBag<Integer> integersNoComparator=SortedBags.immutable.of(1,3,5,5,5,2,4);
  ImmutableSortedSet<Pair<Integer,Integer>> expected2=TreeSortedSet.newSetWith(Tuples.pair(1,0),Tuples.pair(2,1),Tuples.pair(3,2),Tuples.pair(4,3),Tuples.pair(5,4),Tuples.pair(5,5),Tuples.pair(5,6)).toImmutable();
  ImmutableSortedSet<Pair<Integer,Integer>> actual2=integersNoComparator.zipWithIndex();
  Assert.assertEquals(expected2,actual2);
}
