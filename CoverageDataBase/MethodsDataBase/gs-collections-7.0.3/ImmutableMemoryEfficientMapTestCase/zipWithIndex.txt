@Test public void zipWithIndex(){
  ImmutableMap<String,String> map=this.newMapWithKeysValues("1","One","2","Two","3","Three","4","Four");
  RichIterable<Pair<String,Integer>> pairs=map.zipWithIndex();
  Assert.assertEquals(map.toSet(),pairs.collect((Function<Pair<String,?>,String>)Pair::getOne).toSet());
  if (map.notEmpty()) {
    Assert.assertEquals(Interval.zeroTo(map.size() - 1).toSet(),pairs.collect((Function<Pair<?,Integer>,Integer>)Pair::getTwo,UnifiedSet.<Integer>newSet()));
  }
  Assert.assertEquals(map.zipWithIndex().toSet(),map.zipWithIndex(UnifiedSet.<Pair<String,Integer>>newSet()));
}
