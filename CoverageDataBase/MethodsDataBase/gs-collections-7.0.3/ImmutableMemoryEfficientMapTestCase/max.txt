@Test public void max(){
  ImmutableMap<String,Integer> map=this.newMapWithKeysValues("1",1,"2",2,"3",3,"4",4);
  Integer max;
switch (map.size()) {
case 1:
    max=Integer.valueOf(1);
  break;
case 2:
max=Integer.valueOf(2);
break;
case 3:
max=Integer.valueOf(3);
break;
case 4:
max=Integer.valueOf(4);
break;
default :
max=Integer.valueOf(0);
break;
}
Assert.assertEquals(max,map.max());
Assert.assertEquals(max,map.max(Integer::compareTo));
}
