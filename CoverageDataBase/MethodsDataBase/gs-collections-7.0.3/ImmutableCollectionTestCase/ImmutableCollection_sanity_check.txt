@Test default void ImmutableCollection_sanity_check(){
  String s="";
  if (this.allowsDuplicates()) {
    assertEquals(2,this.newWith(s,s).size());
  }
 else {
    assertThrows(IllegalStateException.class,() -> this.newWith(s,s));
  }
  ImmutableCollection<String> collection=this.newWith(s);
  ImmutableCollection<String> newCollection=collection.newWith(s);
  if (this.allowsDuplicates()) {
    assertEquals(2,newCollection.size());
    assertEquals(this.newWith(s,s),newCollection);
  }
 else {
    assertEquals(1,newCollection.size());
    assertSame(collection,newCollection);
  }
}
