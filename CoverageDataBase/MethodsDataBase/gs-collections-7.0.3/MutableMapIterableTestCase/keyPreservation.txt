@Test public void keyPreservation(){
  Key key=new Key("key");
  Key duplicateKey1=new Key("key");
  MapIterable<Key,Integer> map1=this.newMapWithKeysValues(key,1,duplicateKey1,2);
  Verify.assertSize(1,map1);
  Verify.assertContainsKeyValue(key,2,map1);
  Assert.assertSame(key,map1.keysView().getFirst());
  Key duplicateKey2=new Key("key");
  MapIterable<Key,Integer> map2=this.newMapWithKeysValues(key,1,duplicateKey1,2,duplicateKey2,3);
  Verify.assertSize(1,map2);
  Verify.assertContainsKeyValue(key,3,map2);
  Assert.assertSame(key,map1.keysView().getFirst());
  Key duplicateKey3=new Key("key");
  MapIterable<Key,Integer> map3=this.newMapWithKeysValues(key,1,new Key("not a dupe"),2,duplicateKey3,3);
  Verify.assertSize(2,map3);
  Verify.assertContainsAllKeyValues(map3,key,3,new Key("not a dupe"),2);
  Assert.assertSame(key,map3.keysView().detect(key::equals));
  Key duplicateKey4=new Key("key");
  MapIterable<Key,Integer> map4=this.newMapWithKeysValues(key,1,new Key("still not a dupe"),2,new Key("me neither"),3,duplicateKey4,4);
  Verify.assertSize(3,map4);
  Verify.assertContainsAllKeyValues(map4,key,4,new Key("still not a dupe"),2,new Key("me neither"),3);
  Assert.assertSame(key,map4.keysView().detect(key::equals));
  MapIterable<Key,Integer> map5=this.newMapWithKeysValues(key,1,duplicateKey1,2,duplicateKey3,3,duplicateKey4,4);
  Verify.assertSize(1,map5);
  Verify.assertContainsKeyValue(key,4,map5);
  Assert.assertSame(key,map5.keysView().getFirst());
}
