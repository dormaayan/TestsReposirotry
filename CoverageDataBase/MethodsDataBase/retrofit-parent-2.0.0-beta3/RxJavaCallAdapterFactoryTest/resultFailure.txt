@Test public void resultFailure(){
  server.enqueue(new MockResponse().setSocketPolicy(DISCONNECT_AFTER_REQUEST));
  BlockingObservable<Result<String>> o=service.observableResult().toBlocking();
  Result<String> result=o.first();
  assertThat(result.isError()).isTrue();
  assertThat(result.error()).isInstanceOf(IOException.class);
}
