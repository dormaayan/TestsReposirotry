@Test public void methodAnnotationsPassedToCallAdapter(){
  final AtomicReference<Annotation[]> annotationsRef=new AtomicReference<>();
class MyCallAdapterFactory implements CallAdapter.Factory {
    @Override public CallAdapter<?> get(    Type returnType,    Annotation[] annotations,    Retrofit retrofit){
      annotationsRef.set(annotations);
      return null;
    }
  }
  Retrofit retrofit=new Retrofit.Builder().baseUrl(server.url("/")).addConverterFactory(new ToStringConverterFactory()).addCallAdapterFactory(new MyCallAdapterFactory()).build();
  Annotated annotated=retrofit.create(Annotated.class);
  annotated.method();
  Annotation[] annotations=annotationsRef.get();
  assertThat(annotations).hasAtLeastOneElementOfType(Annotated.Foo.class);
}
