@Test public void callFactoryUsed() throws IOException {
  okhttp3.Call.Factory callFactory=spy(new okhttp3.Call.Factory(){
    @Override public okhttp3.Call newCall(    Request request){
      return new OkHttpClient().newCall(request);
    }
  }
);
  Retrofit retrofit=new Retrofit.Builder().baseUrl(server.url("/")).callFactory(callFactory).build();
  server.enqueue(new MockResponse());
  CallMethod service=retrofit.create(CallMethod.class);
  service.getResponseBody().execute();
  verify(callFactory).newCall(any(Request.class));
  verifyNoMoreInteractions(callFactory);
}
