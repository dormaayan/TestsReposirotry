@Test public void testLeastSquares3(){
  final RealMatrix factors=new Array2DRowRealMatrix(new double[][]{{1,0},{0,1}},false);
  LeastSquaresConverter ls=new LeastSquaresConverter(new MultivariateVectorFunction(){
    public double[] value(    double[] variables){
      return factors.operate(variables);
    }
  }
,new double[]{2,-3},new Array2DRowRealMatrix(new double[][]{{1,1.2},{1.2,2}}));
  SimplexOptimizer optimizer=new SimplexOptimizer(-1,1e-6);
  PointValuePair optimum=optimizer.optimize(new MaxEval(200),new ObjectiveFunction(ls),GoalType.MINIMIZE,new InitialGuess(new double[]{10,10}),new NelderMeadSimplex(2));
  Assert.assertEquals(2,optimum.getPointRef()[0],2e-3);
  Assert.assertEquals(-3,optimum.getPointRef()[1],8e-4);
  Assert.assertTrue(optimizer.getEvaluations() > 60);
  Assert.assertTrue(optimizer.getEvaluations() < 80);
  Assert.assertTrue(optimum.getValue() < 1e-6);
}
