/** 
 * Test demonstrating that the user exception is finally thrown if none of the runs succeed.
 */
@Test(expected=TestException.class) public void testNoOptimum(){
  JacobianMultivariateVectorOptimizer underlyingOptimizer=new GaussNewtonOptimizer(true,new SimpleVectorValueChecker(1e-6,1e-6));
  JDKRandomGenerator g=new JDKRandomGenerator();
  g.setSeed(12373523445l);
  RandomVectorGenerator generator=new UncorrelatedRandomVectorGenerator(1,new GaussianRandomGenerator(g));
  MultiStartMultivariateVectorOptimizer optimizer=new MultiStartMultivariateVectorOptimizer(underlyingOptimizer,10,generator);
  optimizer.optimize(new MaxEval(100),new Target(new double[]{0}),new Weight(new double[]{1}),new InitialGuess(new double[]{0}),new ModelFunction(new MultivariateVectorFunction(){
    public double[] value(    double[] point){
      throw new TestException();
    }
  }
));
}
