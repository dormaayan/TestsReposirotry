@Test public void testSingularities(){
  DfpField field=new DfpField(20);
  for (  RotationConvention convention : RotationConvention.values()) {
    RotationOrder[] CardanOrders={RotationOrder.XYZ,RotationOrder.XZY,RotationOrder.YXZ,RotationOrder.YZX,RotationOrder.ZXY,RotationOrder.ZYX};
    double[] singularCardanAngle={FastMath.PI / 2,-FastMath.PI / 2};
    for (int i=0; i < CardanOrders.length; ++i) {
      for (int j=0; j < singularCardanAngle.length; ++j) {
        FieldRotation<Dfp> r=new FieldRotation<Dfp>(CardanOrders[i],convention,field.newDfp(0.1),field.newDfp(singularCardanAngle[j]),field.newDfp(0.3));
        try {
          r.getAngles(CardanOrders[i],convention);
          Assert.fail("an exception should have been caught");
        }
 catch (        CardanEulerSingularityException cese) {
        }
      }
    }
    RotationOrder[] EulerOrders={RotationOrder.XYX,RotationOrder.XZX,RotationOrder.YXY,RotationOrder.YZY,RotationOrder.ZXZ,RotationOrder.ZYZ};
    double[] singularEulerAngle={0,FastMath.PI};
    for (int i=0; i < EulerOrders.length; ++i) {
      for (int j=0; j < singularEulerAngle.length; ++j) {
        FieldRotation<Dfp> r=new FieldRotation<Dfp>(EulerOrders[i],convention,field.newDfp(0.1),field.newDfp(singularEulerAngle[j]),field.newDfp(0.3));
        try {
          r.getAngles(EulerOrders[i],convention);
          Assert.fail("an exception should have been caught");
        }
 catch (        CardanEulerSingularityException cese) {
        }
      }
    }
  }
}
