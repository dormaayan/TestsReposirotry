@Test public void testOnDistortedSine(){
  int numPoints=100;
  double[] xval=new double[numPoints];
  double[] yval=new double[numPoints];
  double xnoise=0.1;
  double ynoise=0.2;
  generateSineData(xval,yval,xnoise,ynoise);
  LoessInterpolator li=new LoessInterpolator(0.3,4,1e-12);
  double[] res=li.smooth(xval,yval);
  double noisyResidualSum=0;
  double fitResidualSum=0;
  for (int i=0; i < numPoints; ++i) {
    double expected=FastMath.sin(xval[i]);
    double noisy=yval[i];
    double fit=res[i];
    noisyResidualSum+=FastMath.pow(noisy - expected,2);
    fitResidualSum+=FastMath.pow(fit - expected,2);
  }
  Assert.assertTrue(fitResidualSum < noisyResidualSum);
}
