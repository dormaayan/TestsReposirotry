/** 
 * Make sure that permuted arrays do not hash to the same value.
 */
@Test public void testPermutedArrayHash(){
  double[] original=new double[10];
  double[] permuted=new double[10];
  RandomDataGenerator random=new RandomDataGenerator();
  for (int i=0; i < 10; i++) {
    final RealDistribution u=new UniformRealDistribution(i + 0.5,i + 0.75);
    original[i]=u.sample();
  }
  boolean isIdentity=true;
  do {
    int[] permutation=random.nextPermutation(10,10);
    for (int i=0; i < 10; i++) {
      if (i != permutation[i]) {
        isIdentity=false;
      }
      permuted[i]=original[permutation[i]];
    }
  }
 while (isIdentity);
  Assert.assertFalse(MathUtils.hash(original) == MathUtils.hash(permuted));
}
