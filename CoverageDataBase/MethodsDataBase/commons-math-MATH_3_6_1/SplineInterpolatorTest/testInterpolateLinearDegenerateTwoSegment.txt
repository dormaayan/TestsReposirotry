@Test public void testInterpolateLinearDegenerateTwoSegment(){
  double tolerance=1e-15;
  double x[]={0.0,0.5,1.0};
  double y[]={0.0,0.5,1.0};
  UnivariateInterpolator i=new SplineInterpolator();
  UnivariateFunction f=i.interpolate(x,y);
  verifyInterpolation(f,x,y);
  verifyConsistency((PolynomialSplineFunction)f,x);
  PolynomialFunction polynomials[]=((PolynomialSplineFunction)f).getPolynomials();
  double target[]={y[0],1d};
  TestUtils.assertEquals(polynomials[0].getCoefficients(),target,coefficientTolerance);
  target=new double[]{y[1],1d};
  TestUtils.assertEquals(polynomials[1].getCoefficients(),target,coefficientTolerance);
  Assert.assertEquals(0.0,f.value(0.0),tolerance);
  Assert.assertEquals(0.4,f.value(0.4),tolerance);
  Assert.assertEquals(1.0,f.value(1.0),tolerance);
}
