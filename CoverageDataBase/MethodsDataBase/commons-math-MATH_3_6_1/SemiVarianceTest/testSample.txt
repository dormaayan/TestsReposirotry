@Test public void testSample(){
  final double[] values={-2.0d,2.0d,4.0d,-2.0d,22.0d,11.0d,3.0d,14.0d,5.0d};
  final int length=values.length;
  final double mean=StatUtils.mean(values);
  final SemiVariance sv=new SemiVariance();
  final double downsideSemiVariance=sv.evaluate(values);
  Assert.assertEquals(TestUtils.sumSquareDev(new double[]{-2d,2d,4d,-2d,3d,5d},mean) / (length - 1),downsideSemiVariance,1E-14);
  sv.setVarianceDirection(SemiVariance.UPSIDE_VARIANCE);
  final double upsideSemiVariance=sv.evaluate(values);
  Assert.assertEquals(TestUtils.sumSquareDev(new double[]{22d,11d,14d},mean) / (length - 1),upsideSemiVariance,1E-14);
  Assert.assertEquals(StatUtils.variance(values),downsideSemiVariance + upsideSemiVariance,10e-12);
}
