/** 
 * Test of integrator for the sine function.
 */
@Test public void testSinFunction(){
  UnivariateFunction f=new Sin();
  UnivariateIntegrator integrator=new MidPointIntegrator();
  double min=0;
  double max=FastMath.PI;
  double expected=2;
  double tolerance=FastMath.abs(expected * integrator.getRelativeAccuracy());
  double result=integrator.integrate(Integer.MAX_VALUE,f,min,max);
  Assert.assertTrue(integrator.getEvaluations() < Integer.MAX_VALUE / 2);
  Assert.assertTrue(integrator.getIterations() < MidPointIntegrator.MIDPOINT_MAX_ITERATIONS_COUNT / 2);
  Assert.assertEquals(expected,result,tolerance);
  min=-FastMath.PI / 3;
  max=0;
  expected=-0.5;
  tolerance=FastMath.abs(expected * integrator.getRelativeAccuracy());
  result=integrator.integrate(Integer.MAX_VALUE,f,min,max);
  Assert.assertTrue(integrator.getEvaluations() < Integer.MAX_VALUE / 2);
  Assert.assertTrue(integrator.getIterations() < MidPointIntegrator.MIDPOINT_MAX_ITERATIONS_COUNT / 2);
  Assert.assertEquals(expected,result,tolerance);
}
