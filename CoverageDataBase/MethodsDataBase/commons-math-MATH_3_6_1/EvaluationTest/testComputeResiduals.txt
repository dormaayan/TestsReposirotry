@Test public void testComputeResiduals(){
  RealVector point=new ArrayRealVector(2);
  Evaluation evaluation=new LeastSquaresBuilder().target(new ArrayRealVector(new double[]{3,-1})).model(new MultivariateJacobianFunction(){
    public Pair<RealVector,RealMatrix> value(    RealVector point){
      return new Pair<RealVector,RealMatrix>(new ArrayRealVector(new double[]{1,2}),MatrixUtils.createRealIdentityMatrix(2));
    }
  }
).weight(MatrixUtils.createRealIdentityMatrix(2)).build().evaluate(point);
  Assert.assertArrayEquals(evaluation.getResiduals().toArray(),new double[]{2,-3},Precision.EPSILON);
}
