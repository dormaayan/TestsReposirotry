@Test public void testNaNs(){
  Max max=new Max();
  double nan=Double.NaN;
  Assert.assertEquals(3d,max.evaluate(new double[]{nan,2d,3d}),0);
  Assert.assertEquals(3d,max.evaluate(new double[]{1d,nan,3d}),0);
  Assert.assertEquals(2d,max.evaluate(new double[]{1d,2d,nan}),0);
  Assert.assertTrue(Double.isNaN(max.evaluate(new double[]{nan,nan,nan})));
}
