@Test public void testAggregateSpecialValues(){
  double[] totalSample={Double.POSITIVE_INFINITY,2,3,Double.NaN,5};
  double[][] subSamples={{Double.POSITIVE_INFINITY,2},{3},{Double.NaN},{5}};
  SummaryStatistics totalStats=new SummaryStatistics();
  for (int i=0; i < totalSample.length; i++) {
    totalStats.addValue(totalSample[i]);
  }
  SummaryStatistics[] subSampleStats=new SummaryStatistics[5];
  for (int i=0; i < 4; i++) {
    subSampleStats[i]=new SummaryStatistics();
  }
  Collection<SummaryStatistics> aggregate=new ArrayList<SummaryStatistics>();
  for (int i=0; i < 4; i++) {
    for (int j=0; j < subSamples[i].length; j++) {
      subSampleStats[i].addValue(subSamples[i][j]);
    }
    aggregate.add(subSampleStats[i]);
  }
  StatisticalSummaryValues aggregatedStats=AggregateSummaryStatistics.aggregate(aggregate);
  assertEquals(totalStats.getSummary(),aggregatedStats,10E-12);
}
