@Test public void testCompareToMaxUlps(){
  double a=152.32;
  double delta=FastMath.ulp(a);
  for (int i=0; i <= 10; ++i) {
    if (i <= 5) {
      Assert.assertEquals(0,Precision.compareTo(a,a + i * delta,5));
      Assert.assertEquals(0,Precision.compareTo(a,a - i * delta,5));
    }
 else {
      Assert.assertEquals(-1,Precision.compareTo(a,a + i * delta,5));
      Assert.assertEquals(+1,Precision.compareTo(a,a - i * delta,5));
    }
  }
  Assert.assertEquals(0,Precision.compareTo(-0.0,0.0,0));
  Assert.assertEquals(-1,Precision.compareTo(-Double.MIN_VALUE,-0.0,0));
  Assert.assertEquals(0,Precision.compareTo(-Double.MIN_VALUE,-0.0,1));
  Assert.assertEquals(-1,Precision.compareTo(-Double.MIN_VALUE,+0.0,0));
  Assert.assertEquals(0,Precision.compareTo(-Double.MIN_VALUE,+0.0,1));
  Assert.assertEquals(+1,Precision.compareTo(Double.MIN_VALUE,-0.0,0));
  Assert.assertEquals(0,Precision.compareTo(Double.MIN_VALUE,-0.0,1));
  Assert.assertEquals(+1,Precision.compareTo(Double.MIN_VALUE,+0.0,0));
  Assert.assertEquals(0,Precision.compareTo(Double.MIN_VALUE,+0.0,1));
  Assert.assertEquals(-1,Precision.compareTo(-Double.MIN_VALUE,Double.MIN_VALUE,0));
  Assert.assertEquals(-1,Precision.compareTo(-Double.MIN_VALUE,Double.MIN_VALUE,1));
  Assert.assertEquals(0,Precision.compareTo(-Double.MIN_VALUE,Double.MIN_VALUE,2));
  Assert.assertEquals(0,Precision.compareTo(Double.MAX_VALUE,Double.POSITIVE_INFINITY,1));
  Assert.assertEquals(-1,Precision.compareTo(Double.MAX_VALUE,Double.POSITIVE_INFINITY,0));
  Assert.assertEquals(+1,Precision.compareTo(Double.MAX_VALUE,Double.NaN,Integer.MAX_VALUE));
  Assert.assertEquals(+1,Precision.compareTo(Double.NaN,Double.MAX_VALUE,Integer.MAX_VALUE));
}
