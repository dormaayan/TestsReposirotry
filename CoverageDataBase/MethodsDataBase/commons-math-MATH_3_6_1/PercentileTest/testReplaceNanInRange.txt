@Test public void testReplaceNanInRange(){
  final double[] specialValues=new double[]{0d,1d,2d,3d,4d,Double.NaN,Double.NaN,5d,7d,Double.NaN,8d};
  Assert.assertEquals(3.5,new Percentile(50d).evaluate(specialValues),0d);
  reset(50,Percentile.EstimationType.R_1);
  Assert.assertEquals(3d,getUnivariateStatistic().evaluate(specialValues),0d);
  reset(50,Percentile.EstimationType.R_2);
  Assert.assertEquals(3.5d,getUnivariateStatistic().evaluate(specialValues),0d);
  Assert.assertEquals(Double.POSITIVE_INFINITY,new Percentile(70).withNaNStrategy(NaNStrategy.MAXIMAL).evaluate(specialValues),0d);
}
