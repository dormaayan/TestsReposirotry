/** 
 * The whole vector is visited. 
 */
@Test public void testWalkInDefaultOrderChangingVisitor1(){
  final Fraction[] data=new Fraction[]{Fraction.ZERO,Fraction.ONE,Fraction.ZERO,Fraction.ZERO,Fraction.TWO,Fraction.ZERO,Fraction.ZERO,Fraction.ZERO,new Fraction(3)};
  final ArrayFieldVector<Fraction> v=new ArrayFieldVector<Fraction>(data);
  final FieldVectorChangingVisitor<Fraction> visitor;
  visitor=new FieldVectorChangingVisitor<Fraction>(){
    private int expectedIndex;
    public Fraction visit(    final int actualIndex,    final Fraction actualValue){
      Assert.assertEquals(expectedIndex,actualIndex);
      Assert.assertEquals(Integer.toString(actualIndex),data[actualIndex],actualValue);
      ++expectedIndex;
      return actualValue.add(actualIndex);
    }
    public void start(    final int actualSize,    final int actualStart,    final int actualEnd){
      Assert.assertEquals(data.length,actualSize);
      Assert.assertEquals(0,actualStart);
      Assert.assertEquals(data.length - 1,actualEnd);
      expectedIndex=0;
    }
    public Fraction end(){
      return Fraction.ZERO;
    }
  }
;
  v.walkInDefaultOrder(visitor);
  for (int i=0; i < data.length; i++) {
    Assert.assertEquals("entry " + i,data[i].add(i),v.getEntry(i));
  }
}
