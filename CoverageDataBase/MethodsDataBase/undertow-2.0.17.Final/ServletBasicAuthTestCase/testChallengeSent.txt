@Test public void testChallengeSent() throws Exception {
  TestHttpClient client=new TestHttpClient();
  String url=DefaultServer.getDefaultServerURL() + "/servletContext/secured/username";
  HttpGet get=new HttpGet(url);
  HttpResponse result=client.execute(get);
  HttpClientUtils.readResponse(result);
  assertEquals(StatusCodes.UNAUTHORIZED,result.getStatusLine().getStatusCode());
  Header[] values=result.getHeaders(WWW_AUTHENTICATE.toString());
  assertEquals(1,values.length);
  String value=values[0].getValue();
  assertTrue(value.startsWith("Basic"));
}
