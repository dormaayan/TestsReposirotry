@Test public void testDeny() throws Exception {
  TestHttpClient client=new TestHttpClient();
  final String url=DefaultServer.getDefaultServerURL() + "/servletContext/deny";
  try {
    HttpGet initialGet=new HttpGet(url);
    initialGet.addHeader("ExpectedMechanism","None");
    initialGet.addHeader("ExpectedUser","None");
    HttpResponse result=client.execute(initialGet);
    assertEquals(StatusCodes.FORBIDDEN,result.getStatusLine().getStatusCode());
  }
  finally {
    client.getConnectionManager().shutdown();
  }
}
