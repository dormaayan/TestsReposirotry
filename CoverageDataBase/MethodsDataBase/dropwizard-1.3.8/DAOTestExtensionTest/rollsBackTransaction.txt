@Test public void rollsBackTransaction(){
  final TestEntity testEntity=new TestEntity("junit 5 description");
  daoTestExtension.inTransaction(() -> persist(testEntity));
  testEntity.setDescription("newDescription");
  try {
    daoTestExtension.inTransaction(() -> {
      persist(testEntity);
      persist(new TestEntity(null));
    }
);
    failBecauseExceptionWasNotThrown(ConstraintViolationException.class);
  }
 catch (  ConstraintViolationException ignoredException) {
    final TestEntity sameTestEntity=get(testEntity.getId());
    assertThat(sameTestEntity.getDescription()).isEqualTo("junit 5 description");
  }
}
