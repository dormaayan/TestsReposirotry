@Test public void testRun() throws Exception {
  final TestMigrationConfiguration conf=createConfiguration(getDatabaseUrl());
  final DbMigrateCommand<TestMigrationConfiguration> dbMigrateCommand=new DbMigrateCommand<>(new TestMigrationDatabaseConfiguration(),TestMigrationConfiguration.class,migrationsFileName);
  dbMigrateCommand.run(null,new Namespace(ImmutableMap.of()),conf);
  dbTagCommand.run(null,new Namespace(ImmutableMap.of("tag-name",ImmutableList.of("v1"))),conf);
  try (CloseableLiquibase liquibase=dbTagCommand.openLiquibase(conf.getDataSource(),new Namespace(ImmutableMap.of()))){
    assertThat(liquibase.tagExists("v1")).isTrue();
  }
 }
