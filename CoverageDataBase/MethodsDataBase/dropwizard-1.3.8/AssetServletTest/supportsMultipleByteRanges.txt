@Test public void supportsMultipleByteRanges() throws Exception {
  request.setURI(ROOT_SERVLET + "assets/example.txt");
  request.setHeader(HttpHeaders.RANGE,"bytes=0-0,-1");
  response=HttpTester.parseResponse(SERVLET_TESTER.getResponses(request.generate()));
  assertThat(response.getStatus()).isEqualTo(206);
  assertThat(response.getContent()).isEqualTo("HE");
  assertThat(response.get(HttpHeaders.ACCEPT_RANGES)).isEqualTo("bytes");
  assertThat(response.get(HttpHeaders.CONTENT_RANGE)).isEqualTo("bytes 0-0,10-10/11");
  assertThat(response.get(HttpHeaders.CONTENT_LENGTH)).isEqualTo("2");
  request.setHeader(HttpHeaders.RANGE,"bytes=5-6,7-10");
  response=HttpTester.parseResponse(SERVLET_TESTER.getResponses(request.generate()));
  assertThat(response.getStatus()).isEqualTo(206);
  assertThat(response.getContent()).isEqualTo(" THERE");
  assertThat(response.get(HttpHeaders.ACCEPT_RANGES)).isEqualTo("bytes");
  assertThat(response.get(HttpHeaders.CONTENT_RANGE)).isEqualTo("bytes 5-6,7-10/11");
  assertThat(response.get(HttpHeaders.CONTENT_LENGTH)).isEqualTo("6");
}
