@Test public void supportsFinalByteRange() throws Exception {
  request.setURI(ROOT_SERVLET + "assets/example.txt");
  request.setHeader(HttpHeaders.RANGE,"bytes=10-10");
  response=HttpTester.parseResponse(SERVLET_TESTER.getResponses(request.generate()));
  assertThat(response.getStatus()).isEqualTo(206);
  assertThat(response.getContent()).isEqualTo("E");
  assertThat(response.get(HttpHeaders.ACCEPT_RANGES)).isEqualTo("bytes");
  assertThat(response.get(HttpHeaders.CONTENT_RANGE)).isEqualTo("bytes 10-10/11");
  assertThat(response.get(HttpHeaders.CONTENT_LENGTH)).isEqualTo("1");
  request.setHeader(HttpHeaders.RANGE,"bytes=-1");
  response=HttpTester.parseResponse(SERVLET_TESTER.getResponses(request.generate()));
  assertThat(response.getStatus()).isEqualTo(206);
  assertThat(response.getContent()).isEqualTo("E");
  assertThat(response.get(HttpHeaders.ACCEPT_RANGES)).isEqualTo("bytes");
  assertThat(response.get(HttpHeaders.CONTENT_RANGE)).isEqualTo("bytes 10-10/11");
  assertThat(response.get(HttpHeaders.CONTENT_LENGTH)).isEqualTo("1");
}
