@Test @SuppressWarnings("ResultOfObjectAllocationIgnored") public void aNonIntegerThrowsAnException() throws Exception {
  try {
    new IntParam("foo");
    failBecauseExceptionWasNotThrown(WebApplicationException.class);
  }
 catch (  WebApplicationException e) {
    final Response response=e.getResponse();
    assertThat(response.getStatus()).isEqualTo(400);
    ErrorMessage entity=(ErrorMessage)response.getEntity();
    assertThat(entity.getCode()).isEqualTo(400);
    assertThat(entity.getMessage()).isEqualTo("Parameter is not a number.");
  }
}
