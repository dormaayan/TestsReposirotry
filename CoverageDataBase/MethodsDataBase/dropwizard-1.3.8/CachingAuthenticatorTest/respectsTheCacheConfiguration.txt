@Test public void respectsTheCacheConfiguration() throws Exception {
  cached.authenticate("credentials1");
  cached.authenticate("credentials2");
  cached.authenticate("credentials1");
  final InOrder inOrder=inOrder(underlying);
  inOrder.verify(underlying,times(1)).authenticate("credentials1");
  inOrder.verify(underlying,times(1)).authenticate("credentials2");
  inOrder.verify(underlying,times(1)).authenticate("credentials1");
}
