@Test public void setsBaseResourceList() throws Exception {
  Resource wooResource=Resource.newResource(tempDir.newFolder());
  Resource fooResource=Resource.newResource(tempDir.newFolder());
  final Resource[] testResources=new Resource[]{wooResource,fooResource};
  environment.setBaseResource(testResources);
  ArgumentCaptor<Resource> captor=ArgumentCaptor.forClass(Resource.class);
  verify(handler).setBaseResource(captor.capture());
  Resource actualResource=captor.getValue();
  assertThat(actualResource).isInstanceOf(ResourceCollection.class);
  ResourceCollection actualResourceCollection=(ResourceCollection)actualResource;
  assertThat(actualResourceCollection.getResources()).contains(wooResource,fooResource);
}
