@Test public void hasArchivedLogFilenamePattern() throws Exception {
  FileAppenderFactory fileAppenderFactory=new FileAppenderFactory();
  fileAppenderFactory.setCurrentLogFilename(folder.newFile("logfile.log").toString());
  ImmutableList<String> errors=ConstraintViolations.format(validator.validate(fileAppenderFactory));
  assertThat(errors).containsOnly("must have archivedLogFilenamePattern if archive is true");
  fileAppenderFactory.setArchive(false);
  errors=ConstraintViolations.format(validator.validate(fileAppenderFactory));
  assertThat(errors).isEmpty();
}
