@Test public void throwsAnExceptionOnInvalidFiles() throws Exception {
  try {
    factory.build(invalidFile);
    failBecauseExceptionWasNotThrown(ConfigurationValidationException.class);
  }
 catch (  ConfigurationValidationException e) {
    if ("en".equals(Locale.getDefault().getLanguage())) {
      assertThat(e.getMessage()).endsWith(String.format("%s has an error:%n" + "  * name must match \"[\\w]+[\\s]+[\\w]+([\\s][\\w]+)?\"%n",invalidFile.getName()));
    }
  }
}
