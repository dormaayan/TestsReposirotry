@Test public void testParseFullConfiguration() throws Exception {
  HttpConnectorFactory http=new YamlConfigurationFactory<>(HttpConnectorFactory.class,validator,objectMapper,"dw").build(new File(Resources.getResource("yaml/http-connector.yml").toURI()));
  assertThat(http.getPort()).isEqualTo(9090);
  assertThat(http.getBindHost()).isEqualTo("127.0.0.1");
  assertThat(http.isInheritChannel()).isEqualTo(true);
  assertThat(http.getHeaderCacheSize()).isEqualTo(Size.bytes(256));
  assertThat(http.getOutputBufferSize()).isEqualTo(Size.kilobytes(128));
  assertThat(http.getMaxRequestHeaderSize()).isEqualTo(Size.kilobytes(4));
  assertThat(http.getMaxResponseHeaderSize()).isEqualTo(Size.kilobytes(4));
  assertThat(http.getInputBufferSize()).isEqualTo(Size.kilobytes(4));
  assertThat(http.getIdleTimeout()).isEqualTo(Duration.seconds(10));
  assertThat(http.getMinBufferPoolSize()).isEqualTo(Size.bytes(128));
  assertThat(http.getBufferPoolIncrement()).isEqualTo(Size.bytes(500));
  assertThat(http.getMaxBufferPoolSize()).isEqualTo(Size.kilobytes(32));
  assertThat(http.getMinRequestDataRate()).isEqualTo(42L);
  assertThat(http.getAcceptorThreads()).contains(1);
  assertThat(http.getSelectorThreads()).contains(4);
  assertThat(http.getAcceptQueueSize()).isEqualTo(1024);
  assertThat(http.isReuseAddress()).isFalse();
  assertThat(http.getSoLingerTime()).isEqualTo(Duration.seconds(30));
  assertThat(http.isUseServerHeader()).isTrue();
  assertThat(http.isUseDateHeader()).isFalse();
  assertThat(http.isUseForwardedHeaders()).isFalse();
  assertThat(http.getBlockingTimeout()).isEqualTo(Duration.seconds(30));
  assertThat(http.getHttpCompliance()).isEqualTo(HttpCompliance.RFC2616);
}
