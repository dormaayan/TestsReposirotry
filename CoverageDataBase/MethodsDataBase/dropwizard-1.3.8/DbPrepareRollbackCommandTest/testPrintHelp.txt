@Test public void testPrintHelp() throws Exception {
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  createSubparser(prepareRollbackCommand).printHelp(new PrintWriter(new OutputStreamWriter(out,UTF_8),true));
  assertThat(out.toString(UTF_8)).isEqualTo(String.format("usage: db prepare-rollback [-h] [--migrations MIGRATIONS-FILE]%n" + "          [--catalog CATALOG] [--schema SCHEMA] [-c COUNT] [-i CONTEXTS]%n" + "          [file]%n"+ "%n"+ "Generate rollback DDL scripts for pending change sets.%n"+ "%n"+ "positional arguments:%n"+ "  file                   application configuration file%n"+ "%n"+ "named arguments:%n"+ "  -h, --help             show this help message and exit%n"+ "  --migrations MIGRATIONS-FILE%n"+ "                         the file containing  the  Liquibase migrations for%n"+ "                         the application%n"+ "  --catalog CATALOG      Specify  the   database   catalog   (use  database%n"+ "                         default if omitted)%n"+ "  --schema SCHEMA        Specify the database schema  (use database default%n"+ "                         if omitted)%n"+ "  -c COUNT, --count COUNT%n"+ "                         limit script to  the  specified  number of pending%n"+ "                         change sets%n"+ "  -i CONTEXTS, --include CONTEXTS%n"+ "                         include change sets from the given context%n"));
}
