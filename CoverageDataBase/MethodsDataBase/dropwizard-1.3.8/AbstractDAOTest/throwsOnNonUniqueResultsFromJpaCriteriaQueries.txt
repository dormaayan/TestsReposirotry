@Test(expected=NonUniqueResultException.class) public void throwsOnNonUniqueResultsFromJpaCriteriaQueries() throws Exception {
  when(session.createQuery(criteriaQuery)).thenReturn(query);
  when(query.getResultList()).thenReturn(ImmutableList.of("woo","boo"));
  dao.uniqueResult(criteriaQuery);
}
