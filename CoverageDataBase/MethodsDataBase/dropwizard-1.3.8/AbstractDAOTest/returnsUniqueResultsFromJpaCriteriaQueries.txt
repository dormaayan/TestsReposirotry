@Test public void returnsUniqueResultsFromJpaCriteriaQueries() throws Exception {
  when(session.createQuery(criteriaQuery)).thenReturn(query);
  when(query.getResultList()).thenReturn(ImmutableList.of("woo"));
  assertThat(dao.uniqueResult(criteriaQuery)).isEqualTo("woo");
}
