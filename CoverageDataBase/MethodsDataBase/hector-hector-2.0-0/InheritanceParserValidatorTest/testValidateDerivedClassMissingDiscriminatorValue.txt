@Test(expected=HectorObjectMapperException.class) public void testValidateDerivedClassMissingDiscriminatorValue(){
  ClassCacheMgr cacheMgr=new ClassCacheMgr();
  CFMappingDef<MyTestBean> cfBaseMapDef=new CFMappingDef<MyTestBean>(MyTestBean.class);
  cfBaseMapDef.setInheritanceType(InheritanceType.SINGLE_TABLE);
  cfBaseMapDef.setDiscColumn("myType");
  CFMappingDef<MyBlueTestBean> cfMapDef=new CFMappingDef<MyBlueTestBean>(MyBlueTestBean.class);
  cfMapDef.setCfSuperMapDef(cfBaseMapDef);
  cfMapDef.setCfBaseMapDef(cfBaseMapDef);
  InheritanceParserValidator val=new InheritanceParserValidator();
  val.validateAndSetDefaults(cacheMgr,cfMapDef);
  fail("should have reported missing discriminator value annotation");
}
