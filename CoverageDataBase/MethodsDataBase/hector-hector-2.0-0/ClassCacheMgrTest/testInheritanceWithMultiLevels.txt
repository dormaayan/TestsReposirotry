@Test public void testInheritanceWithMultiLevels(){
  ClassCacheMgr cacheMgr=new ClassCacheMgr();
  CFMappingDef<Desk> cfMapDef=cacheMgr.initializeCacheForClass(Desk.class);
  CFMappingDef<Furniture> cfBaseMapDef=cacheMgr.getCfMapDef(Furniture.class,true);
  assertEquals(7,cfMapDef.getAllProperties().size());
  assertNotNull(cfMapDef.getCfSuperMapDef());
  assertNotNull(cfMapDef.getCfBaseMapDef());
  assertEquals(Desk.class.getSuperclass(),cfMapDef.getCfSuperMapDef().getEffectiveClass());
  assertEquals(Desk.class.getSuperclass().getSuperclass(),cfMapDef.getCfSuperMapDef().getCfSuperMapDef().getEffectiveClass());
  assertEquals(cfBaseMapDef.getEffectiveColFamName(),cfMapDef.getEffectiveColFamName());
  assertEquals("type",cfMapDef.getDiscColumn());
  assertEquals("table_desk",cfMapDef.getDiscValue());
  assertEquals(DiscriminatorType.STRING,cfMapDef.getDiscType());
  assertEquals("id",cfMapDef.getKeyDef().getIdPropertyMap().values().iterator().next().getPropDesc().getName());
}
