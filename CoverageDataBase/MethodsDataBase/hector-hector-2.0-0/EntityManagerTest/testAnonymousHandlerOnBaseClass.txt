@Test public void testAnonymousHandlerOnBaseClass(){
  EntityManagerImpl em=new EntityManagerImpl(keyspace,"me.prettyprint.hom.beans");
  MyRedTestBean b1=new MyRedTestBean();
  b1.setBaseId(UUID.randomUUID());
  b1.addAnonymousProp("one","1");
  b1.addAnonymousProp("two","2");
  b1.addAnonymousProp("three","3");
  em.persist(b1);
  MyRedTestBean b2=em.find(MyRedTestBean.class,b1.getBaseId());
  assertEquals(b1.getBaseId(),b2.getBaseId());
  assertEquals(b1.getAnonymousProps().size(),b2.getAnonymousProps().size());
  for (  Entry<String,String> entry : b1.getAnonymousProps()) {
    assertTrue("anonymous prop is in b1, but not b2",b2.getAnonymousProps().contains(entry));
  }
}
