@Test public void testPersistAndFindComplexType(){
  EntityManagerImpl em=new EntityManagerImpl(keyspace,"me.prettyprint.hom.beans");
  MyCompositePK pkKey=new MyCompositePK(1,"str-prop");
  MyComplexEntity entity1=new MyComplexEntity();
  entity1.setIntProp1(pkKey.getIntProp1());
  entity1.setStrProp1(pkKey.getStrProp1());
  entity1.setStrProp2("str-prop-two");
  entity1.setDrawer(new Drawer(true,false,"a very nice drawer"));
  em.persist(entity1);
  MyComplexEntity entity2=em.find(MyComplexEntity.class,pkKey);
  assertEquals(entity1.getIntProp1(),entity2.getIntProp1());
  assertEquals(entity1.getStrProp1(),entity2.getStrProp1());
  assertEquals(entity1.getStrProp2(),entity2.getStrProp2());
  assertEquals(entity1.getDrawer(),entity2.getDrawer());
}
