/** 
 * Happy path test, when a valid CORS Pre-flight request arrives.
 * @throws ServletException
 */
@Test public void testCheckPreFlightRequestTypeNoHeaders() throws ServletException {
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setHeader(CORSFilter.REQUEST_HEADER_ORIGIN,TestConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CORSFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setMethod("OPTIONS");
  CORSFilter corsFilter=new CORSFilter();
  corsFilter.init(TestConfigs.getDefaultFilterConfig());
  CORSFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CORSFilter.CORSRequestType.PRE_FLIGHT,requestType);
}
