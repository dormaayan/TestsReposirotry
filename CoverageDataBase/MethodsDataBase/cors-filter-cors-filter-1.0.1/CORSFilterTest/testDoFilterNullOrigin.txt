/** 
 * Negative test, when a CORS request arrives, with a null origin.
 */
@Test public void testDoFilterNullOrigin() throws IOException, ServletException {
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  MockHttpServletResponse response=new MockHttpServletResponse();
  CORSFilter corsFilter=new CORSFilter();
  corsFilter.init(TestConfigs.getDefaultFilterConfig());
  CORSFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CORSFilter.CORSRequestType.NOT_CORS,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertFalse((Boolean)request.getAttribute(CORSFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST));
}
